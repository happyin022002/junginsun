<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CSRIssueTransferSlipManageDBDAOCheckHoldInvoiceRSQL">
			<desc><![CDATA[CheckHoldInvoice]]></desc>
			<sql><![CDATA[
SELECT NVL(TRS_JOIN_FNC(CURSOR (SELECT INV_NO
                           FROM TRS_TRSP_INV_WRK
                          WHERE 1 = 1
							#if($inv_no.size() > 0) 
							  AND INV_NO IN (
								#foreach($key IN ${inv_no})  
									#if($velocityCount == 1) 
										'$key'
									#else  
										,'$key'
									#end
								#end 
								)
							#end
							#if($inv_vndr_seq.size() > 0) 
							  AND INV_VNDR_SEQ IN (
								#foreach($key IN ${inv_vndr_seq})  
									#if($velocityCount == 1) 
										'$key'
									#else  
										,'$key'
									#end
								#end 
								)
							#end
                            AND NVL(INV_HLD_FLG, 'N') = 'Y'
                         UNION ALL
                         SELECT INV_NO
                           FROM TRS_TRSP_RAIL_INV_WRK
                          WHERE 1 = 1
							#if($inv_no.size() > 0) 
							  AND INV_NO IN (
								#foreach($key IN ${inv_no})  
									#if($velocityCount == 1) 
										'$key'
									#else  
										,'$key'
									#end
								#end 
								)
							#end
							#if($inv_vndr_seq.size() > 0) 
							  AND INV_VNDR_SEQ IN (
								#foreach($key IN ${inv_vndr_seq})  
									#if($velocityCount == 1) 
										'$key'
									#else  
										,'$key'
									#end
								#end 
								)
							#end
                            AND NVL(INV_HLD_FLG, 'N') = 'Y')),
           'N') AS HOLD_INV_NO
  FROM DUAL			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
