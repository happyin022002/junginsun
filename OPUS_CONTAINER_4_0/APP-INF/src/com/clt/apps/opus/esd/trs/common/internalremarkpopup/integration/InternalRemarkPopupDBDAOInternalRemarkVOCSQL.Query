<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InternalRemarkPopupDBDAOInternalRemarkVOCSQL">
			<desc><![CDATA[Create New Internal Remark]]></desc>
			<sql><![CDATA[
INSERT INTO 
TRS_INTER_RMK(
	BKG_NO
   ,INTER_RMK_SEQ
   ,EQ_NO
   ,TRSP_SO_OFC_CTY_CD
   ,TRSP_SO_SEQ
   ,TRSP_WO_OFC_CTY_CD
   ,TRSP_WO_SEQ
   ,INTER_RMK_CTNT
   ,DELT_FLG
   ,CRE_USR_ID
   ,CRE_DT
   ,UPD_USR_ID
   ,UPD_DT
   ,INTER_RMK_CD
   ,CRE_OFC_CD
   ,LOCL_CRE_DT
   ,LOCL_UPD_DT
)
VALUES(
	NVL(@[bkg_no], 'DUM000000000')
   ,NVL((SELECT /*+ index_desc(TRS_INTER_RMK XPKTRS_INTER_RMK) +*/   
            INTER_RMK_SEQ
            FROM TRS_INTER_RMK
            WHERE 1=1
			  AND BKG_NO = NVL(@[bkg_no], 'DUM000000000')
			  AND ROWNUM = 1), 0) + 1

#if (${eq_no} != '')
   ,@[eq_no]
#else
   ,''
#end

#if (${so_no} != '')
   ,SUBSTR(@[so_no], 0, 3)
   ,SUBSTR(@[so_no], 4)
#else
   ,''
   ,''
#end

#if (${wo_no} != '')
   ,SUBSTR(@[wo_no], 0, 3)
   ,SUBSTR(@[wo_no], 4)
#else
   ,''
   ,''
#end
   ,@[inter_rmk]
   ,'N'
   ,@[usr_id]
   ,SYSDATE
   ,@[usr_id]
   ,SYSDATE
   ,DECODE(@[inter_rmk_cd], 'BKG', 'B', 'T')
   ,@[ofc_cd]
   ,GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd])
   ,GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd])
)			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="eq_no" type="12" value="" out="N"/>
				<param name="so_no" type="12" value="" out="N"/>
				<param name="wo_no" type="12" value="" out="N"/>
				<param name="inter_rmk" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="inter_rmk_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
