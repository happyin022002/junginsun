<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OndockRailChargeInvoiceManageDBDAOSearchRehandlingVolumeRSQL">
			<desc><![CDATA[SearchRehandlingVolume]]></desc>
			<sql><![CDATA[
SELECT CD.CNTR_NO,
	   CD.SHIFT_RSN		RHND_RSN_CD,
	   '' RHND_RSN_CNTR_NO,
	   RL.CNTR_TPSZ_CD,
	   DECODE(RL.CNTR_NO, NULL, '0','1') CHK
FROM   TDR_CNTR_DETAIL CD, TES_TML_SO_RVIS_LIST RL
WHERE  CD.RHND_TP_CD = 'RE'
AND    CD.VSL_CD     = SUBSTR(@[vvd],1,4)
AND    CD.VOY_NO = SUBSTR(@[vvd],5,4)
AND    CD.DIR_CD = SUBSTR(@[vvd],9,1)
AND    CD.PORT_CD = SUBSTR(@[yd_cd],1,5)
AND    CD.VSL_CD     = RL.VSL_CD(+)
AND    CD.VOY_NO = RL.SKD_VOY_NO(+)
AND    CD.DIR_CD = RL.SKD_DIR_CD(+)
AND    CD.CNTR_NO = RL.CNTR_NO(+)
--AND    CD.CNTR_TPSZ_CD = RL.CNTR_TPSZ_CD(+)
AND    @[tml_so_seq] = RL.TML_SO_SEQ(+)
AND    @[tml_so_ofc_cty_cd] = RL.TML_SO_OFC_CTY_CD(+)
AND    @[lgs_cost_cd] = RL.LGS_COST_CD(+)
AND    DECODE(NVL(@[tml_so_dtl_seq],0),'0','X',NVL(@[tml_so_dtl_seq],0)) = RL.TML_SO_DTL_SEQ(+)
ORDER BY CHK DESC
			]]></sql>
			<params>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="tml_so_seq" type="12" value="" out="N"/>
				<param name="tml_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="lgs_cost_cd" type="12" value="" out="N"/>
				<param name="tml_so_dtl_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
