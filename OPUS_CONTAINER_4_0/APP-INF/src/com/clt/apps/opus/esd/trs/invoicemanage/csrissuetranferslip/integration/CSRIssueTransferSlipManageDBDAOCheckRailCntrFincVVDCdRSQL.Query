<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CSRIssueTransferSlipManageDBDAOCheckRailCntrFincVVDCdRSQL">
			<desc><![CDATA[Rail 재무 항차 정보 조회]]></desc>
			<sql><![CDATA[
SELECT NVL((SELECT REV.VSL_CD || REV.SKD_VOY_NO || REV.SKD_DIR_CD || REV.RLANE_DIR_CD
               FROM TRS_TRSP_RAIL_BIL_ORD SVC
                   ,AR_MST_REV_VVD        REV
              WHERE NVL(SVC.VSL_CD, 'N') = REV.VSL_CD
                AND NVL(SVC.SKD_VOY_NO, 'N') = REV.SKD_VOY_NO
                AND NVL(SVC.SKD_DIR_CD, 'N') = REV.SKD_DIR_CD
                AND NVL(SVC.SLAN_CD, 'N') = REV.SLAN_CD
                AND SVC.TRSP_SO_OFC_CTY_CD = D.TRSP_SO_OFC_CTY_CD
                AND SVC.TRSP_SO_SEQ = D.TRSP_SO_SEQ),
           'CNTC' || SUBSTR(TRS_GET_GL_DT_FNC('', @[AP_OFC_CD], @[INV_DT], '15'), 3, 4) || 'MM') AS RAIL_FINC_VVD_CD
  FROM TRS_TRSP_RAIL_INV_DTL D
 WHERE D.INV_VNDR_SEQ = @[INV_VNDR_SEQ]

#if ($INV_NO.size() > 0)
  AND D.INV_NO IN	(
		#foreach( ${key} in ${INV_NO}) 
			#if($velocityCount < $INV_NO.size()) 
				'$key', 
			#else 
				'$key' 
			#end 
		#end
	)
#end			]]></sql>
			<params>
				<param name="AP_OFC_CD" type="12" value="" out="N"/>
				<param name="INV_DT" type="12" value="" out="N"/>
				<param name="INV_VNDR_SEQ" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
