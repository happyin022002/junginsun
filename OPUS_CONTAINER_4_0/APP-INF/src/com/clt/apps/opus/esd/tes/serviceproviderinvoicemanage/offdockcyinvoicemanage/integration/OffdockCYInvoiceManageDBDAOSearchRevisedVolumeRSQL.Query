<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OffdockCYInvoiceManageDBDAOSearchRevisedVolumeRSQL">
			<desc><![CDATA[SearchRevisedVolume]]></desc>
			<sql><![CDATA[
SELECT A.*
FROM (
	SELECT
	   DECODE(NVL(L.TML_RVIS_IND_FLG,'N'),'Y','1','0') TML_RVIS_IND_FLG,
	   L.TML_SO_OFC_CTY_CD,                                      
	   L.TML_SO_SEQ,                                             
	   L.TML_SO_CNTR_LIST_SEQ,                                   
	   L.CNTR_NO,                                                
	   L.CNTR_TPSZ_CD,                                           
	   L.CNTR_STY_CD,                                            
	   L.IO_BND_CD,                                              
	   --DECODE(L.CNTR_STY_CD,'F','TMFDFL','TMFDMT') LGS_COST_CD,  
       DECODE(H.TML_ODCK_FLG,'Y',DECODE(L.CNTR_STY_CD,'F','TMNDFL','TMNDMT'),DECODE(L.CNTR_STY_CD,'F','TMFDFL','TMFDMT')) LGS_COST_CD,
	   L.BL_NO,                                                  
	   L.AWK_CGO_FLG,                                            
	   L.RC_FLG,                                                 
	   L.DCGO_CLSS_CD,                                           
	   L.CNTR_RMK                                                
	FROM TES_TML_SO_HDR H, TES_TML_SO_CNTR_LIST L                
	WHERE 1=1                                                    
	AND H.TML_SO_OFC_CTY_CD = L.TML_SO_OFC_CTY_CD                
	AND H.TML_SO_SEQ        = L.TML_SO_SEQ                       
	AND H.TML_SO_OFC_CTY_CD = @[tml_so_ofc_cty_cd]
	AND H.TML_SO_SEQ = @[tml_so_seq]
	AND L.VRFY_RSLT_IND_CD = 'CO'                                
	AND L.CNTR_TPSZ_CD = @[param_cntr_tpsz_cd]
	AND L.DCGO_CLSS_CD = @[param_dcgo_clss_cd]
	AND DECODE(L.RC_FLG,'Y','Y','N') = DECODE(@[param_rc_flg],'Y','Y','N')     
) A                                                            
WHERE 1=1                                                      
AND A.LGS_COST_CD = @[param_lgs_cost_cd]			]]></sql>
			<params>
				<param name="tml_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="tml_so_seq" type="12" value="" out="N"/>
				<param name="param_cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="param_dcgo_clss_cd" type="12" value="" out="N"/>
				<param name="param_rc_flg" type="12" value="" out="N"/>
				<param name="param_lgs_cost_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
