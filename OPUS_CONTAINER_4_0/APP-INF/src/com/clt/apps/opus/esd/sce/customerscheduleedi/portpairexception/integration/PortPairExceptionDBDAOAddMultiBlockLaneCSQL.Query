<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PortPairExceptionDBDAOAddMultiBlockLaneCSQL">
			<desc><![CDATA[.]]></desc>
			<sql><![CDATA[
INSERT INTO SCE_CUST_EDI_BLCK
(
	ROUT_RCV_DT ,
	ROUT_SEQ    ,
	BLCK_SEQ    ,
	SLAN_CD     ,
	DELT_FLG    ,
	CRE_USR_ID  ,
	CRE_DT      ,
	UPD_USR_ID  ,
	UPD_DT
)
SELECT ROUT_RCV_DT, ROUT_SEQ, (SELECT NVL(MAX(B.BLCK_SEQ),0)
                                 FROM SCE_PORT_PAIR_DTL S, SCE_CUST_EDI_BLCK B
                                WHERE S.ROUT_RCV_DT = B.ROUT_RCV_DT
                                  AND S.ROUT_SEQ = B.ROUT_SEQ
                                  AND S.CUST_TRD_PRNR_ID = @[cust_trd_prnr_id]
                                  AND S.ORG_LOC_CD = @[pol_cd]
                                  AND S.DEST_LOC_CD = @[pod_cd]
                                )+rownum, 
       @[slan_cd], 'N', @[cre_usr_id], SYSDATE, @[upd_usr_id], SYSDATE
FROM SCE_PORT_PAIR_DTL SPR
WHERE SPR.CUST_TRD_PRNR_ID = @[cust_trd_prnr_id]
AND SPR.ORG_LOC_CD = @[pol_cd]
AND SPR.DEST_LOC_CD = @[pod_cd]			]]></sql>
			<params>
				<param name="cust_trd_prnr_id" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="slan_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
