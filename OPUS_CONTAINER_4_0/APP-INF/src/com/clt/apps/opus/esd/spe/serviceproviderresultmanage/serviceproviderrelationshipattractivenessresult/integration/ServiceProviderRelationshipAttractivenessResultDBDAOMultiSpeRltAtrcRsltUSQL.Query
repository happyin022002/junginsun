<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ServiceProviderRelationshipAttractivenessResultDBDAOMultiSpeRltAtrcRsltUSQL">
			<desc><![CDATA[RA 결과 Update]]></desc>
			<sql><![CDATA[
UPDATE SPE_RLT_ATRC_RSLT
	    SET   ATRC_TO_HJS_SCRE  = TO_NUMBER(@[atrc_to_hjs_scre])
	         , ATRC_TO_SP_SCRE   = TO_NUMBER(@[atrc_to_sp_scre])
	         , RA_SCRE           = ROUND(																											 
        	             				CASE                                              
        	             				WHEN @[ra_grp_cd] = 'HM' THEN  
        	             					SQRT(((TO_NUMBER(@[atrc_to_hjs_scre]) - 2.5)  * (TO_NUMBER(@[atrc_to_hjs_scre]) - 2.5)) + ((TO_NUMBER(@[atrc_to_sp_scre]) - 2.5)  * (TO_NUMBER(@[atrc_to_sp_scre]) - 2.5))) 
        	             				WHEN @[ra_grp_cd] = 'EX' THEN  
        	             					SQRT(((TO_NUMBER(@[atrc_to_hjs_scre]) - 2.5)  * (TO_NUMBER(@[atrc_to_hjs_scre]) - 2.5)) + ((TO_NUMBER(@[atrc_to_sp_scre]))  * (TO_NUMBER(@[atrc_to_sp_scre])))) 
        	             				WHEN @[ra_grp_cd] = 'DV' THEN   
        	             					SQRT((TO_NUMBER(@[atrc_to_hjs_scre])   * TO_NUMBER(@[atrc_to_hjs_scre]) ) + ((TO_NUMBER(@[atrc_to_sp_scre]) - 2.5)  * (TO_NUMBER(@[atrc_to_sp_scre]) - 2.5)))  
        	             				WHEN @[ra_grp_cd] = 'LM' THEN  
        	             					SQRT(((TO_NUMBER(@[atrc_to_hjs_scre]) )  * (TO_NUMBER(@[atrc_to_hjs_scre]) )) + ((TO_NUMBER(@[atrc_to_sp_scre]) )  * (TO_NUMBER(@[atrc_to_sp_scre]) )))  
        	             				END , 2)                                             
	         , RA_GRP_CD         = @[ra_grp_cd]
	         , RA_GRP_NM         = @[ra_grp_nm]
	         , UPD_USR_ID        = @[upd_usr_id]
	         , UPD_DT            = SYSDATE
WHERE VNDR_SEQ  = TO_NUMBER(@[vndr_seq])
  AND EV_YR     = @[ev_yr]			]]></sql>
			<params>
				<param name="atrc_to_hjs_scre" type="12" value="" out="N"/>
				<param name="atrc_to_sp_scre" type="12" value="" out="N"/>
				<param name="ra_grp_cd" type="12" value="" out="N"/>
				<param name="ra_grp_nm" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="ev_yr" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
