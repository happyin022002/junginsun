<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InvoiceAuditDBDAOSearchInvoiceImportWoRSQL">
			<desc><![CDATA[W/O번호로 S/O, W/O, Container정보를 조회]]></desc>
			<sql><![CDATA[
SELECT	                                        
	A.TRSP_SO_OFC_CTY_CD			
,	A.TRSP_SO_SEQ				
,	A.TRSP_WO_OFC_CTY_CD			
,	A.TRSP_WO_SEQ				
,	A.EQ_NO	                                
,	A.EQ_TPSZ_CD				
,	A.TRSP_SO_TP_CD				
,	A.TRSP_SO_STS_CD			
,	A.TRSP_INV_ACT_STS_CD			
,	A.CURR_CD                               
,  	(NVL(A.BZC_AMT, 0)+NVL(A.NEGO_AMT, 0)+NVL(A.FUEL_SCG_AMT, 0)+NVL(A.ETC_ADD_AMT, 0)) AS WO_TOT_AMT		
, 	A.INV_NO                                     
, 	A.INV_VNDR_SEQ				
, 	A.VNDR_SEQ                                   
, 	A.BZC_AMT                                    
, 	A.NEGO_AMT                                   
, 	A.FUEL_SCG_AMT				
, 	A.ETC_ADD_AMT				
, 	A.BKG_NO                                     			
, 	A.ORG_BKG_NO									
, 	A.TRSP_BND_CD				
, 	A.TRSP_COST_DTL_MOD_CD			
, 	B.INV_OFC_CD		
, 	TO_CHAR(A.LOCL_CRE_DT, 'YYYYMMDDHH24MISS') CRE_DT	
, 	A.FM_NOD_CD                                  
FROM		                                
	TRS_TRSP_SVC_ORD A			
,	TRS_TRSP_INV_OFC B			
WHERE A.TRSP_WO_OFC_CTY_CD	= @[trsp_wo_ofc_cty_cd]             
AND A.TRSP_WO_SEQ		= @[trsp_wo_seq]             
AND A.EQ_NO				LIKE CASE WHEN LENGTH(@[eq_no]) >= 10 THEN SUBSTR(@[eq_no], 0, 10) || '%' END              
AND A.DELT_FLG			= 'N'		
AND A.CRE_OFC_CD		= B.OFC_CD  	
AND B.INV_OFC_CD		= @[form_usr_ofc_cd]			]]></sql>
			<params>
				<param name="trsp_wo_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_wo_seq" type="2" value="" out="N"/>
				<param name="eq_no" type="12" value="" out="N"/>
				<param name="form_usr_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
