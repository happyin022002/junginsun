<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ControlOfficeExceptionCaseManageDBDAOSearchListRSQL">
			<desc><![CDATA[Control Office Exception Case를 조회]]></desc>
			<sql><![CDATA[
SELECT	SUBSTR(FM_NOD_CD,1,5)				AS FM_LOC_VALUE
	  ,	SUBSTR(FM_NOD_CD,6,2)				AS FM_YARD_VALUE
	  , SUBSTR(TO_NOD_CD,1,5)				AS TO_LOC_VALUE
	  ,	SUBSTR(TO_NOD_CD,6,2)				AS TO_YARD_VALUE
	  ,	SUBSTR(VIA_NOD_CD,1,5)				AS VIA_LOC_VALUE
	  ,	SUBSTR(VIA_NOD_CD,6,2)				AS VIA_YARD_VALUE
	  ,	SUBSTR(DOR_NOD_CD,1,5)				AS DOR_LOC_VALUE
	  ,	SUBSTR(DOR_NOD_CD,6,2)				AS DOR_YARD_VALUE
	  ,	CTRL_OFC_DIV_CD
	  ,	CTRL_OFC_CD
	  ,	CGO_TP_CD
	  ,	NVL(A.DELT_FLG, 'N')				AS DELT_FLG
	  ,	DELT_FLG							AS ORG_DELT_FLG
	  ,	CRE_OFC_CD
	  ,	CRE_USR_ID
	  ,	TO_CHAR(A.CRE_DT,'YYYYMMDD')		AS CRE_DT
	  ,	DECODE(DELT_FLG,'Y','1','0')		AS DELCHECK
	  ,	DECODE(DELT_FLG,'Y',UPD_USR_ID, '')	AS UPD_USR_ID
	  ,	DECODE(DELT_FLG,'Y',TO_CHAR(UPD_DT,'YYYYMMDD'), '')	AS UPD_DT
	  ,	FM_NOD_CD
	  ,	TO_NOD_CD
	  ,	VIA_NOD_CD
	  ,	DOR_NOD_CD
	  ,	TRSP_COST_DTL_MOD_CD
	  ,	TRSP_CRR_MOD_CD
	  ,	CNTR_TP_CD
	  ,	CNTR_SZ_CD
  FROM	TRS_TRSP_OFC_EXPT_RULE A
 WHERE 1=1
#if(${search_cgo_tp_cd} != '')
   AND CGO_TP_CD = @[search_cgo_tp_cd]
#end
#if(${search_trs_cost_md_cd} != '')
   AND TRSP_COST_DTL_MOD_CD = @[search_trs_cost_md_cd]
#end
#if(${search_trs_md_cd} != '')
   AND TRSP_CRR_MOD_CD = @[search_trs_md_cd]
#end
#if(${input_office} != '')
   AND CTRL_OFC_CD = @[input_office]
#end
#if(${search_fm_loc} != '')
   AND FM_NOD_CD = @[search_fm_loc]||@[search_fm_yard]
#end
#if(${search_via_loc} != '')
   AND VIA_NOD_CD = @[search_via_loc]||@[search_via_yard]
#end
#if(${search_to_loc} != '')
   AND TO_NOD_CD = @[search_to_loc]||@[search_to_yard]
#end
#if(${search_door_loc} != '')
   AND DOR_NOD_CD = @[search_door_loc]||@[search_door_yard]
#end			]]></sql>
			<params>
				<param name="search_cgo_tp_cd" type="12" value="" out="N"/>
				<param name="search_trs_cost_md_cd" type="12" value="" out="N"/>
				<param name="search_trs_md_cd" type="12" value="" out="N"/>
				<param name="input_office" type="12" value="" out="N"/>
				<param name="search_fm_loc" type="12" value="" out="N"/>
				<param name="search_fm_yard" type="12" value="" out="N"/>
				<param name="search_via_loc" type="12" value="" out="N"/>
				<param name="search_via_yard" type="12" value="" out="N"/>
				<param name="search_to_loc" type="12" value="" out="N"/>
				<param name="search_to_yard" type="12" value="" out="N"/>
				<param name="search_door_loc" type="12" value="" out="N"/>
				<param name="search_door_yard" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
