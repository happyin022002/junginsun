<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OceanLinkManageDBDAOSearchOceanLinkRSQL">
			<desc><![CDATA[해당 lane 또는 pol, pod, direction에 해당하는 Ocean Link 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT VSL_SLAN_CD
      ,SKD_DIR_CD
      ,FM_PORT_CD
      ,FM_PORT_ETB_DY_CD
      ,FM_PORT_ETD_DY_CD
      ,TO_PORT_CD
      ,TO_PORT_ETB_DY_CD
      ,TO_PORT_ETD_DY_CD
      ,A.TZTM_HRS
      ,A.OCN_LNK_MNL_FLG
      ,LTRIM(TO_CHAR(TRUNC(A.TZTM_HRS / 24, 0), '00')) || LTRIM(TO_CHAR(MOD(A.TZTM_HRS, 24), '00')) FMT_TZTM_HRS
      ,A.LNK_RMK
      ,CASE
         WHEN A.OCN_LNK_MNL_FLG = 'Y' and A.DELT_FLG = 'N' THEN 'Manual Creation'
         WHEN A.OCN_LNK_MNL_FLG = 'Y' and A.DELT_FLG = 'Y' THEN 'Manual Deletion'
         ELSE 'Auto Creation'
       END SOURCE
  FROM PRD_PF_TZ_TM A
 WHERE FM_PORT_CD LIKE RTRIM(@[fm_port_cd]) || '%'
   AND TO_PORT_CD LIKE RTRIM(@[to_port_cd]) || '%'
   AND SKD_DIR_CD LIKE RTRIM(@[skd_dir_cd]) || '%'
   AND VSL_SLAN_CD LIKE RTRIM(@[vsl_lane_cd]) || '%'
   AND A.DELT_FLG IN (DECODE(@[delt_flg], 'Y', 'X', 'N'), DECODE(@[delt_flg], 'N', 'X', 'Y'))			]]></sql>
			<params>
				<param name="fm_port_cd" type="12" value="" out="N"/>
				<param name="to_port_cd" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="vsl_lane_cd" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
