<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CLMReceiveEAIDBDAOAddClmEAIUSQL">
			<desc><![CDATA[AddClmEAI]]></desc>
			<sql><![CDATA[
INSERT  INTO SCE_CLM_IF  ( cntr_no 
						   ,cnmv_yr 
						   ,cnmv_id_no 
						   ,clm_seq 
						   ,arr_dt  
						   ,arr_loc_nm 
						   ,arr_ste_cd 
						   ,dep_dt 
						   ,dep_loc_nm 
						   ,dep_ste_cd 
						   ,fcar_no
						   ,clm_sght_cd
						   ,full_mty_cd
						   ,clm_crr_nm
						   ,trsp_mod_tp_cd
						   ,trn_no
						   ,arr_splc_cd
						   ,dep_splc_cd
						   ,clm_cyc_no
						   ,clm_rcv_dt
		                   ,so_mapg_sts_cd             
						   ,cre_usr_id
		                   ,cre_dt  
						   ,upd_usr_id
						   ,upd_dt)           
				 VALUES ( TRIM(@[CNTR_NO])
                         ,TRIM(nvl(@[CNMV_YR],to_char(sysdate,'YYMM')))
                         ,TO_NUMBER(nvl(@[CNMV_ID_NO],to_char(sysdate,'ddhh24')), 99999)
#if(${CNMV_YR} == '' && ${CNMV_ID_NO} == '' && ${CLM_SEQ} == '')
                         -- CNMV_YR IS NULL OR CNMV_ID_NO IS NULL OR CLM_SEQ IS NULL
                         ,(SELECT NVL(MAX(CLM_SEQ), 0) + 1 CLM_SEQ
                             FROM SCE_CLM_IF
                            WHERE CNTR_NO = TRIM(@[CNTR_NO])
                              AND CNMV_YR = TRIM(nvl(@[CNMV_YR],to_char(sysdate,'YYMM')))
                              AND CNMV_ID_NO = TO_NUMBER(nvl(@[CNMV_ID_NO],to_char(sysdate,'ddhh24')), 99999)
                          )
#else
                         -- CNMV_YR IS NOT NULL AND CNMV_ID_NO IS NOT NULL AND CLM_SEQ IS NOT NULL
                         ,TO_NUMBER(nvl(@[CLM_SEQ],to_char(sysdate,'miss')), 9999)	
#end
						 ,TO_DATE(@[ARR_DT], 'yyyy/mm/dd HH24:MI:SS') 
						 ,TRIM(@[ARR_LOC_NM])
						 ,TRIM(@[ARR_STE_CD])
						 ,TO_DATE(@[DEP_DT], 'yyyy/mm/dd HH24:MI:SS') 
						 ,TRIM(@[DEP_LOC_NM]) 
						 ,TRIM(@[DEP_STE_CD])
						 ,trim(TRIM(@[FCAR_NO])) 
						 ,TRIM(@[CLM_SGHT_CD])
						 ,TRIM(@[FULL_MTY_CD])
						 ,TRIM(@[CLM_CRR_NM])
						 ,TRIM(@[TRSP_MOD_TP_CD])
						 ,trim(TRIM(@[TRN_NO]))
						 ,TRIM(@[ARR_SPLC_CD])
						 ,TRIM(@[DEP_SPLC_CD])
						 ,TO_NUMBER(@[CNMV_CYC_NO], 9999)
						 ,TO_DATE(@[CLM_RCV_DT], 'yyyy/mm/dd HH24:MI:SS')
		                 ,'00'              
						 ,TRIM(@[SNDR_ID])
		                 ,sysdate 
						 ,TRIM(@[SNDR_ID])
						 ,sysdate)			]]></sql>
			<params>
				<param name="CNTR_NO" type="12" value="" out="N"/>
				<param name="CNMV_YR" type="12" value="" out="N"/>
				<param name="CNMV_ID_NO" type="12" value="" out="N"/>
				<param name="CLM_SEQ" type="12" value="" out="N"/>
				<param name="ARR_DT" type="12" value="" out="N"/>
				<param name="ARR_LOC_NM" type="12" value="" out="N"/>
				<param name="ARR_STE_CD" type="12" value="" out="N"/>
				<param name="DEP_DT" type="12" value="" out="N"/>
				<param name="DEP_LOC_NM" type="12" value="         " out="N"/>
				<param name="DEP_STE_CD" type="12" value="  " out="N"/>
				<param name="FCAR_NO" type="12" value="          " out="N"/>
				<param name="CLM_SGHT_CD" type="12" value="C" out="N"/>
				<param name="FULL_MTY_CD" type="12" value="M" out="N"/>
				<param name="CLM_CRR_NM" type="12" value="BNSF" out="N"/>
				<param name="TRSP_MOD_TP_CD" type="12" value="R" out="N"/>
				<param name="TRN_NO" type="12" value="SERT" out="N"/>
				<param name="ARR_SPLC_CD" type="12" value="883000" out="N"/>
				<param name="DEP_SPLC_CD" type="12" value="      " out="N"/>
				<param name="CNMV_CYC_NO" type="12" value="" out="N"/>
				<param name="CLM_RCV_DT" type="12" value="" out="N"/>
				<param name="SNDR_ID" type="12" value="BNSF                " out="N"/>
			</params>
		</query>
	</querys>
</sqls>
