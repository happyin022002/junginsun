<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ControlOfficeExceptionCaseManageDBDAOSearchYardCodeRSQL">
			<desc><![CDATA[Node 정보 조회]]></desc>
			<sql><![CDATA[
#if (${isZone} == 'Y')
    SELECT *
      FROM (SELECT ZN_CD AS YD_CD,
                   ZN_CD AS YD_NM,
                   SUBSTR(ZN_CD, 1, 5) AS LOC,
                   SUBSTR(ZN_CD, 6, 2) AS NOD
              FROM MDM_ZONE
             WHERE ZN_CD LIKE @[searchStr]||'%'
               AND DELT_FLG = 'N'
             ORDER BY ZN_CD)
#elseif (${isZone} == 'A')
    (
    SELECT *
      FROM (SELECT ZN_CD AS YD_CD,
                   ZN_CD AS YD_NM,
                   SUBSTR(ZN_CD, 1, 5) AS LOC,
                   SUBSTR(ZN_CD, 6, 2) AS NOD
              FROM MDM_ZONE
             WHERE ZN_CD LIKE @[searchStr]||'%'
               AND DELT_FLG = 'N'
             ORDER BY ZN_CD)
    )
    UNION ALL
    #if (${TRSP_SO_EQ_KIND} == 'N')
        (
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
    #elseif (${TRSP_SO_EQ_KIND} == 'A')
        (
        SELECT *
          FROM (SELECT YD_CD AS YD_CD,
                       YD_CD AS YD_NM,
                       SUBSTR(YD_CD, 1, 5) AS LOC,
                       SUBSTR(YD_CD, 6, 2) AS NOD
                  FROM MDM_YARD
                 WHERE YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY YD_CD)
        UNION ALL
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
    #else
        (
        SELECT *
          FROM (SELECT YD_CD AS YD_CD,
                       YD_CD AS YD_NM,
                       SUBSTR(YD_CD, 1, 5) AS LOC,
                       SUBSTR(YD_CD, 6, 2) AS NOD
                  FROM MDM_YARD
                 WHERE YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY YD_CD)
        UNION ALL
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
    #end
#else
    #if (${TRSP_SO_EQ_KIND} == 'N')
        (
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
    #elseif (${TRSP_SO_EQ_KIND} == 'A')
        (
        SELECT *
          FROM (SELECT YD_CD AS YD_CD,
                       YD_CD AS YD_NM,
                       SUBSTR(YD_CD, 1, 5) AS LOC,
                       SUBSTR(YD_CD, 6, 2) AS NOD
                  FROM MDM_YARD
                 WHERE YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY YD_CD)
        UNION ALL
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
     #else
        (
        SELECT *
          FROM (SELECT YD_CD AS YD_CD,
                       YD_CD AS YD_NM,
                       SUBSTR(YD_CD, 1, 5) AS LOC,
                       SUBSTR(YD_CD, 6, 2) AS NOD
                  FROM MDM_YARD
                 WHERE YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY YD_CD)
        UNION ALL
        SELECT *
          FROM (SELECT LSE_CO_YD_CD AS YD_CD,
                       LSE_CO_YD_CD AS YD_NM,
                       SUBSTR(LSE_CO_YD_CD, 1, 5) AS LOC,
                       SUBSTR(LSE_CO_YD_CD, 6, 2) AS NOD
                  FROM MDM_LSE_CO_YD
                 WHERE LSE_CO_YD_CD LIKE @[searchStr]||'%'
                   AND DELT_FLG = 'N'
                 ORDER BY LSE_CO_YD_CD)
        )
        --ORDER BY YD_CD
    #end
#end			]]></sql>
			<params>
				<param name="searchStr" type="12" value="CARYA" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
