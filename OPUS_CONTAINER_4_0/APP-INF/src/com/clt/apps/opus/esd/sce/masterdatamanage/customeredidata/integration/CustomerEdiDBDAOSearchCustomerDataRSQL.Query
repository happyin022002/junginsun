<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CustomerEdiDBDAOSearchCustomerDataRSQL">
			<desc><![CDATA[SearchCustomerData]]></desc>
			<sql><![CDATA[
select 
        rownum 
      , grp.edi_grp_cd edi_grp_cd                                  
      , grp.edi_grp_desc edi_grp_desc                             
      , grp.cust_trd_prnr_id cust_trd_prnr_id                       
      , grp.prov_trd_prnr_id prov_trd_prnr_id                       
	  , nvl2(trim(cust.cust_cnt_cd), cust.cust_cnt_cd||cust.cust_seq, '') cust_id -- modification                   
      , mc.cust_lgl_eng_nm cust_lgl_eng_nm                          
      , cust.sc_no sc_no                                            
      , cust.sc_eff_st_dt sc_eff_st_dt                              
      , cust.sc_eff_end_dt sc_eff_end_dt                            
      from edi_group grp, edi_grp_cust cust, mdm_customer mc       
      where grp.edi_grp_cd = cust.edi_grp_cd                       
            and grp.co_div_cd = cust.co_div_cd                     
            and cust.cust_cnt_cd = mc.cust_cnt_cd(+)                  
            and cust.cust_seq = mc.cust_seq(+)

#if (${cs_grp_id} != '')
and grp.edi_grp_cd  = @[cs_grp_id]           
#end                                       
        
#if (${cs_tp_id} != '')                               
and grp.cust_trd_prnr_id =  @[cs_tp_id]     
#end 
                                       
#if (${hj_tp_id} != '')                                       
and grp.prov_trd_prnr_id =   @[hj_tp_id]     
#end 
                                       
#if (${cs_cd} != '')                                       
and (cust.cust_cnt_cd||cust.cust_seq) = @[cs_cd]
#end 
                                   
#if (${sc_no} != '')                                       
and cust.sc_no =   @[sc_no]                
#end			]]></sql>
			<params>
				<param name="cs_grp_id" type="12" value="" out="N"/>
				<param name="cs_tp_id" type="12" value="" out="N"/>
				<param name="hj_tp_id" type="12" value="" out="N"/>
				<param name="cs_cd" type="12" value="" out="N"/>
				<param name="sc_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
