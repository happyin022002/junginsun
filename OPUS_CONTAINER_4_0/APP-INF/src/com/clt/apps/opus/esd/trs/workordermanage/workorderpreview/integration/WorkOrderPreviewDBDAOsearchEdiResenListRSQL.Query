<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WorkOrderPreviewDBDAOsearchEdiResenListRSQL">
			<desc><![CDATA[searchEdiResenList]]></desc>
			<sql><![CDATA[
SELECT 
    SO.TRSP_SO_OFC_CTY_CD,
    SO.TRSP_SO_SEQ,
    (CASE WHEN SO.TRSP_WO_OFC_CTY_CD IS NULL OR SO.TRSP_WO_OFC_CTY_CD = '' 
        THEN WO.TRSP_WO_OFC_CTY_CD ELSE SO.TRSP_WO_OFC_CTY_CD END) TRSP_WO_OFC_CTY_CD,
    (CASE WHEN SO.TRSP_WO_SEQ IS NULL OR SO.TRSP_WO_SEQ = '' 
        THEN WO.TRSP_WO_SEQ ELSE SO.TRSP_WO_SEQ END) TRSP_WO_SEQ,
--	WO.WO_ISS_KNT, 
    SO.VNDR_SEQ,
    WO.WO_ISS_STS_CD,
	DECODE(WO.WO_EDI_USE_FLG,'Y','EDI','N') WO_EDI_USE_FLG,
    SO.TRSP_CRR_MOD_CD,
    SO.TRSP_COST_DTL_MOD_CD,
    VNDR.WO_EDI_USE_FLG,
    LOC.CONTI_CD,
    SO.EQ_NO,
    EDI.EDI_RCVR_NM_USE_FLG,
    RPAD(EDI.EDI_RCVR_NM, 20) AS EDI_RCVR_NM,
	SO.CRE_OFC_CD AS SO_CRE_OFC_CD,
	SO.TRSP_BND_CD
FROM TRS_TRSP_SVC_ORD SO,
    TRS_TRSP_WRK_ORD WO,
    MDM_VENDOR VNDR,
    MDM_LOCATION LOC,
    TRS_EDI_USA_RCVR_DTL EDI
WHERE WO.TRSP_WO_OFC_CTY_CD = SO.TRSP_WO_OFC_CTY_CD
    AND WO.TRSP_WO_SEQ = SO.TRSP_WO_SEQ
    AND LOC.LOC_CD = SUBSTR(SO.FM_NOD_CD, 1, 5)
    AND SO.VNDR_SEQ = VNDR.VNDR_SEQ(+)
    AND SO.VNDR_SEQ = EDI.VNDR_SEQ(+)
    AND WO.TRSP_WO_OFC_CTY_CD = @[TRSP_WO_OFC_CTY_CD]
    AND WO.TRSP_WO_SEQ = @[TRSP_WO_SEQ]
			]]></sql>
			<params>
				<param name="TRSP_WO_OFC_CTY_CD" type="12" value="" out="N"/>
				<param name="TRSP_WO_SEQ" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
