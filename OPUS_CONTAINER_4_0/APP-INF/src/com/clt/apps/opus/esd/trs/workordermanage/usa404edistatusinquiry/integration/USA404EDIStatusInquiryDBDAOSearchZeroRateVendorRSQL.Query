<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="USA404EDIStatusInquiryDBDAOSearchZeroRateVendorRSQL">
			<desc><![CDATA[USA404EDIStatusInquiryDBDAOSearchZeroRateVendor]]></desc>
			<sql><![CDATA[
SELECT DISTINCT X.EQ_NO
               ,Y.VNDR_SEQ
               ,M.VNDR_ABBR_NM
  FROM TRS_TRSP_RAIL_BIL_ORD      X
      ,TRS_TRSP_RAIL_BIL_VNDR_SET Y
      ,MDM_VENDOR                 M
 WHERE X.TRSP_SO_OFC_CTY_CD = Y.TRSP_SO_OFC_CTY_CD
   AND X.TRSP_SO_SEQ = Y.TRSP_SO_SEQ
   and X.RAIL_CMB_THRU_TP_CD NOT IN ('C2T', 'C3T')
   AND X.TRSP_SO_OFC_CTY_CD = @[trsp_so_ofc_cty_cd]
   AND X.TRSP_SO_SEQ = @[trsp_so_seq]
   AND NVL(BZC_AMT, 0) + NVL(FUEL_SCG_AMT, 0) + NVL(OVR_WGT_SCG_AMT, 0) + NVL(NEGO_AMT, 0) + NVL(HZD_MTRL_SCG_AMT, 0) + NVL(ETC_ADD_AMT, 0) = 0
   AND NVL(X.DELT_FLG, 'N') <> 'Y'
   AND Y.VNDR_SEQ = M.VNDR_SEQ
UNION ALL
SELECT DISTINCT X.EQ_NO
               ,Y.VNDR_SEQ
               ,M.VNDR_ABBR_NM
  FROM TRS_TRSP_RAIL_BIL_ORD      X
      ,TRS_TRSP_RAIL_BIL_VNDR_SET Y
      ,MDM_VENDOR                 M
 WHERE X.TRSP_SO_OFC_CTY_CD = Y.TRSP_SO_OFC_CTY_CD
   AND X.TRSP_SO_SEQ = Y.TRSP_SO_SEQ
   AND X.RAIL_CMB_THRU_TP_CD IN ('C2T', 'C3T')
   AND Y.SUB_RAIL_SEQ = 1
   AND X.TRSP_SO_OFC_CTY_CD = @[trsp_so_ofc_cty_cd]
   AND X.TRSP_SO_SEQ = @[trsp_so_seq]
   AND NVL(BZC_AMT, 0) + NVL(FUEL_SCG_AMT, 0) + NVL(OVR_WGT_SCG_AMT, 0) + NVL(NEGO_AMT, 0) + NVL(HZD_MTRL_SCG_AMT, 0) + NVL(ETC_ADD_AMT, 0) = 0
   AND NVL(X.DELT_FLG, 'N') <> 'Y'
   AND Y.VNDR_SEQ = M.VNDR_SEQ
			]]></sql>
			<params>
				<param name="trsp_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_so_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
