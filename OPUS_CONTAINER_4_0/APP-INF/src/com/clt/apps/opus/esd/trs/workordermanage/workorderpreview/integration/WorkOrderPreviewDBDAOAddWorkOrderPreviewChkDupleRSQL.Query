<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WorkOrderPreviewDBDAOAddWorkOrderPreviewChkDupleRSQL">
			<desc><![CDATA[trs_trsp_svc_ord 에 데이터 존재 유무 체크]]></desc>
			<sql><![CDATA[
SELECT NVL(SUM(TRSP_SO_STS_CD), 0) ISSUE_CNT, NVL(SUM(DELT_FLG), 0) DELETE_CNT, NVL(SUM(CR_CNT), 0) CR_CNT
  FROM (SELECT DECODE(SO.TRSP_SO_STS_CD, 'I', 1, 0) TRSP_SO_STS_CD
              ,DECODE(SO.DELT_FLG, 'Y', 1, 0) DELT_FLG
              ,CASE WHEN SO.TRSP_SO_STS_CD IN ('C', 'R') THEN 1
                    ELSE 0
               END CR_CNT
          FROM TRS_TRSP_SVC_ORD SO
         WHERE (TRSP_SO_OFC_CTY_CD, TRSP_SO_SEQ) IN (SELECT TRSP_SO_OFC_CTY_CD, TRSP_SO_SEQ
                                                       FROM TRS_TRSP_WRK_ORD_PRV_TMP
                                                      WHERE WO_PRV_GRP_SEQ = @[wo_prv_grp_seq]
                                                        AND WO_ISS_NO = @[wo_iss_no]))			
			]]></sql>
			<params>
				<param name="wo_prv_grp_seq" type="12" value="" out="N"/>
				<param name="wo_iss_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
