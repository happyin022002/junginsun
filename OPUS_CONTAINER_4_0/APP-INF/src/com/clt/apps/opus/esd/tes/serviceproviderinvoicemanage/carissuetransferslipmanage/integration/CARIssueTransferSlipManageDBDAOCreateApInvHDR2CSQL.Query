<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CARIssueTransferSlipManageDBDAOCreateApInvHDR2CSQL">
			<desc><![CDATA[CreateApInvHDR2]]></desc>
			<sql><![CDATA[
INSERT INTO AP_INV_HDR (
	 CSR_NO,
	 CSR_TP_CD,
	 INV_DT,
	 INV_TERM_DT,
	 GL_DT,
	 VNDR_NO,
	 CSR_AMT,
	 PAY_AMT,
	 PAY_DT,
	 CSR_CURR_CD,
	 VNDR_TERM_NM,
	 INV_DESC,
	 ATTR_CATE_NM,
	 ATTR_CTNT1,
	 ATTR_CTNT2,
	 ATTR_CTNT3,
	 ATTR_CTNT4,
	 ATTR_CTNT5,
	 ATTR_CTNT6,
	 ATTR_CTNT7,
	 ATTR_CTNT8,
	 ATTR_CTNT9,
	 ATTR_CTNT10,
	 ATTR_CTNT11,
	 ATTR_CTNT12,
	 ATTR_CTNT13,
	 ATTR_CTNT14,
	 ATTR_CTNT15,
	 GLO_ATTR_CTNT1,
	 GLO_ATTR_CTNT2,
	 GLO_ATTR_CTNT3,
	 GLO_ATTR_CTNT4,
	 GLO_ATTR_CTNT5,
	 GLO_ATTR_CTNT6,
	 GLO_ATTR_CTNT7,
	 GLO_ATTR_CTNT8,
	 GLO_ATTR_CTNT9,
	 GLO_ATTR_CTNT10,
	 GLO_ATTR_CTNT11,
	 GLO_ATTR_CTNT12,
	 GLO_ATTR_CTNT13,
	 GLO_ATTR_CTNT14,
	 GLO_ATTR_CTNT15,
	 GLO_ATTR_CTNT16,
	 GLO_ATTR_CTNT17,
	 GLO_ATTR_CTNT18,
	 SRC_CTNT,
	 PAY_MZD_LU_CD,
	 PAY_GRP_LU_CD,
	 COA_CO_CD,
	 COA_RGN_CD,
	 COA_CTR_CD,
	 COA_ACCT_CD,
	 COA_VVD_CD,
	 COA_INTER_CO_CD,
	 COA_FTU_N1ST_CD,
	 COA_FTU_N2ND_CD,
	 PPD_NO,
	 PPD_DTRB_NO,
	 PPD_APLY_AMT,
	 PPD_GL_DT,
	 APRO_FLG,
	 TAX_DECL_FLG,
	 ERR_CSR_NO,
	 IF_FLG,
	 IF_DT,
	 IF_ERR_RSN,
	 PPAY_APLY_FLG,
	 TJ_OFC_CD,
	 ACT_XCH_RT,
	 IMP_ERR_FLG,
	 RCV_ERR_FLG,
	 TAX_CURR_XCH_FLG,
	 USR_EML,
	 IMP_ERR_RSN,
	 RCV_ERR_RSN,
	 FTU_USE_CTNT1,
	 FTU_USE_CTNT2,
	 FTU_USE_CTNT3,
	 FTU_USE_CTNT4,
	 FTU_USE_CTNT5,
	 CRE_DT,
	 CRE_USR_ID,
	 EAI_EVNT_DT,
	 AFT_ACT_FLG,
	 ESTM_ERR_RSN )
	 SELECT
	 @[new_csr_no] CSR_NO,
	 'STANDARD' CSR_TP_CD,
	 INV_DT,
	 INV_TERM_DT,
	 SUBSTR((SELECT EXE_YRMON
			 FROM LEA_REV_VVD_CNG
			 WHERE  CSR_NO = @[csr_no]
			 AND BKG_NO = @[bkg_no]
			 AND OLD_VSL_CD||OLD_SKD_VOY_NO||OLD_SKD_DIR_CD||OLD_REV_DIR_CD = @[old_vsl_cd]||@[old_skd_voy_no]||@[old_skd_dir_cd]||@[old_rev_dir_cd]
			 AND ROWNUM = 1),1,6)||
			 SUBSTR(TO_CHAR(LAST_DAY(TO_DATE(SUBSTR((SELECT EXE_YRMON
													 FROM LEA_REV_VVD_CNG
													 WHERE  CSR_NO = @[csr_no]
													 AND BKG_NO = @[bkg_no]
													 AND OLD_VSL_CD||OLD_SKD_VOY_NO||OLD_SKD_DIR_CD||OLD_REV_DIR_CD = @[old_vsl_cd]||@[old_skd_voy_no]||@[old_skd_dir_cd]||@[old_rev_dir_cd]
													 AND ROWNUM = 1),1,6),'YYYYMM')),'YYYYMMDD'),7,8) GL_DT,
	 VNDR_NO,
	 0 CSR_AMT,
	 NULL PAY_AMT,
	 NULL PAY_DT,
	 CSR_CURR_CD,
	 VNDR_TERM_NM,
	 INV_DESC,
	 ATTR_CATE_NM,
	 ATTR_CTNT1,
	 ATTR_CTNT2,
	 ATTR_CTNT3,
	 ATTR_CTNT4,
	 ATTR_CTNT5,
	 ATTR_CTNT6,
	 ATTR_CTNT7,
	 ATTR_CTNT8,
	 ATTR_CTNT9,
	 ATTR_CTNT10,
	 ATTR_CTNT11,
	 ATTR_CTNT12,
	 ATTR_CTNT13,
	 ATTR_CTNT14,
	 ATTR_CTNT15,
	 GLO_ATTR_CTNT1,
	 GLO_ATTR_CTNT2,
	 GLO_ATTR_CTNT3,
	 GLO_ATTR_CTNT4,
	 GLO_ATTR_CTNT5,
	 GLO_ATTR_CTNT6,
	 GLO_ATTR_CTNT7,
	 GLO_ATTR_CTNT8,
	 GLO_ATTR_CTNT9,
	 GLO_ATTR_CTNT10,
	 GLO_ATTR_CTNT11,
	 GLO_ATTR_CTNT12,
	 GLO_ATTR_CTNT13,
	 GLO_ATTR_CTNT14,
	 GLO_ATTR_CTNT15,
	 GLO_ATTR_CTNT16,
	 GLO_ATTR_CTNT17,
	 GLO_ATTR_CTNT18,
	 SRC_CTNT,
	 PAY_MZD_LU_CD,
	 PAY_GRP_LU_CD,
	 COA_CO_CD,
	 COA_RGN_CD,
	 COA_CTR_CD,
	 COA_ACCT_CD,
	 COA_VVD_CD,
	 COA_INTER_CO_CD,
	 COA_FTU_N1ST_CD,
	 COA_FTU_N2ND_CD,
	 PPD_NO,
	 PPD_DTRB_NO,
	 PPD_APLY_AMT,
	 PPD_GL_DT,
	 'Y' APRO_FLG,
	 TAX_DECL_FLG,
	 @[csr_no] ERR_CSR_NO,
	 NULL IF_FLG,
	 NULL IF_DT,
	 NULL IF_ERR_RSN,
	 PPAY_APLY_FLG,
	 TJ_OFC_CD,
	 ACT_XCH_RT,
	 IMP_ERR_FLG,
	 NULL RCV_ERR_FLG,
	 TAX_CURR_XCH_FLG,
	 @[usr_eml] USR_EML,
	 IMP_ERR_RSN,
	 NULL RCV_ERR_RSN,
	 FTU_USE_CTNT1,
	 FTU_USE_CTNT2,
	 FTU_USE_CTNT3,
	 FTU_USE_CTNT4,
	 FTU_USE_CTNT5,
	 SYSDATE CRE_DT,
	 @[usr_id] CRE_USR_ID,
	 EAI_EVNT_DT,
	 NULL AFT_ACT_FLG,
	 ESTM_ERR_RSN
	 FROM AP_INV_HDR
	 WHERE CSR_NO = @[csr_no]			]]></sql>
			<params>
				<param name="new_csr_no" type="12" value="" out="N"/>
				<param name="csr_no" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="old_vsl_cd" type="12" value="" out="N"/>
				<param name="old_skd_voy_no" type="12" value="" out="N"/>
				<param name="old_skd_dir_cd" type="12" value="" out="N"/>
				<param name="old_rev_dir_cd" type="12" value="" out="N"/>
				<param name="usr_eml" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
