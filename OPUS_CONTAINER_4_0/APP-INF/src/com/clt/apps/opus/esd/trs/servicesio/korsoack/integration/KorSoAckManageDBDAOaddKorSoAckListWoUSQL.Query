<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="KorSoAckManageDBDAOaddKorSoAckListWoUSQL">
			<desc><![CDATA[update TRS_TRSP_WRK_ORD_HIS]]></desc>
			<sql><![CDATA[
UPDATE TRS_TRSP_WRK_ORD_HIS A SET
	      A.WO_EDI_RCV_RSLT_CD		= @[edi_rcv_rslt_cd]	
	    , A.WO_EDI_RCV_RSLT_DT		= GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[edi_rcv_rslt_dt])
	    , A.WO_EDI_RCV_RSLT_MSG		= TRIM( REPLACE(@[edi_rcv_rslt_msg],  CHR(13)||CHR(10), ' '))
	    , A.WO_EDI_RCV_PURP_CD		= @[edi_rcv_purp_cd]	
 WHERE	TRSP_WO_OFC_CTY_CD			= @[trsp_wo_ofc_cty_cd] 
 AND	A.TRSP_WO_SEQ					= TO_NUMBER(@[trsp_wo_seq]) 
 AND A.WO_ISS_KNT = (SELECT MAX(WO_ISS_KNT) 
                     FROM TRS_TRSP_WRK_ORD_HIS
                    WHERE TRSP_WO_OFC_CTY_CD = A.TRSP_WO_OFC_CTY_CD
                      AND TRSP_WO_SEQ = A.TRSP_WO_SEQ)			]]></sql>
			<params>
				<param name="edi_rcv_rslt_cd" type="12" value="" out="N"/>
				<param name="edi_rcv_rslt_dt" type="12" value="" out="N"/>
				<param name="edi_rcv_rslt_msg" type="12" value="" out="N"/>
				<param name="edi_rcv_purp_cd" type="12" value="" out="N"/>
				<param name="trsp_wo_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_wo_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
