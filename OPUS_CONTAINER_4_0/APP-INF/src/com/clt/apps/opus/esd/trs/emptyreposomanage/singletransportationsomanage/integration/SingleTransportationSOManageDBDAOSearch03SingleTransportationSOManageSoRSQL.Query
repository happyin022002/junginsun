<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SingleTransportationSOManageDBDAOSearch03SingleTransportationSOManageSoRSQL">
			<desc><![CDATA[TRS_TRSP_SVC_ORD테이블 조회]]></desc>
			<sql><![CDATA[
SELECT 
TRSP_SO_CMB_SEQ FROM TRS_TRSP_SVC_ORD A 
WHERE A.TRSP_SO_CMB_SEQ IS NOT NULL 
AND A.TRSP_SO_TP_CD = 'M' 
AND A.TRSP_SO_STS_CD IN ('C', 'R') 
AND A.CRE_OFC_CD = @[sctrlofccd] 
AND A.DELT_FLG = 'N' 
#if (${sfrmreqdate} != '' && ${sstoreqdate} != '')
	#if (${srad_date} == 'R')
		AND A.TRSP_MTY_RQST_DT BETWEEN TO_DATE(@[sfrmreqdate], 'YYYYMMDD') AND TO_DATE(@[sstoreqdate], 'YYYYMMDD') + 0.99999
	#else
		AND A.LOCL_CRE_DT BETWEEN TO_DATE(@[sfrmreqdate], 'YYYYMMDD') AND TO_DATE(@[sstoreqdate], 'YYYYMMDD') + 0.99999 	
	#end 	  
#end  

#if (${swh_kind} != 'ALL')
	AND (A.TRSP_MTY_COST_MOD_CD = @[skind])
#end

#if (${stransmodcd} != 'ALL')
 AND (A.TRSP_CRR_MOD_CD = @[stransmodcd]) 
#end

#if (${sfrmnode} != '')
	AND (A.FM_NOD_CD LIKE @[sfrmnode]||'%' )
#end

#if (${stonode} != '')
	AND (A.TO_NOD_CD LIKE @[stonode]||'%' )
#end

#if ($arrCntr.size() > 0) 
   AND (A.EQ_NO IN (
#foreach($cntrKey in ${arrCntr}) 
	#if($velocityCount < $arrCntr.size()) 
		'$cntrKey',
	#else 
		'$cntrKey'
	#end 
#end 
  ))                             
#end 

#if ($arrReferencno.size() > 0) 
   AND (A.REF_ID IN (
#foreach($referKey in ${arrReferencno}) 
	#if($velocityCount < $arrReferencno.size()) 
		'$referKey',
	#else 
		'$referKey'
	#end 
#end 
  ))                             
#end

			]]></sql>
			<params>
				<param name="sctrlofccd" type="12" value="" out="N"/>
				<param name="sfrmreqdate" type="12" value="20090909" out="N"/>
				<param name="sstoreqdate" type="12" value="20090909" out="N"/>
				<param name="skind" type="12" value="" out="N"/>
				<param name="stransmodcd" type="12" value="" out="N"/>
				<param name="sfrmnode" type="12" value="" out="N"/>
				<param name="stonode" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
