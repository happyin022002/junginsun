<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerSelectPopupDBDAOSearchContainerSelectPopupRSQL">
			<desc><![CDATA[ContainerSelectPopup의 데이타 모델에 해당되는 값을 불러온다]]></desc>
			<sql><![CDATA[
SELECT A.CNTR_NO EQ_NO
		,	A.CNTR_TPSZ_CD EQ_TPSZ_CD
		,	B.BKG_NO	
		,	B.BKG_STS_CD
		,	DECODE( TRIM(C.CNTR_TPSZ_CD)	
				, NULL, DECODE(A.CNTR_TPSZ_CD, 'D5', 'D4', NULL	)	
				, C.CNTR_TPSZ_CD ) SUB_EQ_TPSZ_CD	
		,	DECODE(MAX(D.CNTR_SUB_FLG), 'Y', 'Y', '') CNTR_SUB_FLG 
	FROM BKG_CONTAINER A
		,	BKG_BOOKING B
		,	BKG_QUANTITY C
		,	TRS_TRSP_SVC_ORD 	D
	WHERE B.BKG_NO     = A.BKG_NO(+)       
		AND A.BKG_NO       = C.BKG_NO(+)       
		AND A.CNTR_TPSZ_CD = C.CNTR_TPSZ_CD(+) 	
		AND A.BKG_NO       = D.BKG_NO(+)       	
		AND A.CNTR_NO      = D.EQ_NO(+)        
		AND 'N'            = D.DELT_FLG	(+)
		AND B.BKG_NO IN (
#if (${arrBkgno}.size() > 0 ) 

	#foreach($code IN ${arrBkgno}) 
		#if($velocityCount < $arrBkgno.size()) 
			'$code', 
		#else 
			'$code' 
		#end 
	#end 
#else 
		'0000000'
#end 
			)
	GROUP BY A.CNTR_NO
		, A.CNTR_TPSZ_CD
		, B.BKG_NO
		, B.BKG_STS_CD
		, C.CNTR_TPSZ_CD			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
