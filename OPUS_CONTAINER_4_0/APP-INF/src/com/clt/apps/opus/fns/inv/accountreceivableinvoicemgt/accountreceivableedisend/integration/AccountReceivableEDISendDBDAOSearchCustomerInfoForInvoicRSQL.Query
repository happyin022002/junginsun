<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableEDISendDBDAOSearchCustomerInfoForInvoicRSQL">
			<desc><![CDATA[SearchCustomerInfoForInvoic]]></desc>
			<sql><![CDATA[
SELECT   DISTINCT
         BCUST.CUST_CNT_CD
       , BCUST.CUST_SEQ
       , BKG_TOKEN_NL_FNC(CUST_NM, 1, '') AS CUST_LGL_ENG_NM
       , BKG_TOKEN_NL_FNC(CUST_NM, 2, '') AS CUST_LOCL_LANG_NM
       , BKG_TOKEN_NL_FNC(BCUST.CUST_ADDR, 1, '') AS LOCL_ADDR1
       , BKG_TOKEN_NL_FNC(BCUST.CUST_ADDR, 2, '') AS LOCL_ADDR2
       , BKG_TOKEN_NL_FNC(BCUST.CUST_ADDR, 3, '') || BKG_TOKEN_NL_FNC(BCUST.CUST_ADDR, 4, '') || BKG_TOKEN_NL_FNC(BCUST.CUST_ADDR, 5, '')  AS LOCL_ADDR3
       , ADDR.CNTC_PSON_NM AS CNTC_PSON_NM
       , CNTC.PHN_NO AS PHN_NO
       , CNTC.FAX_NO AS FAX_NO
       , CNTC.CUST_EML AS CUST_EML
       , BCUST.CUST_ADDR AS  ADDR   
       , BCUST.CUST_CTY_NM AS CTY_NM                                        
       , BCUST.CUST_ZIP_ID AS ZIP_CD                                        
       , (SELECT CUST_RGST_NO FROM MDM_CUSTOMER WHERE CUST_CNT_CD = BCUST.CUST_CNT_CD AND CUST_SEQ = BCUST.CUST_SEQ) AS CUST_RGST_NO              
       , BCUST.CUST_STE_CD AS STE_CD 
       , BCUST.BKG_CUST_TP_CD AS IBCS_TP
  FROM BKG_CUSTOMER BCUST,
       MDM_CUST_ADDR ADDR,
       MDM_CUST_CNTC_PNT CNTC,
       INV_EDI_HDR IEH
 WHERE BCUST.CUST_CNT_CD = ADDR.CUST_CNT_CD
   AND BCUST.CUST_SEQ = ADDR.CUST_SEQ
   AND BCUST.CUST_CNT_CD = CNTC.CUST_CNT_CD
   AND BCUST.CUST_SEQ = CNTC.CUST_SEQ
   AND ADDR.PRMRY_CHK_FLG = 'Y'
   AND CNTC.CUST_CNTC_PNT_SEQ = 1
   AND BCUST.BKG_CUST_TP_CD IN ('A','C','E','F','N','S')
   AND BCUST.CUST_CNT_CD IS NOT NULL
   AND BCUST.CUST_SEQ IS NOT NULL
   AND IEH.EDI_HDR_SEQ IN (${edi_hdr_seq_list})
   AND IEH.BKG_NO = BCUST.BKG_NO			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
