<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingARCreationDBDAOAddVVDExRateCSQL">
			<desc><![CDATA[BookingARCreationDBDAOAddVVDExRateCSQL]]></desc>
			<sql><![CDATA[
INSERT INTO INV_VVD_XCH_RT(
	VSL_CD
,	SKD_VOY_NO
,	SKD_DIR_CD
,	PORT_CD
,	SVC_SCP_CD
,	IO_BND_CD
,	LOCL_CURR_CD
,	CHG_CURR_CD 
,	AR_OFC_CD
,	INV_XCH_RT
,	IVS_XCH_RT
,	CRE_USR_ID
,	CRE_DT
,	UPD_USR_ID
,	UPD_DT
) (
SELECT @[vsl]
     , @[voy]
     , @[dep]
     , DECODE(SUBSTR(@[bnd],1,1), 'O', @[pol], @[pod])
     , @[svc_scp]
     , SUBSTR(@[bnd],1,1)
     , @[lcl_curr]
     , @[curr]
     , @[ofc_cd]
     , 0
     , 0
     , @[user_id]
     , SYSDATE
     , @[user_id]
     , SYSDATE
 FROM DUAL
WHERE NOT EXISTS ( SELECT 1 
                     FROM INV_VVD_XCH_RT
                    WHERE VSL_CD = @[vsl]
                      AND SKD_VOY_NO = @[voy]
                      AND SKD_DIR_CD = @[dep]
                      AND PORT_CD = DECODE(SUBSTR(@[bnd],1,1), 'O', @[pol], @[pod])
                      AND LOCL_CURR_CD = @[lcl_curr]
                      AND CHG_CURR_CD = @[curr]
					  AND AR_OFC_CD = @[ofc_cd]
                      AND SVC_SCP_CD  = @[svc_scp]
                      AND IO_BND_CD = SUBSTR(@[bnd],1,1))
)			]]></sql>
			<params>
				<param name="vsl" type="12" value="" out="N"/>
				<param name="voy" type="12" value="" out="N"/>
				<param name="dep" type="12" value="" out="N"/>
				<param name="bnd" type="12" value="" out="N"/>
				<param name="pol" type="12" value="" out="N"/>
				<param name="pod" type="12" value="" out="N"/>
				<param name="svc_scp" type="12" value="" out="N"/>
				<param name="lcl_curr" type="12" value="" out="N"/>
				<param name="curr" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="user_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
