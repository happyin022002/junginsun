<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CarrierSettlementProcessDBDAOJooSettlementForDeleteRSQL">
			<desc><![CDATA[삭제할 Settlement의 PK를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT 
       ACCT_YRMON
      ,STL_VVD_SEQ
      ,STL_SEQ
      ,JO_CRR_CD
      ,RE_DIVR_CD
      ,TRD_CD
      ,RLANE_CD
      ,JO_STL_ITM_CD
      ,JO_MNU_NM
      ,RF_SCG_STL_TP_CD
      ,IOC_CD
      ,SCONTI_CD
      ,FM_PORT_CD
      ,TO_PORT_CD
FROM  JOO_SETTLEMENT
WHERE ACCT_YRMON    = REPLACE(@[acct_yrmon],'-','')
AND	  JO_CRR_CD     = @[jo_crr_cd]
AND	  RE_DIVR_CD    = @[re_divr_cd]
AND	  TRD_CD        = @[trd_cd]
AND	  RLANE_CD      = @[rlane_cd]
AND	  JO_STL_ITM_CD = @[jo_stl_itm_cd]
AND   JO_MNU_NM     = @[jo_mnu_nm]
#if (${sch_tp_cd} != '') 
	#if (${sch_tp_cd} == 'G') 
       AND   ST_DT IS NOT NULL 
       AND   END_DT IS NOT NULL
       AND   SAIL_DYS IS NOT NULL
	#elseif (${sch_tp_cd} == 'P') 
       AND   FM_PORT_CD IS NOT NULL 
       AND   TO_PORT_CD IS NOT NULL
	#else
	   AND   SAIL_DYS IS NULL
       AND   FM_PORT_CD IS NULL 
       AND   TO_PORT_CD IS NULL
	#end
#end			]]></sql>
			<params>
				<param name="acct_yrmon" type="12" value="" out="N"/>
				<param name="jo_crr_cd" type="12" value="" out="N"/>
				<param name="re_divr_cd" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="rlane_cd" type="12" value="" out="N"/>
				<param name="jo_stl_itm_cd" type="12" value="" out="N"/>
				<param name="jo_mnu_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
