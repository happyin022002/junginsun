<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ARInvoiceCorrectionDBDAOSearchARCreditVORSQL">
			<desc><![CDATA[ARInvoiceCorrectionDBDAO::searchARCredit ( custCd , ofcCd , saDt , bnd )]]></desc>
			<sql><![CDATA[
SELECT CR_FLG,
#if (${bnd} == "I") 
TO_CHAR(TO_DATE(@[sa_dt],'YYYYMMDD')+IB_CR_TERM_DYS,'YYYYMMDD') DUE_DATE,
IB_CR_TERM_DYS CR_TERM_DYS
#end
#if (${bnd} == "O") 
TO_CHAR(TO_DATE(@[sa_dt],'YYYYMMDD')+OB_CR_TERM_DYS,'YYYYMMDD') DUE_DATE,
OB_CR_TERM_DYS CR_TERM_DYS 
#end
FROM (
    SELECT DECODE(CR_FLG,'Y',A.CR_FLG,'N') CR_FLG,
    DECODE(CR_FLG,'Y',A.IB_CR_TERM_DYS,B.IB_CR_TERM_DYS) IB_CR_TERM_DYS,
    DECODE(CR_FLG,'Y',A.OB_CR_TERM_DYS,B.OB_CR_TERM_DYS) OB_CR_TERM_DYS 
    FROM MDM_CR_CUST A, MDM_ORGANIZATION B
    WHERE CUST_CNT_CD = @[cust_cnt_cd] AND CUST_SEQ = @[cust_seq]
    AND OFC_CD = @[ofc_cd]
)			]]></sql>
			<params>
				<param name="sa_dt" type="12" value="20080115" out="N"/>
				<param name="cust_cnt_cd" type="12" value="US" out="N"/>
				<param name="cust_seq" type="2" value="1238" out="N"/>
				<param name="ofc_cd" type="12" value="SIABS" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
