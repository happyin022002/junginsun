<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="INVCommonDBDAOSearchCustomerUSDExrateRSQL">
			<desc><![CDATA[Search Customer USD Exrate]]></desc>
			<sql><![CDATA[
SELECT NVL(ROUND(DECODE(B.INV_XCH_RT, 0, 0, DECODE(@[curr], @[lcl_curr], 1, A.INV_XCH_RT)/B.INV_XCH_RT), 6), 0) EX_RATE
FROM  INV_CUST_AND_DLY_XCH_RT A,
      INV_CUST_AND_DLY_XCH_RT B
WHERE A.CUST_CNT_CD = B.CUST_CNT_CD
AND   A.CUST_SEQ = B.CUST_SEQ
AND   A.IO_BND_CD = B.IO_BND_CD
AND   A.LOCL_CURR_CD = B.LOCL_CURR_CD
AND   A.XCH_RT_TP_CD = B.XCH_RT_TP_CD
AND   A.CUST_CNT_CD = @[inv_cntry_cd]
AND   A.CUST_SEQ  = @[inv_cust_cd]
AND   A.IO_BND_CD = @[bnd]
AND   REPLACE(@[ex_rate_date],'-','') BETWEEN A.FM_DT AND A.TO_DT
AND   REPLACE(@[ex_rate_date],'-','') BETWEEN B.FM_DT AND B.TO_DT
AND   A.CHG_CURR_CD = DECODE(@[curr], @[lcl_curr], 'USD', @[curr])
AND   B.CHG_CURR_CD = 'USD'
AND   A.LOCL_CURR_CD = @[lcl_curr]
AND   A.XCH_RT_TP_CD = 'I'			]]></sql>
			<params>
				<param name="curr" type="12" value="" out="N"/>
				<param name="lcl_curr" type="12" value="" out="N"/>
				<param name="inv_cntry_cd" type="12" value="" out="N"/>
				<param name="inv_cust_cd" type="12" value="" out="N"/>
				<param name="bnd" type="12" value="" out="N"/>
				<param name="ex_rate_date" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
