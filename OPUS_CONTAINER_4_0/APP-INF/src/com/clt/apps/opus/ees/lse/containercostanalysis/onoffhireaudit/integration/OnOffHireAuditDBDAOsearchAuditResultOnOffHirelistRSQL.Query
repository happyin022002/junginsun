<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OnOffHireAuditDBDAOsearchAuditResultOnOffHirelistRSQL">
			<desc><![CDATA[Audit Result 리스트를 조회]]></desc>
			<sql><![CDATA[
select 
    A.AGMT_CTY_CD|| LTRIM(TO_CHAR(A.AGMT_SEQ,'000000')) AGMT_NO
   ,A.AGMT_CTY_CD
   ,A.AGMT_SEQ
   ,A.REF_NO 
   ,A.LSTM_CD
   ,A.CNTR_NO
   ,A.CNTR_TPSZ_CD
   ,TO_CHAR(A.ONH_DT , 'YYYY-MM-DD') ONH_DT
   ,A.ONH_LOC_CD
   ,TO_CHAR(A.OFFH_DT, 'YYYY-MM-DD') OFFH_DT
   ,A.OFFH_LOC_CD
   ,TO_CHAR(A.LR_ONH_DT, 'YYYY-MM-DD') LR_ONH_DT 
   ,A.LR_ONH_LOC_CD 
   ,TO_CHAR(A.LR_OFFH_DT, 'YYYY-MM-DD') LR_OFFH_DT 
   ,A.LR_OFFH_LOC_CD 
   ,A.VNDR_SEQ
   ,TO_CHAR(A.BIL_FM_DT, 'YYYY-MM-DD') BIL_FM_DT
   ,TO_CHAR(A.BIL_TO_DT, 'YYYY-MM-DD') BIL_TO_DT
   ,A.LSE_AUD_TP_CD
   ,A.ONF_HIR_STS_CD 
   ,'' CONTRACT_NO
   ,'' SEARCH_STDT
   ,'' SEARCH_ENDDT
   ,'' SEARCH_MONTH
   , @[audit_tp] AUDIT_TYPE
   ,'' ROW_COUNT
   ,'' AUD_SEQ
   ,'' AUD_VER_SEQ
   ,'' AUDIT_VERSION 
   ,'' FILE_AUD_VER_SEQ
   ,A.AUD_RMK AUDIT_REMARK   
from lse_onf_hir_aud A 
WHERE   A.VNDR_SEQ   = @[vndr_seq]
AND   A.AUD_VER_SEQ  = @[aud_ver_seq]

#if (${lse_aud_tp_cd} == '' ) 
AND ( A.LSE_AUD_TP_CD in ( 'C' , 'D' , 'L' ) OR  A.LSE_AUD_TP_CD IS NULL )
#else
AND A.LSE_AUD_TP_CD = @[lse_aud_tp_cd]
#end			]]></sql>
			<params>
				<param name="audit_tp" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="aud_ver_seq" type="12" value="" out="N"/>
				<param name="lse_aud_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
