<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RepairMgtDBDAOsearchDocWOHeaderDataRSQL">
			<desc><![CDATA[searchDocWOHeaderData]]></desc>
			<sql><![CDATA[
SELECT 
(A.MNR_ORD_OFC_CTY_CD || A.MNR_ORD_SEQ) MNR_ORD_SEQ 
,A.MNR_WO_TP_CD  WO_TYPE_CODE
,A.MNR_GRP_TP_CD
,D.MNR_CD_DESC WO_TYPE
,MNR_COMMON_PKG.MNR_CONV_PARTNER_CD_FNC(A.VNDR_SEQ) VNDR_SEQ
,B.VNDR_LGL_ENG_NM
,C.TRSM_MOD_CD
--,DECODE(A.MNR_WO_TP_CD,'EST', 'Repair Approval(WO#: '|| (A.MNR_ORD_OFC_CTY_CD || A.MNR_ORD_SEQ) || ')'
--                            , 'MNR WO Notice(WO#: ' || (A.MNR_ORD_OFC_CTY_CD || A.MNR_ORD_SEQ) || ')'
--        ) DOC_SUBJECT
, 'MNR WORK ORDER ' || (A.MNR_ORD_OFC_CTY_CD || A.MNR_ORD_SEQ) AS DOC_SUBJECT
,C.FAX_NO
,C.MNR_PRNR_EML
,C.EDI_ID
FROM MNR_ORD_HDR A, MDM_VENDOR B, MNR_PARTNER C, MNR_GEN_CD D, MNR_RPR_RQST_HDR L
WHERE A.VNDR_SEQ = B.VNDR_SEQ(+)
AND A.COST_OFC_CD = C.CTRL_OFC_CD
AND   A.VNDR_SEQ = C.MNR_PRNR_SEQ(+)
AND	A.MNR_ORD_OFC_CTY_CD IN (
	#foreach ($user_mnrOrdOfcCtyCds IN ${mnrOrdOfcCtyCds})
		#if($velocityCount < $mnrOrdOfcCtyCds.size())
			'$user_mnrOrdOfcCtyCds',
		#else
			'$user_mnrOrdOfcCtyCds'
		#end
	#end			  
)	
AND A.MNR_ORD_SEQ in (${mnr_ord_seq})
AND D.PRNT_CD_ID(+)='CD00020'
AND A.MNR_WO_TP_CD = D.MNR_CD_ID(+)
AND A.MNR_ORD_SEQ = L.MNR_ORD_SEQ(+)
AND A.MNR_ORD_OFC_CTY_CD = L.MNR_ORD_OFC_CTY_CD(+)
AND A.AGMT_OFC_CTY_CD = C.AGMT_OFC_CTY_CD
AND A.AGMT_SEQ = C.AGMT_SEQ
AND A.AGMT_VER_NO = C.AGMT_VER_NO			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
