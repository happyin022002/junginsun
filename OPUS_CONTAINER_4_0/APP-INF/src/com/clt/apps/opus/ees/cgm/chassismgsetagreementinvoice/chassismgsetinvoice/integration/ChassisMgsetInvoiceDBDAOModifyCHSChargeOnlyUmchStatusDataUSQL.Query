<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChassisMgsetInvoiceDBDAOModifyCHSChargeOnlyUmchStatusDataUSQL">
			<desc><![CDATA[ChassisMgsetInvoiceDB.ModifyCHSChargeOnlyUmchStatusData]]></desc>
			<sql><![CDATA[
UPDATE CGM_LSE_CHG_DTL B
SET
    (AUD_UMCH_EQ_STS_EVNT_YD_CD, 
     AUD_UMCH_EQ_ASET_STS_CD, 
     AUD_UMCH_EQ_STS_EVNT_DT) =
    (
         SELECT 
            A.STS_EVNT_YD_CD,
            A.EQ_ASET_STS_CD,
            A.STS_EVNT_DT
         FROM  CGM_EQUIPMENT Q, CGM_EQ_STS_HIS A 
         WHERE  Q.EQ_NO = B.EQ_NO
            AND Q.EQ_NO = A.EQ_NO
            AND Q.EQ_STS_SEQ = A.EQ_STS_SEQ

    )
WHERE
        LSE_CHG_AUD_STS_CD IN ('H','I')
    AND EQ_KND_CD = @[eq_knd_cd]
    AND (AGMT_OFC_CTY_CD, AGMT_SEQ ,COST_YRMON) IN (
            SELECT AGMT_OFC_CTY_CD, AGMT_SEQ ,COST_YRMON
            FROM CGM_LSE_CHG_HDR
            WHERE COST_YRMON = @[cost_yrmon]
                  AND CHG_CRE_SEQ = @[chg_cre_seq]
                  AND EQ_KND_CD =  @[eq_knd_cd]
        )			]]></sql>
			<params>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="cost_yrmon" type="12" value="" out="N"/>
				<param name="chg_cre_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
