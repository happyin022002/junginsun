<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DisposalMgtDBDAOsearchDSPBuyerDTLPartDataRSQL">
			<desc><![CDATA[searchDSPBuyerDTLPartData]]></desc>
			<sql><![CDATA[
SELECT
         A.DISP_NO
        ,A.DISP_DTL_SEQ
        ,A.MNR_PRNR_CNT_CD
        ,A.MNR_PRNR_SEQ
		,A.EQ_TPSZ_CD
        ,DECODE(C.DISP_UT_TP_CD,'E','1',A.DISP_QTY) DISP_QTY
		,DECODE(C.DISP_UT_TP_CD,'E','1',A.DISP_CFM_QTY) DISP_CFM_QTY
        ,A.PART_UT_AMT
        ,DECODE(NVL(A.MNR_DISP_CFM_STS_CD,'N'),'N','0','1') AS MNR_DISP_CFM_STS_CD
        ,TO_CHAR(A.MNR_DISP_CFM_DT, 'yyyy-mm-dd') MNR_DISP_CFM_DT
        ,A.MNR_DISP_CFM_USR_ID
        ,A.MNR_DISP_DTL_RMK
        ,A.CRE_USR_ID
        ,TO_CHAR(A.CRE_DT, 'yyyy-mm-dd') CRE_DT
        ,A.UPD_USR_ID
        ,TO_CHAR(A.UPD_DT, 'yyyy-mm-dd') UPD_DT
        ,MNR_COMMON_PKG.MNR_CONV_PARTNER_CD_FNC(A.MNR_PRNR_SEQ,A.MNR_PRNR_CNT_CD) AS MNR_PRNR_ID
        ,B.MNR_PRNR_LGL_ENG_NM AS VNDR_LGL_ENG_NM  
		,C.DISP_UT_TP_CD 
FROM MNR_DISP_BUYR_DTL_PART A,MNR_PARTNER B,MNR_DISP_DTL C
WHERE A.DISP_NO = @[disp_no]
AND B.MNR_GRP_TP_CD = 'DSP'
AND A.MNR_PRNR_SEQ  = B.MNR_PRNR_SEQ
AND A.MNR_PRNR_CNT_CD = B.MNR_PRNR_CNT_CD
AND A.DISP_NO = C.DISP_NO
AND A.DISP_DTL_SEQ = C.DISP_DTL_SEQ
ORDER BY A.PART_UT_AMT DESC			]]></sql>
			<params>
				<param name="disp_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
