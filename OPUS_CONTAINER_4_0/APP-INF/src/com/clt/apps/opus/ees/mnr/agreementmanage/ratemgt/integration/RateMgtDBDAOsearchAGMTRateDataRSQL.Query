<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RateMgtDBDAOsearchAGMTRateDataRSQL">
			<desc><![CDATA[searchAGMTRateData]]></desc>
			<sql><![CDATA[
SELECT 
C.AGMT_OFC_CTY_CD, 
C.AGMT_SEQ, 
C.AGMT_VER_NO, 
C.COST_CD, 
C.COST_DTL_CD, 
C.MNR_RT_TP_CD, 
C.RPR_QTY, 
C.AGMT_RT_AMT, 
C.CRE_USR_ID, 
C.CRE_DT, 
C.UPD_USR_ID, 
C.UPD_DT,
C.USR_DEF_RMK,
C.YD_CD
FROM MNR_AGMT_RT C
WHERE 
C.AGMT_OFC_CTY_CD = @[agmt_ofc_cty_cd] AND  
C.AGMT_SEQ = @[agmt_seq] AND
C.AGMT_VER_NO = @[agmt_ver_no] AND
C.COST_CD IN (
   SELECT G.MNR_CD_ID
    FROM MNR_GEN_CD G
   WHERE G.PRNT_CD_ID = @[agmt_eq_type] || 'G'
#if(${agmt_dis_type} == 'RC')
     AND SUBSTRB(G.MNR_CD_ID, LENGTH(G.MNR_CD_ID) - 1, LENGTH(G.MNR_CD_ID)) = @[agmt_dis_type]
#else
	 AND SUBSTRB(G.MNR_CD_ID, LENGTH(G.MNR_CD_ID) - 2, LENGTH(G.MNR_CD_ID)) = @[agmt_dis_type]
#end
)
ORDER BY C.AGMT_RT_SEQ			]]></sql>
			<params>
				<param name="agmt_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="agmt_seq" type="12" value="" out="N"/>
				<param name="agmt_ver_no" type="12" value="" out="N"/>
				<param name="agmt_eq_type" type="12" value="" out="N"/>
				<param name="agmt_dis_type" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
