<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RateMgtDBDAOsearchAplyOfcPartnerDataRSQL">
			<desc><![CDATA[searchAplyOfcPartnerData]]></desc>
			<sql><![CDATA[
SELECT
 D.AGMT_OFC_CTY_CD
,D.AGMT_SEQ
,D.AGMT_VER_NO
,D.AGMT_OFC_TP_CD
,D.APLY_OFC_CD
,D.CRE_USR_ID
,D.CRE_DT
,D.UPD_USR_ID
,D.UPD_DT
,C.MNR_PRNR_CRE_SEQ
,C.CTRL_OFC_CD
,C.MNR_GRP_TP_CD
,C.MNR_PRNR_TP_CD
,C.MNR_PRNR_KND_CD
,C.MNR_PRNR_KND_DTL_CD
,C.MNR_PRNR_STS_CD
,C.MNR_PRNR_CNT_CD
,MNR_COMMON_PKG.MNR_CONV_PARTNER_CD_FNC(C.MNR_PRNR_SEQ) AS MNR_PRNR_SEQ
,C.EDI_ID
,C.MNR_PRNR_LGL_ENG_NM
,C.MNR_PRNR_LOCL_LANG_NM
,C.PAY_TERM_DYS
,C.TRSM_MOD_CD
,TO_CHAR(C.EFF_DT, 'yyyy-mm-dd') EFF_DT
,TO_CHAR(C.EXP_DT, 'yyyy-mm-dd') EXP_DT
,C.PHN_NO
,C.FAX_NO
,C.MNR_PRNR_EML
,C.SP_PTAL_ID
FROM MNR_PARTNER C,
(
  SELECT
   A.AGMT_OFC_CTY_CD
  ,A.AGMT_SEQ
  ,A.AGMT_VER_NO
  ,A.AGMT_OFC_TP_CD
  ,A.APLY_OFC_CD
  ,A.CRE_USR_ID
  ,A.CRE_DT
  ,A.UPD_USR_ID
  ,A.UPD_DT
  ,B.VNDR_SEQ
  FROM MNR_AGMT_APLY_OFC A,MNR_AGMT_HDR B
  WHERE  A.AGMT_OFC_CTY_CD = @[agmt_ofc_cty_cd]
  AND    A.AGMT_SEQ = @[agmt_seq]
  AND    A.AGMT_VER_NO = @[agmt_ver_no]
  AND    A.AGMT_OFC_TP_CD = 'COST'
  AND    A.AGMT_OFC_CTY_CD = B.AGMT_OFC_CTY_CD
  AND    A.AGMT_SEQ = B.AGMT_SEQ
  AND    A.AGMT_VER_NO = B.AGMT_VER_NO
) D
WHERE C.MNR_GRP_TP_CD = 'RPR'
AND   C.MNR_PRNR_SEQ  = D.VNDR_SEQ
AND   C.CTRL_OFC_CD   = D.APLY_OFC_CD
AND   C.AGMT_OFC_CTY_CD = D.AGMT_OFC_CTY_CD
AND   C.AGMT_SEQ = D.AGMT_SEQ
AND   C.AGMT_VER_NO = D.AGMT_VER_NO
ORDER BY C.MNR_PRNR_CRE_SEQ			]]></sql>
			<params>
				<param name="agmt_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="agmt_seq" type="12" value="" out="N"/>
				<param name="agmt_ver_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
