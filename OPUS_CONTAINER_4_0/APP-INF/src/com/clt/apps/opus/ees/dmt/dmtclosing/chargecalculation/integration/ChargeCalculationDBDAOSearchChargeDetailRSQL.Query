<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAOSearchChargeDetailRSQL">
			<desc><![CDATA[ChargeCalculationDBDAOSearchChargeDetailRSQL.Query]]></desc>
			<sql><![CDATA[
SELECT 
         SYS_AREA_GRP_ID AS SVR_ID
		,@[bkg_no] AS BKG_NO
        ,CNTR_NO
        ,CNTR_CYC_NO
        ,DMDT_TRF_CD
        ,DMDT_CHG_LOC_DIV_CD
        ,CHG_SEQ
        ,TO_CHAR (C.FM_MVMT_DT, 'YYYYMMDDHH24MI') FM_MVMT_DT 
        ,FM_MVMT_STS_CD
        ,FM_MVMT_YD_CD
        ,TO_CHAR (C.TO_MVMT_DT, 'YYYYMMDD') TO_MVMT_DT 
        ,TO_MVMT_STS_CD
        ,TO_MVMT_YD_CD
        --,FX_FT_OVR_DYS
        --,DMDT_CHG_STS_CD  ?? STS_CD, SCH_CHG_STS
        --,DMDT_PRE_CHG_STS_CD ?? STS_CD, SCH_CHG_STS
        ,DUL_TP_EXPT_FLG
        ,OFC_CD
        ,OFC_RHQ_CD
        --,CUST_CNT_CD  ?? CNT_CD
        ,CORR_RMK
        --,DMDT_INV_NO
        ,WEB_IND_FLG
        --,UPD_USR_ID
        --,UPD_OFC_CD
		,CXL_BKG_CHG_FLG
		,NVL(WEB_MTY_DT, '') AS WEB_MTY_DT
		,(SELECT MST.CNTR_TPSZ_CD FROM MST_CONTAINER MST WHERE MST.CNTR_NO = C.CNTR_NO) CNTR_TPSZ_CD
FROM DMT_CHG_CALC C
WHERE (SYS_AREA_GRP_ID,CNTR_NO,CNTR_CYC_NO) IN (
      SELECT SYS_AREA_GRP_ID, CNTR_NO, CNTR_CYC_NO FROM DMT_CHG_BKG_CNTR
      WHERE BKG_NO IN (@[bkg_no])
    )
AND FM_MVMT_YD_CD = @[fm_mvmt_yd_cd]
AND CNTR_NO = @[cntr_no] --'NYKU5660500'
AND DMDT_TRF_CD = 'DMIF'			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="fm_mvmt_yd_cd" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
