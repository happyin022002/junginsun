<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ScenarioDefaultManageDBDAOMergeLongTermOffHireInfoCSQL">
			<desc><![CDATA[L/T Off-Hire 추가, 수정]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_LONG_TERM_OFFH_COND I
USING
(
    SELECT @[ecc_cd] AS ECC_CD
    ,@[ctrt_ofc_cty_cd] AS CTRT_OFC_CTY_CD
    ,@[ctrt_seq] AS CTRT_SEQ
    ,@[cntr_tpsz_cd] AS CNTR_TPSZ_CD
    FROM DUAL
) M
ON
(
    I.ECC_CD          = M.ECC_CD
    AND I.CTRT_OFC_CTY_CD = M.CTRT_OFC_CTY_CD
    AND I.CTRT_SEQ        = M.CTRT_SEQ
    AND I.CNTR_TPSZ_CD    = M.CNTR_TPSZ_CD
)
WHEN MATCHED THEN
    UPDATE
    SET I.AVAL_OFFH_QTY   = @[aval_offh_qty],
    I.LTOF_CHG_AMT    = @[ltof_chg_amt],
    I.DRFF_CHG_CR_AMT = @[drff_chg_cr_amt],
    I.DRYG_AMT        = @[dryg_amt],
    I.UPD_USR_ID      = @[upd_usr_id],
    I.UPD_DT    	  = SYSDATE
WHEN NOT MATCHED THEN
    INSERT(
        I.ECC_CD
        ,I.CTRT_OFC_CTY_CD
        ,I.CTRT_SEQ
        ,I.CNTR_TPSZ_CD
        ,I.AVAL_OFFH_QTY
        ,I.LTOF_CHG_AMT
        ,I.DRFF_CHG_CR_AMT
        ,I.DRYG_AMT
        ,I.CRE_USR_ID
        ,I.CRE_DT
        ,I.UPD_USR_ID
        ,I.UPD_DT
    )
    VALUES (
        @[ecc_cd], 
        @[ctrt_ofc_cty_cd], 
        @[ctrt_seq], 
        @[cntr_tpsz_cd], 
        @[aval_offh_qty], 
        @[ltof_chg_amt], 
        @[drff_chg_cr_amt], 
        @[dryg_amt], 
        @[upd_usr_id], 
        SYSDATE, 
        @[upd_usr_id], 
        SYSDATE
    )			]]></sql>
			<params>
				<param name="ecc_cd" type="12" value="" out="N"/>
				<param name="ctrt_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="ctrt_seq" type="2" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="aval_offh_qty" type="2" value="" out="N"/>
				<param name="ltof_chg_amt" type="6" value="" out="N"/>
				<param name="drff_chg_cr_amt" type="6" value="" out="N"/>
				<param name="dryg_amt" type="6" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
