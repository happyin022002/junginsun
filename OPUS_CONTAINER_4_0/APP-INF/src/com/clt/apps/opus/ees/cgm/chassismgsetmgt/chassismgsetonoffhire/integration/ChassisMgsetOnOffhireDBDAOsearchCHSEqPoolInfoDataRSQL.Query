<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChassisMgsetOnOffhireDBDAOsearchCHSEqPoolInfoDataRSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT A.EQ_NO,
          A.EQ_TPSZ_CD,
          A.CRNT_YD_CD,
          A.ACIAC_DIV_CD,
          A.CHSS_POOL_CD,
          A.CRNT_LOC_CD,
          A.EQ_KND_CD,
          A.CHSS_RGST_UPD_OFC_CD,
          A.CHSS_RGST_UPD_ID,
          TO_CHAR(A.CHSS_RGST_UPD_DT, 'yyyy-MM-dd') AS CHSS_RGST_UPD_DT
     FROM CGM_EQUIPMENT A
    WHERE 
      A.EQ_KND_CD = @[eq_knd_cd]
#if (${eq_no} != '') 
      AND A.EQ_NO = @[eq_no]
#else
	#if (${chss_pool_cd} != '') 
	      AND A.CHSS_POOL_CD = @[chss_pool_cd]
	#end
    #if (${scc_cd} != '') 
	      AND A.CRNT_LOC_CD IN 
	       (
	           SELECT A.LOC_CD
	           FROM MDM_LOCATION A,
	                MDM_EQ_ORZ_CHT B
	           WHERE A.SCC_CD = B.SCC_CD
	                AND A.DELT_FLG = 'N'
	                AND B.DELT_FLG = 'N'
			   #if (${location} == 'R')
	                AND B.RCC_CD IN (${scc_cd})
			   #elseif (${location} == 'L')
	                AND B.LCC_CD IN (${scc_cd})
			   #elseif (${location} == 'S')
	                AND B.SCC_CD IN (${scc_cd})
			   #end
	       )
    #end
	#if (${crnt_yd_cd} != '') 
	      AND A.CRNT_YD_CD IN ($crnt_yd_cd)
	#end
	#if (${aciac_div_cd} != '')
		  AND A.ACIAC_DIV_CD = @[aciac_div_cd]
	#end

		AND A.AGMT_LSTM_CD  <> 'NP'
#end
 ORDER BY A.EQ_NO			]]></sql>
			<params>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="eq_no" type="12" value="" out="N"/>
				<param name="chss_pool_cd" type="12" value="" out="N"/>
				<param name="aciac_div_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
