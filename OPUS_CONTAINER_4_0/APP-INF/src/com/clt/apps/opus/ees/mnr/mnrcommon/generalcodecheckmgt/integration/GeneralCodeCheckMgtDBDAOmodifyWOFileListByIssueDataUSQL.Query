<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralCodeCheckMgtDBDAOmodifyWOFileListByIssueDataUSQL">
			<desc><![CDATA[동일한 Service Provider에 이미 입력되었는데 아직 Invoice로 처리되지 않은 내역체크]]></desc>
			<sql><![CDATA[
UPDATE MNR_DAT_VRFY A
SET INP_MSG4 = 'AS'
WHERE A.TMP_SEQ = @[tmp_seq]
AND   A.INP_MSG4 = 'SS'
AND  (A.TMP_SEQ,A.TMP_DTL_SEQ) IN
(
SELECT MDV.TMP_SEQ,MDV.TMP_DTL_SEQ
FROM MNR_DAT_VRFY MDV,MNR_ORD_DTL MOD, MNR_ORD_HDR MOH
WHERE MOD.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD 
  AND MOD.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ 
  AND MOD.PAY_INV_SEQ IS NULL
  AND MDV.INP_MSG1 = MOD.EQ_NO(+)
  AND MDV.TMP_SEQ = @[tmp_seq] 
  AND MOH.EQ_KND_CD = @[eq_type]
  AND MOH.COST_CD   =  @[cost_cd]
  AND MOH.VNDR_SEQ  =  @[vndr_seq]
  AND MOD.COST_DTL_CD = @[cost_dtl_cd]
)			]]></sql>
			<params>
				<param name="tmp_seq" type="12" value="" out="N"/>
				<param name="eq_type" type="12" value="" out="N"/>
				<param name="cost_cd" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="cost_dtl_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
