<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CodSimulateDBDAOSearchCODVskLaneLocDataRSQL">
			<desc><![CDATA[VVD에 따른 LOC 조회]]></desc>
			<sql><![CDATA[
SELECT
	VSL_LOC_CD AS VSL_LOC_CD
	FROM (
	SELECT
		VSL_LOC_CD
		FROM ( 
		SELECT VPS_PORT_CD AS VSL_LOC_CD
	    FROM VSK_VSL_PORT_SKD
		    WHERE VSL_CD 	= @[vsl_cd]
	 	    AND SKD_VOY_NO 	= @[skd_voy_no]
	 	    AND SKD_DIR_CD 	= @[skd_dir_cd]
		    AND EXISTS ( SELECT 'X'
	                        FROM   MDM_EQ_ORZ_CHT CHT, MDM_LOCATION ML
	                        WHERE  CHT.SCC_CD = ML.SCC_CD
                              AND    VPS_PORT_CD = ML.LOC_CD
                              AND    ROWNUM      = 1)
                        AND SLAN_CD 	    = DECODE(@[vsl_lane_cd], NULL, DECODE(@[vsl_cd], NULL, @[vsl_lane_cd], SLAN_CD)  , null)
                        AND TO_CHAR(VPS_ETD_DT ,'YYYYMMDD') >= (SELECT WK_ST_DT FROM EQR_WK_PRD WHERE PLN_YR || PLN_WK = @[pln_yrwk] )
		                ORDER BY  VPS_ETD_DT
		      ) Z
         )			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="1" out="N"/>
				<param name="skd_voy_no" type="12" value="2" out="N"/>
				<param name="skd_dir_cd" type="12" value="3" out="N"/>
				<param name="vsl_lane_cd" type="12" value="4" out="N"/>
				<param name="pln_yrwk" type="12" value="5" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
