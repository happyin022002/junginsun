<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CommonDBDAOSearchVesselScheduleCheckRSQL">
			<desc><![CDATA[vessel schedule 정보 조회]]></desc>
			<sql><![CDATA[
SELECT																				
    MAX(VSL_CD) VSL_CD															
    , MAX(SKD_VOY_NO) SKD_VOY_NO      			  								                       
    , MAX(SKD_DIR_CD) SKD_DIR_CD											 			
    , MAX(VPS_PORT_CD) VPS_PORT_CD  -- VSL_LOC_CD												
    , MAX(CLPT_IND_SEQ) CLPT_IND_SEQ -- VSL_CALL_IND_CD								
    , MAX(CLPT_SEQ) CLPT_SEQ     -- VSL_CALL_SEQ										
    , MAX(TO_CHAR(VPS_ETA_DT ,'YYYY-MM-DD HH24:MI:SS')) VPS_ETA_DT   -- VSL_ETA_DT	
    , MAX(TO_CHAR(VPS_ETB_DT ,'YYYY-MM-DD HH24:MI:SS')) VPS_ETB_DT   -- VSL_ETB_DT	
    , MAX(TO_CHAR(VPS_ETD_DT ,'YYYY-MM-DD HH24:MI:SS')) VPS_ETD_DT   -- VSL_ETD_DT	
    , MAX(TURN_PORT_IND_CD) TURN_PORT_IND_CD -- VSL_TURN_PORT_INFO_CD				
    , MAX(TURN_SKD_VOY_NO) TURN_SKD_VOY_NO  -- VSL_TURN_VOY_NO						
    , MAX(TURN_SKD_DIR_CD) TURN_SKD_DIR_CD  -- VSL_TURN_DIR_CD						
    , MAX(TURN_CLPT_IND_SEQ) TURN_CLPT_IND_SEQ -- VSL_TURN_CALL_IND_CD				
    , MAX(SLAN_CD) SLAN_CD          -- VSL_SLAN_CD				
	, MAX(YD_CD) YD_CD					
    --max(SKD_OWNR_CD) SKD_OWNR_CD      -- VSL_USD_CD									
FROM 
    VSK_VSL_PORT_SKD																	
WHERE 
    VSL_CD     = @[vsl_cd]    -- VSL_CD 입력값   EX) EME7							    
    AND   SKD_VOY_NO = @[skd_voy_no]    -- SKD VOY 입력값  EX) 0718							    
    AND   SKD_DIR_CD = @[skd_dir_cd]       -- SKD DIR 입력값  EX) N								
    AND   VPS_PORT_CD = @[vsl_port_cd] -- port												    
    AND   SLAN_CD = @[slan_cd] -- lane												    
    AND VPS_ETA_DT BETWEEN (
                            SELECT 
                                TO_DATE(WK_ST_DT,'YYYYMMDD') 
                            FROM 
                                EQR_WK_PRD 
                            WHERE 
                                PLN_YR||PLN_WK = @[fm_wk]
                            )  
                        AND (
                            SELECT 
                                TO_DATE(WK_END_DT,'YYYYMMDD') 
                            FROM 
                                EQR_WK_PRD 
                            WHERE 
                                PLN_YR||PLN_WK = @[to_wk]
                            )			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="vsl_port_cd" type="12" value="" out="N"/>
				<param name="slan_cd" type="12" value="" out="N"/>
				<param name="fm_wk" type="12" value="" out="N"/>
				<param name="to_wk" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
