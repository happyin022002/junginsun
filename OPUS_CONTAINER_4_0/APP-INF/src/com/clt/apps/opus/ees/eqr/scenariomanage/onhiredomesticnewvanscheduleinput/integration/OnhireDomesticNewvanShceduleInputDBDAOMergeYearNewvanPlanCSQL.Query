<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OnhireDomesticNewvanShceduleInputDBDAOMergeYearNewvanPlanCSQL">
			<desc><![CDATA[EQR_SCNR_NEW_VAN_LONG_TERM 테이블의 데이터 수정/입력]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_SCNR_NEW_VAN_LONG_TERM A
USING (
    SELECT
    @[scnr_id]  AS SCNR_ID,
    @[pln_yrmon]  AS PLN_YRMON,
    @[co_cd]  AS CO_CD,
    @[ecc_cd]  AS ECC_CD,
    @[cntr_lstm_cd]  AS CNTR_LSTM_CD,
    @[cntr_tpsz_cd]  AS CNTR_TPSZ_CD,
    @[vndr_cnt_cd]  AS VNDR_CNT_CD,
    @[vndr_seq]  AS VNDR_SEQ,
    @[cntr_de_sts_cd]  AS CNTR_DE_STS_CD,
    @[vndr_abbr_nm]  AS VNDR_ABBR_NM
    FROM DUAL
) B
ON (
    A.SCNR_ID        = B.SCNR_ID
    AND A.PLN_YRMON      = B.PLN_YRMON
    AND A.CO_CD          = B.CO_CD
    AND A.ECC_CD         = B.ECC_CD
    AND A.CNTR_LSTM_CD   = B.CNTR_LSTM_CD
    AND A.CNTR_TPSZ_CD   = B.CNTR_TPSZ_CD
    AND A.VNDR_CNT_CD    = B.VNDR_CNT_CD
    AND A.VNDR_SEQ       = B.VNDR_SEQ
    AND A.CNTR_DE_STS_CD = B.CNTR_DE_STS_CD
    AND A.VNDR_ABBR_NM   = B.VNDR_ABBR_NM
)
WHEN MATCHED THEN
    UPDATE
    SET A.CNTR_VOL_QTY   = @[cntr_vol_qty],
    A.UPD_USR_ID    = @[upd_usr_id],
    A.UPD_DT         = SYSDATE
WHEN NOT MATCHED THEN
    INSERT (
        A.SCNR_ID       ,
        A.PLN_YRMON     ,
        A.CO_CD         ,
        A.ECC_CD        ,
        A.CNTR_LSTM_CD  ,
        A.CNTR_TPSZ_CD  ,
        A.VNDR_CNT_CD   ,
        A.VNDR_SEQ      ,
        A.CNTR_DE_STS_CD,
        A.CNTR_VOL_QTY  ,
        A.VNDR_ABBR_NM  ,
        A.CRE_USR_ID    ,
        A.CRE_DT        ,
        A.UPD_USR_ID    ,
        A.UPD_DT
    ) VALUES (
        @[scnr_id],
        @[pln_yrmon],
        @[co_cd],
        @[ecc_cd],
        @[cntr_lstm_cd],
        @[cntr_tpsz_cd],
        @[vndr_cnt_cd],
        @[vndr_seq],
        @[cntr_de_sts_cd],
        @[cntr_vol_qty],
        @[vndr_abbr_nm],
        @[upd_usr_id],
        SYSDATE,
        @[upd_usr_id],
        SYSDATE
    )			]]></sql>
			<params>
				<param name="scnr_id" type="12" value="" out="N"/>
				<param name="pln_yrmon" type="12" value="" out="N"/>
				<param name="co_cd" type="12" value="" out="N"/>
				<param name="ecc_cd" type="12" value="" out="N"/>
				<param name="cntr_lstm_cd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="vndr_cnt_cd" type="12" value="" out="N"/>
				<param name="vndr_seq" type="2" value="" out="N"/>
				<param name="cntr_de_sts_cd" type="12" value="" out="N"/>
				<param name="vndr_abbr_nm" type="12" value="" out="N"/>
				<param name="cntr_vol_qty" type="2" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
