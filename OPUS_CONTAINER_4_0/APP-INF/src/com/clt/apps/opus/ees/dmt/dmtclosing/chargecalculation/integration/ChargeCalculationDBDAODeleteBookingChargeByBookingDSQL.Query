<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAODeleteBookingChargeByBookingDSQL">
			<desc><![CDATA[ChargeCalculationDBDAODeleteBookingChargeByBookingDSQL]]></desc>
			<sql><![CDATA[
DELETE FROM DMT_CHG_BKG_CNTR
WHERE ROWID
	IN
	(
		SELECT ROWID
		FROM DMT_CHG_BKG_CNTR A
		WHERE BKG_NO	= @[bkg_no]
#if (${batch_cntr} != '')
		AND CNTR_NO = @[batch_cntr]
#end
		AND NOT EXISTS ( SELECT 'Y' FROM DMT_CHG_CALC B
	                      WHERE A.SYS_AREA_GRP_ID = B.SYS_AREA_GRP_ID
	                        AND A.CNTR_NO         = B.CNTR_NO
	                        AND A.CNTR_CYC_NO     = B.CNTR_CYC_NO )
	 )			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="batch_cntr" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
