<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralCodeSearchMgtDBDAOsearchMnrAgmtGrpListDataRSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT DECODE(EQ_TP, 1, DECODE(COST_CD, 'RC', 'URC', COST_CD), 2, DECODE(COST_CD, 'RC', 'ZRC', COST_CD), 3, DECODE(COST_CD, 'RC', 'GRC', COST_CD)) COST_CD,
       DECODE(EQ_TP, 1, 'U-'||TT, 2, 'Z-'||TT, 3, 'G-'||TT) AS COST_CD_NM,
       ROW_NUMBER() OVER (ORDER BY EQ_TP, TP) DP_SEQ
  FROM (SELECT DISTINCT DECODE(SUBSTR(A.COST_CD, 5, 2), 'RC', 'RC', A.COST_CD) COST_CD,
                       CASE WHEN A.COST_CD LIKE '%RC' THEN 'Repair' ELSE (SELECT DISTINCT MNR_CD_DESC
                                                                            FROM MNR_GEN_CD
                                                                           WHERE MNR_CD_ID = A.COST_CD
                                                                             AND PRNT_CD_ID LIKE '_G') END TT ,
               DECODE((SELECT MNR_ORD_TP_CD
                         FROM MNR_GEN_CD
                        WHERE MNR_CD_ID = A.COST_CD
                          AND PRNT_CD_ID LIKE '_G'), 'LB', 1, 'TS', 2, 'QT', 3, 1) TP,
               DECODE((SELECT PRNT_CD_ID
                         FROM MNR_GEN_CD
                        WHERE MNR_CD_ID = A.COST_CD
                          AND PRNT_CD_ID LIKE '_G'), 'UG', 1, 'ZG', 2, 'GG', 3, 1) EQ_TP
          FROM MNR_AGMT_RT A, MNR_AGMT_HDR B
         WHERE A.AGMT_OFC_CTY_CD = B.AGMT_OFC_CTY_CD
           AND A.AGMT_SEQ = B.AGMT_SEQ
           AND A.AGMT_VER_NO = B.AGMT_VER_NO
#if(${eq_type} != 'A' && ${eq_type} != '')           
           AND B.EQ_KND_CD = @[eq_type]
#end
          )			]]></sql>
			<params>
				<param name="eq_type" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
