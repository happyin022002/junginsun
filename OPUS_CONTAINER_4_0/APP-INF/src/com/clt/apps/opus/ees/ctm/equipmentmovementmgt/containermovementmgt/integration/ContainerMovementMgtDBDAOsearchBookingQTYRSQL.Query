<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerMovementMgtDBDAOsearchBookingQTYRSQL">
			<desc><![CDATA[부킹번호에 해당하는 컨테이너 정보 조회]]></desc>
			<sql><![CDATA[
SELECT Q.TS AS CNTR_TPSZ_CD,
       Q.QTY AS OP_CNTR_QTY,
       NVL (Q.QTY - A.CNT, 0) AS RENAIN,
       A.TP AS BKG_CGO_TP_CD
  FROM (SELECT   C.CNTR_TPSZ_CD TS,
                 B.BKG_CGO_TP_CD TP,
                 SUM (C.CNTR_VOL_QTY) CNT
            FROM BKG_CONTAINER C,
                 BKG_BOOKING B
           WHERE C.BKG_NO = @[bkg_no]
             AND C.BKG_NO = B.BKG_NO
             AND B.BKG_STS_CD NOT IN ('X', 'S')
        GROUP BY C.CNTR_TPSZ_CD,
                 B.BKG_CGO_TP_CD) A,
       (SELECT CNTR_TPSZ_CD TS,
               OP_CNTR_QTY QTY
          FROM BKG_QUANTITY Q
         WHERE Q.BKG_NO = @[bkg_no]) Q
 WHERE A.TS(+) = Q.TS			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
