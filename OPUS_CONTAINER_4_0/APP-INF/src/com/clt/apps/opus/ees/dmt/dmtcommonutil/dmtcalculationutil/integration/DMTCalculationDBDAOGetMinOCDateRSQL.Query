<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCalculationDBDAOGetMinOCDateRSQL">
			<desc><![CDATA[GetMinOCDate]]></desc>
			<sql><![CDATA[
SELECT /*+ NO_EXPAND INDEX_DESC( M XFN1CTM_MOVEMENT ) */
           M.CNMV_YR         CNMV_YR,
           M.CNMV_SEQ       CNMV_SEQ,
           M.CNMV_SPLIT_NO    CNMV_SPLIT_NO,
           M.MVMT_STS_CD      MVMT_STS_CD,
           M.ORG_YD_CD       ORG_YD_CD,
           TO_CHAR(M.CNMV_EVNT_DT, 'YYYYMMDD') AS CNMV_EVNT_DT
   FROM    CTM_MOVEMENT M
   WHERE   M.CNTR_NO    = @[cntr_no]
   AND     M.CNMV_YR||TO_CHAR(M.CNMV_SEQ,'0000')||M.CNMV_SPLIT_NO < @[cnmv_yr]||TO_CHAR(TO_NUMBER(@[cnmv_seq]),'0000')||@[cnmv_split_no]
#if (${seq} == 1) 
   AND M.MVMT_STS_CD    = 'OC'
#end
   AND ROWNUM      = 1			]]></sql>
			<params>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="cnmv_yr" type="12" value="" out="N"/>
				<param name="cnmv_seq" type="12" value="" out="N"/>
				<param name="cnmv_split_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
