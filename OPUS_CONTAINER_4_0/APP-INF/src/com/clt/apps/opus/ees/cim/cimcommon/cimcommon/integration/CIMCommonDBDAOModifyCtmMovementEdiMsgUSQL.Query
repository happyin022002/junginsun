<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CIMCommonDBDAOModifyCtmMovementEdiMsgUSQL">
			<desc><![CDATA[CTM_MVMT_EDI_MSG 테이블 MVMT_EDI_RSLT_CD D로 변경]]></desc>
			<sql><![CDATA[
UPDATE CTM_MVMT_EDI_MSG
   SET MVMT_EDI_RSLT_CD = 'D'
     , CNMV_RMK = @[cnmv_rmk]
     , RTY_KNT = NVL((
                        SELECT MAX(A.RTY_KNT) RTY_KNT
                        	FROM CTM_EDI_RSLT_RMK A
                         WHERE 1=1
                           AND A.MVMT_EDI_TP_CD 		= @[mvmt_edi_tp_cd]
                           AND A.MVMT_EDI_MSG_TP_ID 	= @[mvmt_edi_msg_tp_id]
                           AND A.MVMT_EDI_MSG_AREA_CD 	= @[mvmt_edi_msg_area_cd]
                           AND A.MVMT_EDI_MSG_YRMONDY 	= @[mvmt_edi_msg_yrmondy]
                           AND A.MVMT_EDI_MSG_SEQ 		= @[mvmt_edi_msg_seq]
                    ), 
                    0)
WHERE 1=1
   AND MVMT_EDI_TP_CD 		= @[mvmt_edi_tp_cd]
   AND MVMT_EDI_MSG_TP_ID 	= @[mvmt_edi_msg_tp_id]
   AND MVMT_EDI_MSG_AREA_CD = @[mvmt_edi_msg_area_cd]
   AND MVMT_EDI_MSG_YRMONDY = @[mvmt_edi_msg_yrmondy]
   AND MVMT_EDI_MSG_SEQ 	= @[mvmt_edi_msg_seq]			]]></sql>
			<params>
				<param name="cnmv_rmk" type="12" value="" out="N"/>
				<param name="mvmt_edi_tp_cd" type="12" value="" out="N"/>
				<param name="mvmt_edi_msg_tp_id" type="12" value="" out="N"/>
				<param name="mvmt_edi_msg_area_cd" type="12" value="" out="N"/>
				<param name="mvmt_edi_msg_yrmondy" type="12" value="" out="N"/>
				<param name="mvmt_edi_msg_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
