<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerOnOffhireDBDAORemoveCntrLotDataDSQL">
			<desc><![CDATA[MST_CONTAINER 데이타를 조회하여 데이타가 존재하지 않으면 MST_CNTR_LOT 데이타 삭제]]></desc>
			<sql><![CDATA[
DELETE
FROM MST_CNTR_LOT LOT
WHERE LOT.LOT_CNTR_PFX_CD = SUBSTR(@[cntr_no], 1, 4)
AND SUBSTR(@[cntr_no], 5, 6 ) BETWEEN LOT.FM_SER_NO AND LOT.TO_SER_NO
AND NOT EXISTS ( 
	SELECT 'X'
    	FROM MST_CONTAINER MC
        WHERE LOT.LOT_PLN_YR  =  MC.LOT_PLN_YR
        AND LOT.LOT_LOC_CD    =  MC.LOT_LOC_CD
        AND LOT.CNTR_TPSZ_CD  =  MC.CNTR_TPSZ_CD
        AND LOT.LOT_SEQ       = MC.LOT_SEQ
) 			]]></sql>
			<params>
				<param name="cntr_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
