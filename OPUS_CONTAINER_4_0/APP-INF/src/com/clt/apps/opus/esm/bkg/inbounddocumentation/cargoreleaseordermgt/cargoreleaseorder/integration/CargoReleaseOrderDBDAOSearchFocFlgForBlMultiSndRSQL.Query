<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOSearchFocFlgForBlMultiSndRSQL">
			<desc><![CDATA[Us cargo release -TDC315 전송시에 multi로 BL을 보내기 위한 현 상태값을 가져온다. 
단순히 현 FOC 값을 가져와서 비교하고 TDC315를 보내기 위함]]></desc>
			<sql><![CDATA[
SELECT MAX(B.FRT_CLT_FLG)  AS CRNT_FRT_CLT_FLG,     
       MAX(B.OBL_RDEM_FLG) AS CRNT_OBL_RDEM_FLG,    
       MAX(B.CSTMS_CLR_CD) AS CRNT_CSTMS_CLR_CD    
  FROM BKG_CGO_RLSE A,
       BKG_CGO_RLSE_HIS B,
       BKG_CSTMS_ADV_BL C
 WHERE A.BL_NO = @[bl_no]     /* 변수 치환 */
   AND A.BL_NO = B.BL_NO(+)
   AND B.HIS_SEQ = (SELECT DECODE(MAX(HIS_SEQ) - 1,0,1,MAX(HIS_SEQ) - 1)
                      FROM BKG_CGO_RLSE_HIS
                     WHERE BL_NO = @[bl_no]) /* 변수 치환 */
   AND A.BL_NO  = C.BL_NO
   AND C.CNT_CD = 'US'			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
