<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SriLankaManifestListDownloadDBDAOsearchCntrListRSQL">
			<desc><![CDATA[스리랑카세관 신고용 Container List 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT  '' seq,cntr_no, CNTR_TPSZ_CD, CNTR_SEAL_NO,
PCK_QTY,  PCK_TP_CD,
 CNTR_WGT,  WGT_UT_CD,
MEAS_QTY,  MEAS_UT_CD ,BL_NO,
COUNT(DISTINCT cntr_no) OVER() BL_TOTAL
FROM
(SELECT NVL(A.CNTR_NO,' ') cntr_no, 
NVL(A.CNTR_TPSZ_CD,' ') CNTR_TPSZ_CD, 
NVL(MIN(B.CNTR_SEAL_NO),' ') CNTR_SEAL_NO,
NVL(A.PCK_QTY,0) PCK_QTY, NVL(A.PCK_TP_CD,' ') PCK_TP_CD,
NVL(A.CNTR_WGT,0) CNTR_WGT, NVL(A.WGT_UT_CD,' ') WGT_UT_CD,
NVL(A.MEAS_QTY,0) MEAS_QTY, NVL(A.MEAS_UT_CD,' ') MEAS_UT_CD ,C.BL_NO BL_NO
FROM   BKG_CONTAINER A, BKG_CNTR_SEAL_NO B,BKG_BOOKING C
WHERE  A.BKG_NO       = @[bkg_no]  -- searchBlList ( ) 에서 조회된 bkg no
AND    A.BKG_NO = B.BKG_NO(+)
AND    A.CNTR_NO = B.CNTR_NO(+)
AND    A.BKG_NO = C.BKG_NO
GROUP BY  NVL(A.CNTR_NO,' '), NVL(A.CNTR_TPSZ_CD,' ') ,
NVL(A.PCK_QTY,0) , NVL(A.PCK_TP_CD,' ') ,
NVL(A.CNTR_WGT,0) , NVL(A.WGT_UT_CD,' ') ,
NVL(A.MEAS_QTY,0) , NVL(A.MEAS_UT_CD,' ')  ,C.BL_NO 
ORDER BY bl_no,NVL(A.CNTR_NO,' ') )			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
