<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RevenueDebitNoteDBDAOBkgRevDrNoteVOExistRevDrNoteRSQL">
			<desc><![CDATA[진행중인 RDN 번호를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT  MAX(RDN_NO) RDN_NO
FROM    (
        SELECT  RDN_NO    ,
                RDN_STS_CD
        FROM    BKG_REV_DR_NOTE A
        WHERE   BKG_NO    = @[bkg_no]
        AND     NOT EXISTS  (
                            SELECT  'X'
                            FROM  BKG_REV_DR_NOTE B
                            WHERE B.RDN_NO    = A.RDN_NO
                            AND   B.RVIS_SEQ  > A.RVIS_SEQ
                            )
        )
WHERE   RDN_STS_CD  NOT IN ( 'ST', 'CL' )
			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
