<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="StatusReportDBDAOSearchSelectColumnRSQL">
			<desc><![CDATA[Retrieving columns of selected report kind]]></desc>
			<sql><![CDATA[
SELECT NVL(BKG_JOIN_FNC(CURSOR(SELECT COL_NM
                                 FROM BKG_RPT_DFLT_DTL A
                                WHERE TBL_NM = @[rpt_knd_cd]
                                  AND RPT_ID = @[rpt_id]
                                ORDER BY ORD_SEQ
                              ),',')
         , BKG_JOIN_FNC(CURSOR(SELECT COL_NM
                                 FROM BKG_TBL_COL 
                                WHERE TBL_NM = @[rpt_knd_cd]
                                ORDER BY STS_RPT_ORD_SEQ
                              ),',')
       ) AS COLS
      ,NVL(BKG_JOIN_FNC(CURSOR(SELECT (SELECT STS_RPT_ORD_SEQ FROM BKG_TBL_COL WHERE TBL_NM = A.TBL_NM AND COL_NM = A.COL_NM)
                                 FROM BKG_RPT_DFLT_DTL A
                                WHERE TBL_NM = @[rpt_knd_cd]
                                  AND RPT_ID = @[rpt_id]
                                ORDER BY ORD_SEQ
                              ),',')
         , BKG_JOIN_FNC(CURSOR(SELECT STS_RPT_ORD_SEQ
                                 FROM BKG_TBL_COL 
                                WHERE TBL_NM = @[rpt_knd_cd]
                                ORDER BY STS_RPT_ORD_SEQ
                              ),',')
       ) AS COLS_SEQ
  FROM DUAL			]]></sql>
			<params>
				<param name="rpt_knd_cd" type="12" value="" out="N"/>
				<param name="rpt_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
