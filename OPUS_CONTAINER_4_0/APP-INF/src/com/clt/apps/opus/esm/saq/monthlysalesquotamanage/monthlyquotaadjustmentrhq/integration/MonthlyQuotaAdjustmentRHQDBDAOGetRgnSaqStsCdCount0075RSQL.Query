<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MonthlyQuotaAdjustmentRHQDBDAOGetRgnSaqStsCdCount0075RSQL">
			<desc><![CDATA[STEP 04 에 관련된 STEP 05 의 특정 상태 진행 건수 조회]]></desc>
			<sql><![CDATA[
SELECT COUNT(*) AS STS_CNT
FROM   SAQ_MON_QTA_STEP_VER
WHERE  MQTA_STEP_CD = '05'
AND    BSE_YR = @[year]
AND    BSE_QTR_CD = @[bse_quarter]
AND    TRD_CD = @[trade]
AND    DIR_CD = @[bound]
AND    GLINE_VER_NO = @[glineVerNo]
AND    CRE_OFC_CD IN (
    SELECT DISTINCT CTRT_RGN_OFC_CD
    FROM   SAQ_MON_QTA_RHQ
    WHERE  MQTA_STEP_CD = '04'
    AND    BSE_YR = @[year]
    AND    BSE_QTR_CD = @[bse_quarter]
    AND    TRD_CD = @[trade]
    AND    DIR_CD = @[bound]
    AND    MQTA_VER_NO = @[mQtaVerNo] )
AND    SAQ_STS_CD IN (
    SELECT A.INTG_CD_VAL_CTNT AS STS_CODE
    FROM  COM_INTG_CD_DTL A, COM_INTG_CD_DTL B
    WHERE A.INTG_CD_ID = 'CD00926'
    AND   B.INTG_CD_ID = 'CD00926'
    AND   B.INTG_CD_VAL_CTNT = @[saq_sts_cd]
    AND   A.INTG_CD_VAL_DP_SEQ >= B.INTG_CD_VAL_DP_SEQ )			]]></sql>
			<params>
				<param name="year" type="12" value="" out="N"/>
				<param name="bse_quarter" type="12" value="" out="N"/>
				<param name="trade" type="12" value="" out="N"/>
				<param name="bound" type="12" value="" out="N"/>
				<param name="glineVerNo" type="12" value="" out="N"/>
				<param name="mQtaVerNo" type="12" value="" out="N"/>
				<param name="saq_sts_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
