<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UnmatchBLDBDAORsltSearchBkgStatusRSQL">
			<desc><![CDATA[searchBkgStatus]]></desc>
			<sql><![CDATA[
SELECT  BK.BKG_STS_CD ,
        'N'   CA_FLG  ,
        BR.BKG_CTRT_TP_CD CTRT_TP_CD  ,
        (
        SELECT  CORR_NO
        FROM    (
                SELECT  CORR_NO ,
                        ROW_NUMBER() OVER ( PARTITION BY BKG_NO ORDER BY CORR_GDT DESC ) ROW_NUMBER
                FROM    BKG_CORRECTION
                WHERE   BKG_NO  = @[bkg_no]
                AND     CORR_NO <> 'TMP0000001'
                )
        WHERE   ROW_NUMBER  = 1
        ) CORR_NO       ,
        BK.SVC_SCP_CD
FROM    BKG_BOOKING BK  ,
        BKG_RATE    BR
WHERE   BR.BKG_NO = BK.BKG_NO
AND     BK.BKG_NO = @[bkg_no]
			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
