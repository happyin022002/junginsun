<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOSearchEdiSeanaccsCommonRSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT '   '||RPAD('DOR  ',5,' ')||
       RPAD(' ',21,' ')||
       @[usr_id]||
       @[usr_pwd]||
       RPAD(' ',174,' ')||
       RPAD(' ',26,' ')||
       RPAD(' ',8,' ')||
       RPAD(UPPER(@[cre_usr_id]),10,' ')||
       RPAD(' ',100,' ')||
       RPAD(' ',1,' ')||
       '2'||
       RPAD(' ',27,' ')|| 
       LPAD((SUB_1.LEN_1 + length(SUB_1.LEN_2) + 400),6,'0')||CHR(13)||CHR(10)  /* 400 은 입력공통항목 자릿수 */
FROM (
	   SELECT (SELECT SUM(LENGTH(RPAD(DECODE(NVL(B.BL_NO,' '),' ',' ',COM_ConstantMgr_PKG.COM_getScacCode_FNC||B.BL_NO),35,' ')
                                    ||CHR(13)
                                    ||CHR(10)
                                    ||RPAD(NVL(NVL(C.JP_DO_ID,C.DO_NO),' '),10,' ')
                                    ||CHR(13)
                                    ||CHR(10)
                                    ||RPAD(NVL(NVL(D.CY_OP_CD,E.CY_OPR_ID),' '),5,' ')
                                    ||CHR(13)
                                    ||CHR(10)
                                    ||DECODE( NVL(D.INFO_CGO_FLG,' '), 'N',' ','Y')
                                    ||CHR(13)
                                    ||CHR(10) )) LEN_1
                  FROM   BKG_JP_DO_IF   A
                       , BKG_BOOKING    B
                       , BKG_DO         C
                       , BKG_DO_REF     D
                       ,BKG_CSTMS_JP_BL E
                  WHERE A.JP_DO_GRP_NO     = @[grp_no] -- 전송 대상 그룹핑으로 묶인 B/L
                  AND   A.JP_DO_SND_STS_CD = 'T'
                  AND   B.BKG_NO           = A.BKG_NO
                  AND   C.BKG_NO           = A.BKG_NO
                  AND   D.BKG_NO(+)        = A.BKG_NO
                  AND   E.BL_NO(+)         = A.BKG_NO)    AS LEN_1
               ,(SELECT NVL(@[evnt_cd],' ')||CHR(13)||CHR(10)||    --  '1' 등록
                        LPAD(' ',5,' ')||CHR(13)||CHR(10) AS LEN2
                 FROM DUAL ) AS LEN_2
        FROM DUAL
) SUB_1
WHERE 1=1			]]></sql>
			<params>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="usr_pwd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="grp_no" type="12" value="" out="N"/>
				<param name="evnt_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
