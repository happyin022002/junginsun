<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UsaCustomsTransmissionDBDAOsearchCFlag4ARSQL">
			<desc><![CDATA[searchCFlag4A]]></desc>
			<sql><![CDATA[
SELECT CASE WHEN SUM(DSPO_CD_1C) > 0 THEN 'N'
            WHEN SUM(DSPO_CD_1A_QTY) > 0 AND SUM(DSPO_CD_1B_QTY) > 0 AND SUM(DSPO_CD_1A_QTY) = SUM(DSPO_CD_1B_QTY) THEN 'H'
            WHEN SUM(DSPO_CD_1C) = 0 AND SUM(DSPO_CD_1B) = 0 THEN 'H'
            ELSE ''
        END CFLAG
  FROM (
        SELECT DECODE(DSPO_CD, '1C', 1, 0) AS DSPO_CD_1C
              ,DECODE(DSPO_CD, '1B', 1, 0) AS DSPO_CD_1B
              ,DECODE(DSPO_CD, '1A', CNTR_QTY, 0) AS DSPO_CD_1A_QTY
              ,DECODE(DSPO_CD, '1B', CNTR_QTY, 0) AS DSPO_CD_1B_QTY
         FROM BKG_CSTMS_ADV_RSLT 
        WHERE CNT_CD = 'US'
          AND BL_NO  = @[bl_no]
          AND NVL(RSND_FLG,'N') <> 'Y'
          AND BL_NVOCC_TP_CD = 'M'
       )			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
