<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOsearchBLInfoRSQL">
			<desc><![CDATA[Back End Bc 1]]></desc>
			<sql><![CDATA[
SELECT NVL(MAX(BKG_VVD)             ,MAX(CSTMS_VVD))              AS VVD,
       NVL(MAX(BKG_POD_CD)          ,MAX(CSTMS_POD_CD))           AS POD_CD,
       NVL(MAX(BKG_DEL_CD)          ,MAX(CSTMS_DEL_CD))           AS DEL_CD,
       NVL(MAX(BKG_FINC_CTRL_OFC_CD),MAX(CSTMS_FINC_CTRL_OFC_CD)) AS FINC_CTRL_OFC_CD
  FROM (
        SELECT A.VSL_CD||A.SKD_VOY_NO||A.SKD_DIR_CD AS CSTMS_VVD,
               A.CSTMS_PORT_CD                      AS CSTMS_POD_CD,
               A.DEL_CD                             AS CSTMS_DEL_CD,
               B.FINC_CTRL_OFC_CD                   AS CSTMS_FINC_CTRL_OFC_CD,
               '' AS BKG_VVD,
               '' AS BKG_POD_CD,
               '' AS BKG_DEL_CD,
               '' AS BKG_FINC_CTRL_OFC_CD
          FROM BKG_CSTMS_ADV_BL A,
               MDM_LOCATION     B
         WHERE A.BL_NO  = @[bl_no]
           AND A.CSTMS_PORT_CD LIKE 'US%'
           AND A.DEL_CD = B.LOC_CD(+)
        UNION ALL
        SELECT '',
               '',
               '',
               '',
               A.VSL_CD||A.SKD_VOY_NO||A.SKD_DIR_CD ,
               A.POD_CD                       ,
               B.DEL_CD                       ,
               C.FINC_CTRL_OFC_CD             
          FROM  BKG_VVD      A,
                     BKG_BOOKING  B,
                     MDM_LOCATION C
         WHERE A.BKG_NO = B.BKG_NO
            AND B.BL_NO  = @[bl_no]
            AND A.POD_CD LIKE 'US%'
            AND B.DEL_CD = C.LOC_CD(+) 
            AND ROWNUM = 1
       )			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
