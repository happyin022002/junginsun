<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PanamaCustomsTransmissionDBDAOsearchHamoTrpCdRSQL">
			<desc><![CDATA[searchHamoTrpCd]]></desc>
			<sql><![CDATA[
SELECT 
	SUBSTR(F.HAMO_TRF_CD, 1, 6) HAMO_TRF_CD, 
	COUNT(F.HAMO_TRF_CD) HAMOCOUNT
FROM 
	BKG_VVD A, 
	VSK_VSL_PORT_SKD B, 
	VSK_VSL_PORT_SKD C, 
	BKG_BOOKING D, 
	BKG_CONTAINER E, 
	BKG_CNTR_MF_DESC F
WHERE A.VSL_CD          =  @[vsl_cd]
AND A.SKD_VOY_NO   =  @[skd_voy_no]
AND A.SKD_DIR_CD      =  @[skd_dir_cd]
AND B.VSL_CD          =  A.VSL_CD
AND B.SKD_VOY_NO   =  A.SKD_VOY_NO
AND B.SKD_DIR_CD      =  A.SKD_DIR_CD
AND B.VPS_PORT_CD      =  A.POL_CD
AND C.VSL_CD          =  A.VSL_CD
AND C.SKD_VOY_NO   =  A.SKD_VOY_NO
AND C.SKD_DIR_CD      =  A.SKD_DIR_CD
AND C.VPS_PORT_CD      =  A.POD_CD
AND C.CLPT_SEQ    >  B.CLPT_SEQ
AND B.CLPT_SEQ    <= @[clpt_seq]
AND C.CLPT_SEQ    >  @[clpt_seq]
AND D.BKG_NO          =  A.BKG_NO
AND D.BKG_STS_CD         IN ('W', 'F')
AND D.BKG_CGO_TP_CD      =  'F'
AND E.BKG_NO          =  D.BKG_NO
AND F.BKG_NO          =  E.BKG_NO
AND F.CNTR_NO         =  E.CNTR_NO
AND F.HAMO_TRF_CD IS NOT NULL
GROUP BY SUBSTR(F.HAMO_TRF_CD, 1, 6)
ORDER BY 2 DESC			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="clpt_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
