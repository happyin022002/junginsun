<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChinaManifestListDownloadDBDAOaddVslInfoListCSQL">
			<desc><![CDATA[addVslInfoList]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_CSTMS_CHN_VVD
       (VSL_CD,
        SKD_VOY_NO,
        SKD_DIR_CD,
        PORT_CD,
        PRE_CLPT_CD,
        NXT_CLPT_CD,
        VSL_NM,
        CALL_SGN_NO,
        ETA_DT,
        ETD_DT,
        CRE_DT,
        CRE_USR_ID,
        UPD_DT,
        UPD_USR_ID,
        --MF_SND_DT,
        --MF_SND_USR_ID,
        SLAN_CD,
        CHN_MF_SND_IND_CD,
        LLOYD_NO,
        ETB_DT,
        BKG_VSL_CD,
        BKG_SKD_VOY_NO,
        BKG_SKD_DIR_CD)

 SELECT @[vsl_cd] AS VSL_CD,
        @[skd_voy_no] AS SKD_VOY_NO,
        @[skd_dir_cd] AS SKD_DIR_CD,
        @[port_cd] AS PORT_CD,
        @[pre_clpt_cd] AS PRE_CLPT_CD,
        @[nxt_clpt_cd] AS NXT_CLPT_CD,
        @[vsl_nm] AS VSL_NM,
        @[call_sgn_no] AS CALL_SGN_NO,
        TO_DATE(@[eta_dt], 'YYYYMMDD HH24MISS') AS ETA_DT,
        TO_DATE(@[etd_dt], 'YYYYMMDD HH24MISS') AS ETD_DT,
        SYSDATE AS CRE_DT,
        @[cre_usr_id] AS CRE_USR_ID,
        SYSDATE AS UPD_DT,
        @[upd_usr_id] AS UPD_USR_ID,
        @[slan_cd] AS SLAN_CD,
        @[chn_mf_snd_ind_cd] AS CHN_MF_SND_IND_CD,
        @[lloyd_no] AS LLOYD_NO,
        TO_DATE(@[etb_dt], 'YYYYMMDD HH24MISS') AS ETB_DT,
        @[bkg_vsl_cd] AS BKG_VSL_CD,
        @[bkg_skd_voy_no] AS BKG_SKD_VOY_NO,
        @[bkg_skd_dir_cd] AS BKG_SKD_DIR_CD

   FROM (SELECT COUNT(CHN_MF_SND_IND_CD) AS CNT
           FROM BKG_CSTMS_CHN_VVD
          WHERE 1=1
            AND CHN_MF_SND_IND_CD = @[chn_mf_snd_ind_cd]
            AND VSL_CD = @[vsl_cd]
            AND SKD_VOY_NO = @[skd_voy_no]
            AND SKD_DIR_CD = @[skd_dir_cd]
            AND PORT_CD = @[port_cd]) A
  WHERE A.CNT = 0			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="port_cd" type="12" value="" out="N"/>
				<param name="pre_clpt_cd" type="12" value="" out="N"/>
				<param name="nxt_clpt_cd" type="12" value="" out="N"/>
				<param name="vsl_nm" type="12" value="" out="N"/>
				<param name="call_sgn_no" type="12" value="" out="N"/>
				<param name="eta_dt" type="12" value="" out="N"/>
				<param name="etd_dt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="slan_cd" type="12" value="" out="N"/>
				<param name="chn_mf_snd_ind_cd" type="12" value="" out="N"/>
				<param name="lloyd_no" type="12" value="" out="N"/>
				<param name="etb_dt" type="12" value="" out="N"/>
				<param name="bkg_vsl_cd" type="12" value="" out="N"/>
				<param name="bkg_skd_voy_no" type="12" value="" out="N"/>
				<param name="bkg_skd_dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
