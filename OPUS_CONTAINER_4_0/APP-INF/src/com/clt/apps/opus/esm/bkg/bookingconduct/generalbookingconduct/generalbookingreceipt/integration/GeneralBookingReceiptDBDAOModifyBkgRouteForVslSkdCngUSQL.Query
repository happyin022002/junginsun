<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOModifyBkgRouteForVslSkdCngUSQL">
			<desc><![CDATA[PORT]]></desc>
			<sql><![CDATA[
UPDATE BKG_BOOKING
   SET POR_NOD_CD       = CASE WHEN RCV_TERM_CD <> 'D' AND POR_NOD_CD = POL_NOD_CD 
										THEN DECODE(POL_CD, @[port_cd], @[new_yd_cd], POL_NOD_CD)
							   ELSE POR_NOD_CD END
	 , POL_NOD_CD		= DECODE(POL_CD, @[port_cd], @[new_yd_cd], POL_NOD_CD)
  	 , POD_NOD_CD 		= DECODE(POD_CD, @[port_cd], @[new_yd_cd], POD_NOD_CD)	
	 , DEL_NOD_CD		= CASE WHEN DE_TERM_CD <> 'D' AND DEL_NOD_CD = POD_NOD_CD
										THEN DECODE(POD_CD, @[port_cd], @[new_yd_cd], POD_NOD_CD)
							   ELSE DEL_NOD_CD END
     , upd_usr_id 		= @[upd_usr_id]
     , upd_dt 			= SYSDATE
 WHERE BKG_NO = @[bkg_no]			]]></sql>
			<params>
				<param name="port_cd" type="12" value="" out="N"/>
				<param name="new_yd_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
