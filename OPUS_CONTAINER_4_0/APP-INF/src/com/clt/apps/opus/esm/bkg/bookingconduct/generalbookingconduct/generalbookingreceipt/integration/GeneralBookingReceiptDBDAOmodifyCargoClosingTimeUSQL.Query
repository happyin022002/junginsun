<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOmodifyCargoClosingTimeUSQL">
			<desc><![CDATA[update]]></desc>
			<sql><![CDATA[
UPDATE BKG_CLZ_TM SET 
#if (${clz_tp_cd} == 'D') 
    MNL_SET_DT = (SELECT CASE WHEN TO_CHAR(SYS_SET_DT,'YYYYMMDDHH24MI') = @[mnl_set_dt] AND MNL_SET_DT IS NULL THEN NULL
		 			  		  ELSE TO_DATE(@[mnl_set_dt],'YYYYMMDDHH24MISS')
     			 		 END AS DT
				  FROM BKG_CLZ_TM WHERE	BKG_NO = @[bkg_no] AND CLZ_TP_CD = @[clz_tp_cd])
#else 
    MNL_SET_DT = TO_DATE(@[mnl_set_dt],'YYYYMMDDHH24MISS')
#end
,	MNL_SET_USR_ID = decode(nvl(@[mnl_set_dt], 'X'), 'X', 'SYSTEM', @[upd_usr_id])
,	NTC_FLG = @[ntc_flg] 
,	UPD_USR_ID = @[upd_usr_id]
,	UPD_DT = sysdate
WHERE	BKG_NO = @[bkg_no] 
AND CLZ_TP_CD = @[clz_tp_cd]			]]></sql>
			<params>
				<param name="mnl_set_dt" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="clz_tp_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="ntc_flg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
