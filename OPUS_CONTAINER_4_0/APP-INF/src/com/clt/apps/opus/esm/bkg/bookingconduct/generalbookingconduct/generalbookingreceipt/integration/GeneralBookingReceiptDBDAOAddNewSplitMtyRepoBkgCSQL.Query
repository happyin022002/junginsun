<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOAddNewSplitMtyRepoBkgCSQL">
			<desc><![CDATA[Split Mty Booking 저장]]></desc>
			<sql><![CDATA[
INSERT INTO bkg_booking 
    (bkg_no
    , bl_no
    , bl_no_tp
    , slan_cd
    , vsl_cd
    , skd_voy_no
    , skd_dir_cd
    , rcv_term_cd
    , de_term_cd
    , por_cd
    , pol_cd
    , pol_nod_cd
    , pod_cd
    , pod_nod_cd
    , del_cd
    , MTY_PKUP_YD_CD
    , pre_rly_port_cd
    , pst_rly_port_cd    
    , bkg_ofc_cd
    , SLS_RHQ_CD
    , SLS_RGN_OFC_CD
    , ob_sls_ofc_cd
    , doc_usr_id
    , bkg_cre_dt
    , bkg_sts_cd
    , bkg_cgo_tp_cd
	, split_flg
    , rep_cmdt_cd
    , xter_rmk
    , inter_rmk
    , mty_bkg_sts_Cd
    , mty_Split_Aval_Cd
	, BKG_CRE_TP_CD
	, FM_BKG_NO
    , CRE_USR_ID
    , CRE_DT
    , UPD_USR_ID
    , UPD_DT
    )
SELECT 
      @[new_bkg_no] --new bkg No
    , @[new_bl_no] --new bl no
    , 0 --bl_no_tp  
    , slan_cd
    , vsl_cd
    , skd_voy_no
    , skd_dir_cd
    , 'Y'
    , 'Y'
    , por_cd
    , pol_cd
    , pol_nod_cd
    , substr(@[pod_yd_cd], 1, 5) --pod_cd
    , @[pod_yd_cd]               --pod_nod_cd
    , substr(@[pod_yd_cd], 1, 5) --del_cd
    , MTY_PKUP_YD_CD
    , substr(@[pre_rly_port_cd], 1, 5)
    , substr(@[pst_rly_port_cd], 1, 5)
    , bkg_ofc_cd
    , SLS_RHQ_CD
    , SLS_RGN_OFC_CD
    , ob_sls_ofc_cd
    , @[usr_id]    --doc_usr_id
    , SYSDATE   --bkg_cre_dt
    , 'F'       --bkg_sts_cd
    , 'P'       --bkg_cgo_tp_cd
	, 'Y' 		--split_flg
    , '8609'    --rep_cmdt_cd
    , 'Empty Container Repositionning Booking' --xter_rmk
    , @[bkg_rmk]
    , @[mty_bkg_sts_cd]
    , @[mty_split_aval_cd]
	, 'S'
	, @[bkg_no]
    , @[usr_id]
    , SYSDATE
    , @[usr_id]
    , SYSDATE  
FROM bkg_booking
WHERE bkg_no        = @[bkg_no] --원본 bkgNo
  and bkg_cgo_tp_cd = 'P'			]]></sql>
			<params>
				<param name="new_bkg_no" type="12" value="" out="N"/>
				<param name="new_bl_no" type="12" value="" out="N"/>
				<param name="pod_yd_cd" type="12" value="" out="N"/>
				<param name="pre_rly_port_cd" type="12" value="" out="N"/>
				<param name="pst_rly_port_cd" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="bkg_rmk" type="12" value="" out="N"/>
				<param name="mty_bkg_sts_cd" type="12" value="" out="N"/>
				<param name="mty_split_aval_cd" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
