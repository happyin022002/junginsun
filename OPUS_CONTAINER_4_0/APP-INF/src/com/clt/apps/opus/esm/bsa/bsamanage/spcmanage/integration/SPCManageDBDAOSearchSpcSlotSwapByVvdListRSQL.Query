<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SPCManageDBDAOSearchSpcSlotSwapByVvdListRSQL">
			<desc><![CDATA[Company Slot Swap Information By VVD 조회 쿼리]]></desc>
			<sql><![CDATA[
SELECT 
		DECODE(A.CRR_CD, '', 'I', 'R') IBFLAG, 
		B.CRR_CD, 
		A.SLS_TEU_CAPA, 
		A.SLS_WGT, 
		A.PUR_TEU_CAPA, 
		A.PUR_WGT, 
      	A.SLT_SWAP_RLANE_CD, 
		A.SLT_SWAP_VVD_CD, 
		A.SLT_SWAP_TEU_CAPA, 
		A.SLT_SWAP_WGT, 
		C.SLT_PRC_CAPA, 
		C.CO_BFR_SUB_CAPA 
FROM BSA_VVD_SWAP_INFO A, 
   ( 
      SELECT DISTINCT CRR_CD 
       FROM BSA_CRR_RGST 
       WHERE BSA_OP_CD  = 'J' 
         AND APLY_FLG   = 'Y' 
         AND CRR_CD    != COM_ConstantMgr_PKG.COM_getCompanyCode_FNC
         AND BSA_OP_JB_CD IN (SELECT BSA_OP_JB_CD 
                              FROM BSA_OP_JB 
                              WHERE BSA_OP_JB_CD IN ( '001','002' ,'003' ,'004' ,'005') 
                                AND BSA_OP_CD      = 'J') 
    ) B, 
    ( 
      SELECT B.CRR_CD, A.CO_BFR_SUB_CAPA, B.SLT_PRC_CAPA 
      FROM BSA_SLT_PRC A, BSA_SLT_PRC_CRR B 
      WHERE A.SLT_PRC_SEQ        = B.SLT_PRC_SEQ 
        AND A.TRD_CD             = B.TRD_CD 
        AND A.RLANE_CD           = B.RLANE_CD 
        AND A.DIR_CD             = B.DIR_CD 
        AND A.BSA_SLT_COST_TP_CD = B.BSA_SLT_COST_TP_CD 
        AND B.BSA_OP_JB_CD       = '001' 
        AND B.BSA_SLT_COST_TP_CD = '017' 
        AND A.TRD_CD             = @[ptrd_cd] 
        AND A.RLANE_CD           = @[prlane_cd] 
        AND A.DIR_CD             = @[pdir_cd]
        AND A.BSA_SLT_PRC_FM_DT <= @[pport_etd_dt] 
        AND A.BSA_SLT_PRC_TO_DT >= @[pport_etd_dt]
    ) C 
WHERE B.CRR_CD        = A.CRR_CD(+) 
 AND B.CRR_CD        = C.CRR_CD(+) 
 AND A.TRD_CD(+)     = @[ptrd_cd]  
 AND A.RLANE_CD(+)   = @[prlane_cd] 
 AND A.VSL_CD(+)     = @[pvsl_cd] 
 AND A.SKD_VOY_NO(+) = @[pskd_voy_no] 
 AND A.SKD_DIR_CD(+) = @[pdir_cd] 
 AND A.BSA_OP_JB_CD(+) = @[pbsa_op_jb_cd] 
ORDER BY CRR_CD			]]></sql>
			<params>
				<param name="ptrd_cd" type="12" value="" out="N"/>
				<param name="prlane_cd" type="12" value="" out="N"/>
				<param name="pdir_cd" type="12" value="" out="N"/>
				<param name="pport_etd_dt" type="12" value="" out="N"/>
				<param name="pvsl_cd" type="12" value="" out="N"/>
				<param name="pskd_voy_no" type="12" value="" out="N"/>
				<param name="pbsa_op_jb_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
