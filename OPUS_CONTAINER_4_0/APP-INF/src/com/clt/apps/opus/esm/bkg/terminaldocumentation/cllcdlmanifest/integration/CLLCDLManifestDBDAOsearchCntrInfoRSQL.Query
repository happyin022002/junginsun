<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CLLCDLManifestDBDAOsearchCntrInfoRSQL">
			<desc><![CDATA[searchCntrInfo]]></desc>
			<sql><![CDATA[
SELECT	
	NVL(B.BL_NO,' ') BL_NO, 
	NVL(B.BL_TP_CD,' ') BL_TP_CD,
	NVL(BCS.CUST_CNT_CD,' ') SHPR_CNT_CD, 
	BCS.CUST_SEQ SHPR_SEQ, 
	BKG_TOKEN_NL_FNC(BCS.CUST_NM,1,'') SHPR_NM1,
	BKG_TOKEN_NL_FNC(BCS.CUST_NM,2,'') SHPR_NM2, 
	BKG_TOKEN_NL_FNC(BCS.CUST_ADDR,1,'') SHPR_NM3,
	BKG_TOKEN_NL_FNC(BCS.CUST_ADDR,2,'') SHPR_NM4, 
	BKG_TOKEN_NL_FNC(BCS.CUST_ADDR,3,'') SHPR_NM5,
	NVL(BCC.CUST_CNT_CD,' ') CNEE_CNT_CD, 
	BCC.CUST_SEQ CNEE_SEQ, 
	BKG_TOKEN_NL_FNC(BCC.CUST_NM,1,'') CNEE_NM1,
	BKG_TOKEN_NL_FNC(BCC.CUST_NM,2,'') CNEE_NM2, 
	BKG_TOKEN_NL_FNC(BCC.CUST_ADDR,1,'') CNEE_NM3,
	BKG_TOKEN_NL_FNC(BCC.CUST_ADDR,2,'') CNEE_NM4, 
	BKG_TOKEN_NL_FNC(BCC.CUST_ADDR,3,'') CNEE_NM5,
	NVL(BCN.CUST_CNT_CD,' ') NTFY_CNT_CD, 
	BCN.CUST_SEQ NTFY_SEQ, 
	BKG_TOKEN_NL_FNC(BCN.CUST_NM,1,'') NTFY_NM1,
	BKG_TOKEN_NL_FNC(BCN.CUST_NM,2,'') NTFY_NM2, 
	BKG_TOKEN_NL_FNC(BCN.CUST_ADDR,1,'') NTFY_NM3,
	BKG_TOKEN_NL_FNC(BCN.CUST_ADDR,2,'') NTFY_NM4, 
	BKG_TOKEN_NL_FNC(BCN.CUST_ADDR,3,'') NTFY_NM5,
	NVL(BCA.CUST_CNT_CD,' ') ANTFY_CNT_CD, 
	BCA.CUST_SEQ ANTFY_SEQ, 
	BKG_TOKEN_NL_FNC(BCA.CUST_NM,1,'') ANTFY_NM1,
	BKG_TOKEN_NL_FNC(BCA.CUST_NM,2,'') ANTFY_NM2, 
	BKG_TOKEN_NL_FNC(BCA.CUST_NM,3,'') ANTFY_NM3,
	BKG_TOKEN_NL_FNC(BCA.CUST_NM,4,'') ANTFY_NM4, 
	BKG_TOKEN_NL_FNC(BCA.CUST_NM,5,'') ANTFY_NM5,
	NVL(BCF.CUST_CNT_CD,' ') FF_CNT_CD, 
	BCF.CUST_SEQ FF_CUST_SEQ, 
	BKG_TOKEN_NL_FNC(BCF.CUST_NM,1,'') FF_NM1,
	BKG_TOKEN_NL_FNC(BCF.CUST_NM,2,'') FF_NM2, 
	BKG_TOKEN_NL_FNC(BCF.CUST_NM,3,'') FF_NM3,
	BKG_TOKEN_NL_FNC(BCF.CUST_NM,4,'') FF_NM4, 
	BKG_TOKEN_NL_FNC(BCF.CUST_NM,5,'') FF_NM5,
	--DECODE(DOC.WGT_UT_CD,
	--		'LBS', ROUND(DECODE(NVL(N.CNTR_TARE_WGT,0),
	--							0, NVL(Z.CNTR_TPSZ_TARE_WGT,0),
	--							NVL(N.CNTR_TARE_WGT,0)
	--						) * 2.20495, 0
	--				),
	--		 DECODE(NVL(N.CNTR_TARE_WGT,0),
	--				0, NVL(Z.CNTR_TPSZ_TARE_WGT,0),
	--				NVL(N.CNTR_TARE_WGT,0)
	--			)
	--) TARE_CNTR_WGT,
	'' TARE_CNTR_WGT,
	T.VSL_CD||T.SKD_VOY_NO||T.SKD_DIR_CD TS_VVD_ID,
	T.POL_CD, 
	T.POD_CD,
	O.CMDT_CD, 
	O.CMDT_NM,
	P.REP_CMDT_CD, 
	P.REP_CMDT_NM,
	B.VSL_CD||B.SKD_VOY_NO||B.SKD_DIR_CD TRNK_VVD_ID,
	substr(Translate(NVL(R.DIFF_RMK,' '),chr(10),' '),1,50) BL_RMK
FROM	
	BKG_BOOKING B,
	BKG_BL_DOC DOC,
	MDM_COMMODITY O,
	MDM_REP_CMDT P,
	BKG_VVD V,
	BKG_VVD T,
	BKG_CONTAINER C,
	BKG_RF_CGO R,
	BKG_AWK_CGO A,
	MDM_CNTR_TP_SZ Z,
	--(	SELECT M.CNTR_NO CNTR_NO,
	--		DECODE(NVL(S.TARE_WGT, 0), 0
	--		, DECODE(NVL(MDM.CNTR_TPSZ_TARE_WGT, 0), 0
	--			, DECODE(M.CNTR_TPSZ_CD, 'T2', 3600, 'T4', 5200, 0), 
    --                            MDM.CNTR_TPSZ_TARE_WGT)
	--	, S.TARE_WGT  ) CNTR_TARE_WGT
	--	FROM MST_CONTAINER M, MST_CNTR_SPEC S, MDM_CNTR_TP_SZ MDM
	--	WHERE M.CNTR_SPEC_NO      =   S.CNTR_SPEC_NO
	--	AND   M.CNTR_TPSZ_CD      =   MDM.CNTR_TPSZ_CD) N,
	BKG_CUSTOMER BCS,
	BKG_CUSTOMER BCC,
	BKG_CUSTOMER BCN,
	BKG_CUSTOMER BCA,
	BKG_CUSTOMER BCF	
WHERE	B.BKG_NO		= @[bkg_no]
 AND	C.CNTR_NO		= @[cntr_no]
 AND	B.BKG_NO		= DOC.BKG_NO(+)
 AND	B.BKG_NO		= C.BKG_NO(+)
 AND	B.BKG_NO		= V.BKG_NO(+)
 AND	@[pol_cd]			= V.POL_CD(+)
 AND	B.BKG_NO		= T.BKG_NO(+)
 AND	@[pod_cd]			= T.POD_CD(+)
 AND	B.CMDT_CD		= O.CMDT_CD(+)
 AND	B.REP_CMDT_CD		= P.REP_CMDT_CD(+)
 AND	C.BKG_NO		= R.BKG_NO(+)
 AND	C.CNTR_NO		= R.CNTR_NO(+)
 AND	C.BKG_NO		= A.BKG_NO(+)
 AND	C.CNTR_NO		= A.CNTR_NO(+)
 --AND	C.CNTR_NO		= N.CNTR_NO(+)
 AND	C.CNTR_TPSZ_CD		= Z.CNTR_TPSZ_CD(+)
 AND	B.BKG_NO = BCS.BKG_NO
 AND	BCS.BKG_CUST_TP_CD = 'S'
 AND	B.BKG_NO = BCC.BKG_NO (+)
 AND	BCC.BKG_CUST_TP_CD (+) = 'C'
 AND	B.BKG_NO = BCN.BKG_NO (+)
 AND	BCN.BKG_CUST_TP_CD (+) = 'N'
 AND	B.BKG_NO = BCA.BKG_NO (+)
 AND	BCA.BKG_CUST_TP_CD (+) = 'A'
 AND	B.BKG_NO = BCF.BKG_NO (+)
 AND	BCF.BKG_CUST_TP_CD (+) = 'F'
 AND	ROWNUM = 1			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
