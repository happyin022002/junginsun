<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TransferOrderIssueDBDAOSearchEurTroListForCfmRSQL">
			<desc><![CDATA[TransferOrderIssueDBDAOSearchEurTroListForCfmRSQL]]></desc>
			<sql><![CDATA[
SELECT MST.TRO_SEQ
        , LPAD(MST.TRO_SEQ, 3, '0') TRO_SEQ_DISP
        , MST.CNTR_NO
        , DECODE(CFM_FLG, 'Y', 'Yes', 'No') CFM_FLG
        , CURR_CD 
        , CORR_NO
        , TRIM(TO_CHAR(NMF_TRNS_REV_AMT, '999,999,999.99')) TRNS_REV_AMT 
        --, DECODE(ALL_IN_RT_FLG, 'Y', 'Yes', 'No') ALL_IN_RT_FLG 
        , DECODE(ALL_IN_RT_CD, 'Y', 'Yes', 'No') ALL_IN_RT_CD 
        , DECODE(T1_DOC_FLG, 'Y', 'Yes', 'No') T1_DOC_FLG 
        , DECODE(VAT_FLG, 'Y', 'Yes', 'No') VAT_FLG 
        , CXL_FLG
        , UPD_USR_ID
        , UPD_DT
        , BKG_NO
        , IO_BND_CD
        , HLG_TP_CD 
        , CFM_DT
        , '' PAYER_CNT_CD
        , '' PAYER_SEQ

        , DECODE(CFM_FLG, 'Y', 'Yes', 'No') CFM_FLG_OLD 
        , BKG_TRSP_MZD_CD 
        , CNTR_PKUP_YD_CD 
        , CNTR_RTN_YD_CD 
        , (
#if (${io_bnd_cd} == 'I') 
           SELECT /*+ INDEX_DESC(TRODTL XPKBKG_EUR_TRO_DTL) */ ZN_CD 
#else 
           SELECT /*+ INDEX(TRODTL XPKBKG_EUR_TRO_DTL) */ ZN_CD 
#end
             FROM BKG_EUR_TRO_DTL
            WHERE BKG_NO    = MST.BKG_NO 
              AND IO_BND_CD = MST.IO_BND_CD 
              AND TRO_SEQ   = MST.TRO_SEQ 
              AND ROWNUM    = 1 ) ZN_CD
		, CNTR_TPSZ_CD
		, TRIM(TO_CHAR(ADD_REV_AMT, '999,999,999.99')) ADD_REV_AMT
		, ADD_REV_CHG_CD
  FROM BKG_EUR_TRO MST
 WHERE MST.BKG_NO    = @[bkg_no]
   AND MST.IO_BND_CD = @[io_bnd_cd]
   and mst.cxl_flg = 'N'			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
