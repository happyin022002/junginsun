<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ArrivalNoticeDBDAOMdmCustomerRSQL">
			<desc><![CDATA[...]]></desc>
			<sql><![CDATA[
SELECT /*+ USE_NL(A B C D) */  
       A.CUST_CNT_CD || LPAD(A.CUST_SEQ,6,'0') AS CUST_CD
      ,CUST_LGL_ENG_NM
      ,A.CUST_CNT_CD
      ,C.CTY_NM
      ,C.BZET_ADDR
      ,B.PHN_NO
      ,B.FAX_NO
      ,B.CUST_EML
      ,CUST_STS_CD
      ,DECODE(D.CUST_RLSE_CTRL_FLG,'N','NO','Y','YES',NULL,'NO',D.CUST_RLSE_CTRL_FLG) BOOKING_ALERT_TO_DATE
      ,A.CRE_DT
      ,SREP_CD
      ,OFC_CD
      ,A.CUST_SEQ
  FROM MDM_CUSTOMER      A
      ,MDM_CUST_CNTC_PNT B
      ,MDM_CUST_ADDR     C
      ,MDM_CR_CUST       D
 WHERE 1 = 1
   AND NVL(A.NMD_CUST_FLG,'N')  <> 'Y'
   AND B.CUST_CNT_CD    = A.CUST_CNT_CD 
   AND B.CUST_SEQ       = A.CUST_SEQ 
   AND C.CUST_CNT_CD    = A.CUST_CNT_CD
   AND C.CUST_SEQ       = A.CUST_SEQ 
   AND C.PRMRY_CHK_FLG = 'Y'
   AND D.CUST_CNT_CD(+) = A.CUST_CNT_CD
   AND D.CUST_SEQ(+)    = A.CUST_SEQ 
   AND B.PRMRY_CHK_FLG = 'Y'   

#if (${cust_cnt_cd} != '' ) 
  AND A.CUST_CNT_CD = @[cust_cnt_cd]
#end

#if (${cust_seq} != '')   
  AND A.CUST_SEQ = TO_NUMBER(@[cust_seq])
#end

#if (${cust_lgl_eng_nm} != '') 
  AND A.CUST_LGL_ENG_NM LIKE UPPER(@[cust_lgl_eng_nm]) || '%'
#end

#if (${cust_cnt_cd_ext} != '') 
  AND A.CUST_CNT_CD = @[cust_cnt_cd_ext]
#end

#if (${ofc_cd} != '')  
 AND A.OFC_CD= UPPER(@[ofc_cd])
#end 

#if (${cust_sts_cd} != '')  
 AND A.CUST_STS_CD = UPPER(@[cust_sts_cd])
#end

#if (${ste_cd} != '')  
 AND C.STE_CD = @[ste_cd]
#end			]]></sql>
			<params>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="cust_lgl_eng_nm" type="12" value="" out="N"/>
				<param name="cust_cnt_cd_ext" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="cust_sts_cd" type="12" value="" out="N"/>
				<param name="ste_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
