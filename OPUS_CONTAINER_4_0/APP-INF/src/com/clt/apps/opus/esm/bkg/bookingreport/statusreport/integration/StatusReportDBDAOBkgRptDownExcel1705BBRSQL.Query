<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="StatusReportDBDAOBkgRptDownExcel1705BBRSQL">
			<desc><![CDATA[BkgRptDownExcel1705BB]]></desc>
			<sql><![CDATA[
#if (${sel_cols} != '') 
SELECT ${sel_cols}
#else 
SELECT *
#end
FROM (
    SELECT
         '1' AS TEMP
        ,'BKG & B/L Info' AS	BL_NO
        ,'BKG & B/L Info' AS	BL_RLSE_OFC
        ,'BKG & B/L Info' AS	BKG_CRE_DT
        ,'BKG & B/L Info' AS	BKG_STAFF
        ,'BKG & B/L Info' AS	BKG_NO
        ,'BKG & B/L Info' AS	BKG_OFC_CD
        ,'BKG & B/L Info' AS	XTER_RMK
        ,'BKG & B/L Info' AS	VNDR_RMK
        ,'BKG & B/L Info' AS	INTER_RMK
        ,'BKG & B/L Info' AS	DG_CERTI
        ,'BKG & B/L Info' AS	XPT_DECL_RCV
        ,'BKG & B/L Info' AS	SLS_AREA
        ,'BKG & B/L Info' AS	OB_SLS_OFC_CD
        ,'BKG & B/L Info' AS	CTRT_SREP_CD
        ,'BKG & B/L Info' AS	OB_SREP_CD
        ,'BKG & B/L Info' AS	SI_FLG
        ,'BKG & B/L Info' AS	SPCL_HND_RMK
        ,'BKG & B/L Info' AS	SPCL_HNDL_INST_DESC
        ,'BKG & B/L Info' AS	STOP_OFF_LOC_CD
        ,'BKG & B/L Info' AS	STOP_OFF_CNTC_PHN_NO
        ,'BKG & B/L Info' AS	STOP_OFF_CNTC_PSON_NM
        ,'BKG & B/L Info' AS	STOP_OFF_DIFF_RMK
--        ,'BKG & B/L Info' AS	CRR_HNGR_SGL_BAR_QTY
--        ,'BKG & B/L Info' AS	CRR_HNGR_DBL_BAR_QTY
--        ,'BKG & B/L Info' AS	CRR_HNGR_TPL_BAR_QTY
--        ,'BKG & B/L Info' AS	MER_HNGR_QTY
        ,'Cargo & Commodity' AS	BKG_STS_CD
        ,'Cargo & Commodity' AS	CGO_N
        ,'Cargo & Commodity' AS	CMDT_CD
        ,'Cargo & Commodity' AS	CMDT_DESC
        ,'Cargo & Commodity' AS	OB_HLG
        ,'Cargo & Commodity' AS	IB_HLG
        ,'Cargo & Commodity' AS	MARK_NOS
        ,'Cargo & Commodity' AS	PCK_QTY
        ,'Cargo & Commodity' AS	PCK_DESC
        ,'Customer' AS	SHPR_NM
        ,'Customer' AS	SHPR_CNTC_NM
        ,'Customer' AS	SHPR_CNTC_NO
        ,'Customer' AS	SHPR_ADDR
        ,'Customer' AS	CNEE_NM
        ,'Customer' AS	CNEE_ADDR
        ,'Customer' AS	FFWD_NM
        ,'Customer' AS	FFWD_CNTC_NM
        ,'Customer' AS	FFWD_CNTC_NO
        ,'Customer' AS	NTFY_PARTY
        ,'Customer' AS	NTFY_ADDR
        ,'Customer' AS	CTRT_PTY_CD
        ,'Customer' AS	CTRT_PTY_NM
        ,'Rate & Invoice' AS	FRT_TERM_CD
        ,'Rate & Invoice' AS	SC_NO
        ,'Rate & Invoice' AS	RFA_NO
        ,'Rate & Invoice' AS	TAA_NO
        ,'Route & Schedule' AS	BOUND
        ,'Route & Schedule' AS	SVC_SCP_CD
        ,'Route & Schedule' AS	TRD_CD
        ,'Route & Schedule' AS	TRAF_MOD_IB
        ,'Route & Schedule' AS	TRAF_MOD_OB
        ,'Route & Schedule' AS	TRSP_MOD_IB
        ,'Route & Schedule' AS	TRSP_MOD_OB
        ,'Route & Schedule' AS	BLCK_STWG_CD
        ,'Route & Schedule' AS	POL_ETB
        ,'Route & Schedule' AS	POR_CNT_CD
        ,'Route & Schedule' AS	POR_CD
        ,'Route & Schedule' AS	POL_CNT_CD
        ,'Route & Schedule' AS	POL_CD
        ,'Route & Schedule' AS	POD_CNT_CD
        ,'Route & Schedule' AS	POD_CD
        ,'Route & Schedule' AS	DEL_CNT_CD
        ,'Route & Schedule' AS	DEL_CD
        ,'Route & Schedule' AS	TS_PORT_1
        ,'Route & Schedule' AS	TS_PORT_2
        ,'Route & Schedule' AS	TS_PORT_3
        ,'Route & Schedule' AS	POD_ETB
        ,'Route & Schedule' AS	TRUNK_VVD
        ,'Route & Schedule' AS	N1_V_SVC
        ,'Route & Schedule' AS	N1_V_DIR
        ,'Route & Schedule' AS	N1_V_VSL_CD
        ,'Route & Schedule' AS	N1_V_VOY_NO
        ,'Route & Schedule' AS	N1_V_VSL_NM
        ,'Route & Schedule' AS	N1_V_VVD
        ,'Route & Schedule' AS	N2_V_VVD
        ,'Route & Schedule' AS	N3_V_VVD
        ,'Route & Schedule' AS	N4_V_VVD
        ,'Route & Schedule' AS	POL_CUTOFF_DT
        ,'Route & Schedule' AS	FIRST_POL_ETB
        ,'Route & Schedule' AS	FIRST_POL_ETD
        ,'Route & Schedule' AS	FIRST_POL_ATD
        ,'Route & Schedule' AS	LAST_POD_ETA
        ,'Route & Schedule' AS	LAST_POD_ATA
        ,'Route & Schedule' AS	LAST_POD_ETB
        ,'BB Info' AS	APRO_REF_NO
        ,'BB Info' AS	APRO_STS
        ,'BB Info' AS	DIM_LEN
        ,'BB Info' AS	DIM_WDT
        ,'BB Info' AS	DIM_HGT
        ,'BB Info' AS	BB_GRS_WGT
        ,'BB Info' AS	BB_WGT_UT_CD
        ,'BB Info' AS	BB_TTL_GRS_WGT
        ,'BB Info' AS	BB_TTL_WGT_UT_CD
        ,'BB Info' AS	OVR_VOID_SLT_QTY
        ,'BB Info' AS	SLNG_PNT_FLG
        ,'BB Info' AS	GRAV_CTR_DESC
        ,'BB Info' AS	PCK_DTL_DESC
        ,'BB Info' AS	CGO_LODG_MZD_CD
        ,'BB Info' AS	CGO_LODG_MZD_DESC
        ,'BB Info' AS	SCR_DNG_CTNT
        ,'BB Info' AS	SPCL_RQST_DESC
        ,'BB Info' AS	DIFF_RMK
        ,'' AS BB_CGO_SEQ--for ORDER BY
    FROM DUAL
    UNION ALL
    SELECT
         '2' AS TEMP
        ,'B/L No.' AS	BL_NO
        ,'B/L Release OFC' AS	BL_RLSE_OFC
        ,'BKG Creation Date' AS	BKG_CRE_DT
        ,'BKG Creator' AS	BKG_STAFF
        ,'BKG No.' AS	BKG_NO
        ,'BKG OFC' AS	BKG_OFC_CD
        ,'Cust Remark' AS	XTER_RMK
        ,'Vndr Remark' AS	VNDR_RMK
        ,'Int Remark' AS	INTER_RMK
        ,'DG Certificate Rsvd.' AS	DG_CERTI
        ,'Export Declaration Rcvd.' AS	XPT_DECL_RCV
        ,'Sales Area' AS	SLS_AREA
        ,'Sales OFC' AS	OB_SLS_OFC_CD
        ,'C.SREP' AS	CTRT_SREP_CD
        ,'L.SREP' AS	OB_SREP_CD
        ,'SI & B/L Master Rcvd' AS	SI_FLG
        ,'Special Handling Instructions Type' AS	SPCL_HND_RMK
        ,'Special Handling Instructions Detail' AS	SPCL_HNDL_INST_DESC
        ,'Stop Off Cargo Order - Location' AS	STOP_OFF_LOC_CD
        ,'Stop Off Cargo Order - Tel' AS	STOP_OFF_CNTC_PHN_NO
        ,'Stop Off Cargo Order - Contact Point' AS	STOP_OFF_CNTC_PSON_NM
        ,'Stop Off Cargo Order - Remarks' AS	STOP_OFF_DIFF_RMK
--        ,'Hanger Installation Order - Single' AS	CRR_HNGR_SGL_BAR_QTY
--        ,'Hanger Installation Order - Double' AS	CRR_HNGR_DBL_BAR_QTY
--        ,'Hanger Installation Order - Triple' AS	CRR_HNGR_TPL_BAR_QTY
--        ,'Hanger Installation Order -  M''HGR' AS	MER_HNGR_QTY
        ,'BKG Status' AS	BKG_STS_CD
        ,'Cargo Nature' AS	CGO_N
        ,'CMDT Code' AS	CMDT_CD
        ,'CMDT Name' AS	CMDT_DESC
        ,'OB Haulage Type' AS	OB_HLG
        ,'IB Haulage Type' AS	IB_HLG
        ,'Marks & NOS' AS	MARK_NOS
        ,'No. of Packages' AS	PCK_QTY
        ,'Package Type' AS	PCK_DESC
        ,'Shipper' AS	SHPR_NM
        ,'Shipper Contact Name' AS	SHPR_CNTC_NM
        ,'Shipper Contact Number' AS	SHPR_CNTC_NO
        ,'Address of Shipper' AS	SHPR_ADDR
        ,'Consignee' AS	CNEE_NM
        ,'Address of Consignee' AS	CNEE_ADDR
        ,'Forwarder' AS	FFWD_NM
        ,'Forwarder Contact Name' AS	FFWD_CNTC_NM
        ,'Forwarder Contact Number' AS	FFWD_CNTC_NO
        ,'Notify Party' AS	NTFY_PARTY
        ,'Address of Notify' AS	NTFY_ADDR
        ,'Contract Party Code' AS	CTRT_PTY_CD
        ,'Contract Party Name' AS	CTRT_PTY_NM
        ,'Payment Term' AS	FRT_TERM_CD
        ,'S/C No.' AS	SC_NO
        ,'RFA No.' AS	RFA_NO
        ,'Tariff No.' AS	TAA_NO
        ,'Bound' AS	BOUND
        ,'Service' AS	SVC_SCP_CD
        ,'Trade ' AS	TRD_CD
        ,'Traffic Mode I/B' AS	TRAF_MOD_IB
        ,'Traffic Mode O/B' AS	TRAF_MOD_OB
        ,'Transport Mode I/B' AS	TRSP_MOD_IB
        ,'Transport Mode O/B' AS	TRSP_MOD_OB
        ,'Block Stowage' AS	BLCK_STWG_CD
        ,'Berth at First POL' AS	POL_ETB
        ,'POR Country' AS	POR_CNT_CD
        ,'POR Code' AS	POR_CD
        ,'POL Country' AS	POL_CNT_CD
        ,'POL Code' AS	POL_CD
        ,'POD Country' AS	POD_CNT_CD
        ,'POD Code' AS	POD_CD
        ,'DEL Country' AS	DEL_CNT_CD
        ,'DEL Code' AS	DEL_CD
        ,'T/S Port 1' AS	TS_PORT_1
        ,'T/S Port 2' AS	TS_PORT_2
        ,'T/S Port 3' AS	TS_PORT_3
        ,'Berth at Last POD' AS	POD_ETB
        ,'Trunk VVD' AS	TRUNK_VVD
        ,'1st Service' AS	N1_V_SVC
        ,'1st Direction' AS	N1_V_DIR
        ,'1st Vessel Code' AS	N1_V_VSL_CD
        ,'1st Voyage' AS	N1_V_VOY_NO
        ,'1st Vessel Name' AS	N1_V_VSL_NM
        ,'1st VVD' AS	N1_V_VVD
        ,'2nd  VVD ' AS	N2_V_VVD
        ,'3rd VVD' AS	N3_V_VVD
        ,'4th VVD' AS	N4_V_VVD
        ,'First Load Port Cut-Off Date' AS	POL_CUTOFF_DT
        ,'Berth at First POL Date' AS	FIRST_POL_ETB
        ,'ETD from First POL' AS	FIRST_POL_ETD
        ,'ATD from First POL' AS	FIRST_POL_ATD
        ,'ETA at Last POD' AS	LAST_POD_ETA
        ,'ATA at Last POD' AS	LAST_POD_ATA
        ,'Berth at Last POD Date' AS	LAST_POD_ETB
        ,'Approval Ref. No.' AS	APRO_REF_NO
        ,'Approval Status' AS	APRO_STS
        ,'Cargo Information: Length' AS	DIM_LEN
        ,'Cargo Information: Width' AS	DIM_WDT
        ,'Cargo Information: Height' AS	DIM_HGT
        ,'Cargo Information: Grs Weight' AS	BB_GRS_WGT
        ,'Cargo Information: Unit' AS	BB_WGT_UT_CD
        ,'Total Weight' AS	BB_TTL_GRS_WGT
        ,'Total Weight Unit' AS	BB_TTL_WGT_UT_CD
        ,'Void Space (FEU)' AS	OVR_VOID_SLT_QTY
        ,'Sling Point' AS	SLNG_PNT_FLG
        ,'Center of Gravity' AS	GRAV_CTR_DESC
        ,'Cargo Packing Details' AS	PCK_DTL_DESC
        ,'Loading Method Code' AS	CGO_LODG_MZD_CD
        ,'Loading Method Description' AS	CGO_LODG_MZD_DESC
        ,'Secure & Dunnage' AS	SCR_DNG_CTNT
        ,'Special Request' AS	SPCL_RQST_DESC
        ,'Remarks' AS	DIFF_RMK
        ,'' AS BB_CGO_SEQ--for ORDER BY
    FROM DUAL
    UNION ALL
    
    SELECT '3' AS TEMP
    -- BKG & B/L Info
    -----------------------------------------------------------
         , BK.BL_NO
         , (SELECT USR.OFC_CD FROM BKG_DOC_PROC_SKD PROC, COM_USER USR
             WHERE PROC.BKG_DOC_PROC_TP_CD = 'OBLREL'
               AND PROC.BKG_NO = BK.BKG_NO
               AND PROC.DOC_PERF_DELT_FLG ='N'
               AND PROC.EVNT_USR_ID = USR.USR_ID) AS BL_RLSE_OFC
         , TO_CHAR(BK.BKG_CRE_DT, 'YYYY-MM-DD HH24:MI') BKG_CRE_DT
         , BK.DOC_USR_ID BKG_STAFF
         , BK.BKG_NO
         , BK.BKG_OFC_CD
         , REPLACE(REPLACE(REPLACE(BK.XTER_RMK,CHR(10),' '),CHR(9),' '),CHR(34),'') AS XTER_RMK
         , REPLACE(REPLACE(REPLACE(BK.VNDR_RMK,CHR(10),' '),CHR(9),' '),CHR(34),'') AS VNDR_RMK
         , REPLACE(REPLACE(REPLACE(BK.INTER_RMK,CHR(10),' '),CHR(9),' '),CHR(34),'') AS INTER_RMK
         , CASE WHEN (SELECT COUNT(1) FROM BKG_IMG_STO IMG WHERE IMG.BKG_NO = BK.BKG_NO AND IMG.RIDR_TP_CD = 'D') > 0 THEN 'Y' ELSE 'N' END DG_CERTI
         , DECODE(NVL(BKG_JOIN_FNC(CURSOR(SELECT CUST_REF_NO_CTNT
                                                        FROM BKG_REFERENCE CUCR
                                                       WHERE CUCR.BKG_NO = BK.BKG_NO
                                                         AND CUCR.BKG_REF_TP_CD = 'CMRN'
                                                       ORDER BY CUCR.REF_SEQ
                                                      ),','),''),'','N','Y') AS XPT_DECL_RCV
         , (SELECT LOC_CD FROM MDM_ORGANIZATION WHERE OFC_CD = BK.BKG_OFC_CD) AS SLS_AREA
         , BK.OB_SLS_OFC_CD
         , BK.CTRT_SREP_CD
         , BK.OB_SREP_CD
         , BK.SI_FLG
         , BK.STWG_CD SPCL_HND_RMK
         , (SELECT INTG_CD_VAL_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD02146' AND INTG_CD_VAL_CTNT = BK.STWG_CD) AS SPCL_HNDL_INST_DESC
         , BK.STOP_OFF_LOC_CD
         , BK.STOP_OFF_CNTC_PHN_NO
         , BK.STOP_OFF_CNTC_PSON_NM
         , REPLACE(REPLACE(REPLACE(BK.STOP_OFF_DIFF_RMK,CHR(10),' '),CHR(9),' '),CHR(34),'') STOP_OFF_DIFF_RMK
--         , TO_CHAR(QTY.CRR_HNGR_SGL_BAR_QTY) CRR_HNGR_SGL_BAR_QTY
--         , TO_CHAR(QTY.CRR_HNGR_DBL_BAR_QTY) CRR_HNGR_DBL_BAR_QTY
--         , TO_CHAR(QTY.CRR_HNGR_TPL_BAR_QTY) CRR_HNGR_TPL_BAR_QTY
--         , TO_CHAR(QTY.MER_HNGR_QTY) MER_HNGR_QTY
    -- Cargo & Commodity
    -----------------------------------------------------------
         , BK.BKG_STS_CD
         , NVL(SUBSTR(DECODE(BK.DCGO_FLG,'Y',',DG','')||DECODE(BK.RC_FLG,'Y',',RF','')||DECODE(BK.AWK_CGO_FLG,'Y',',AW','')||DECODE(BK.BB_CGO_FLG,'Y',',BB','')||DECODE(BK.RD_CGO_FLG,'Y',',RD',''),2),'DR') AS CGO_N
         , DECODE(SUBSTR(BK.CMDT_CD,1,1),0,'''','')||BK.CMDT_CD AS CMDT_CD
         , (SELECT CMDT_NM FROM MDM_COMMODITY CMDT WHERE CMDT.CMDT_CD = BK.CMDT_CD) CMDT_DESC
         , DECODE(BK.RCV_TERM_CD, 'D', 'C', 'M') AS OB_HLG
         , DECODE(BK.DE_TERM_CD, 'D', 'C', 'M') AS IB_HLG
         , (SELECT REPLACE(REPLACE(REPLACE(TO_CHAR(SUBSTR(MK.MK_DESC, 1, 4000)),CHR(10),' '),CHR(9),' '),CHR(34),'')
              FROM BKG_BL_MK_DESC MK
             WHERE BK.BKG_NO = MK.BKG_NO
               AND MK.MK_SEQ = 1) MARK_NOS
         , TO_CHAR(BL.PCK_QTY) PCK_QTY
         , (SELECT PCK_NM FROM MDM_PCK_TP PCK WHERE BL.PCK_TP_CD = PCK.PCK_CD) PCK_DESC
    -- Customer
    -----------------------------------------------------------
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_NM,CHR(10),' '),CHR(9),' '),CHR(34),'')   FROM BKG_CUSTOMER C WHERE C.BKG_NO = BK.BKG_NO AND C.BKG_CUST_TP_CD = 'S') SHPR_NM
         , (SELECT CNTC_PSON_NM FROM MDM_CUST_ADDR     ADDR, BKG_CUSTOMER S WHERE BK.BKG_NO = S.BKG_NO AND S.BKG_CUST_TP_CD = 'S' AND ADDR.CUST_CNT_CD = S.CUST_CNT_CD AND ADDR.CUST_SEQ = S.CUST_SEQ AND PRMRY_CHK_FLG = 'Y' AND ROWNUM = 1) AS SHPR_CNTC_NM
         , (SELECT PHN_NO       FROM MDM_CUST_CNTC_PNT CNTC, BKG_CUSTOMER S WHERE BK.BKG_NO = S.BKG_NO AND S.BKG_CUST_TP_CD = 'S' AND CNTC.CUST_CNT_CD = S.CUST_CNT_CD AND CNTC.CUST_SEQ = S.CUST_SEQ AND ROWNUM = 1) AS SHPR_CNTC_NO
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_ADDR,CHR(10),' '),CHR(9),' '),CHR(34),'') FROM BKG_CUSTOMER S WHERE S.BKG_NO = BK.BKG_NO AND S.BKG_CUST_TP_CD = 'S') SHPR_ADDR
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_NM,CHR(10),' '),CHR(9),' '),CHR(34),'')   FROM BKG_CUSTOMER C WHERE C.BKG_NO = BK.BKG_NO AND C.BKG_CUST_TP_CD = 'C') CNEE_NM
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_ADDR,CHR(10),' '),CHR(9),' '),CHR(34),'') FROM BKG_CUSTOMER C WHERE C.BKG_NO = BK.BKG_NO AND C.BKG_CUST_TP_CD = 'C') CNEE_ADDR
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_NM,CHR(10),' '),CHR(9),' '),CHR(34),'')   FROM BKG_CUSTOMER F WHERE F.BKG_NO = BK.BKG_NO AND F.BKG_CUST_TP_CD = 'F') FFWD_NM
         , (SELECT CNTC_PSON_NM FROM MDM_CUST_ADDR     ADDR, BKG_CUSTOMER F WHERE BK.BKG_NO = F.BKG_NO AND F.BKG_CUST_TP_CD = 'F' AND ADDR.CUST_CNT_CD = F.CUST_CNT_CD AND ADDR.CUST_SEQ = F.CUST_SEQ AND PRMRY_CHK_FLG = 'Y' AND ROWNUM = 1) AS FFWD_CNTC_NM
         , (SELECT PHN_NO    FROM MDM_CUST_CNTC_PNT CNTC, BKG_CUSTOMER F WHERE BK.BKG_NO = F.BKG_NO AND F.BKG_CUST_TP_CD = 'F' AND CNTC.CUST_CNT_CD = F.CUST_CNT_CD AND CNTC.CUST_SEQ = F.CUST_SEQ AND ROWNUM = 1) AS FFWD_CNTC_NO
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_NM,CHR(10),' '),CHR(9),' '),CHR(34),'')   FROM BKG_CUSTOMER C WHERE C.BKG_NO = BK.BKG_NO AND C.BKG_CUST_TP_CD = 'N') NTFY_PARTY
         , (SELECT REPLACE(REPLACE(REPLACE(CUST_ADDR,CHR(10),' '),CHR(9),' '),CHR(34),'') FROM BKG_CUSTOMER N WHERE N.BKG_NO = BK.BKG_NO AND N.BKG_CUST_TP_CD = 'N') NTFY_ADDR
         , BKG_CTRL_PTY_CUST_CNT_CD||LPAD(BK.BKG_CTRL_PTY_CUST_SEQ,6,'0') AS CTRT_PTY_CD
         , (SELECT CUST_LGL_ENG_NM FROM MDM_CUSTOMER WHERE CUST_CNT_CD = BK.BKG_CTRL_PTY_CUST_CNT_CD AND CUST_SEQ = BK.BKG_CTRL_PTY_CUST_SEQ) AS CTRT_PTY_NM
    -- Rate & Invoice
    -----------------------------------------------------------
         , RATE.FRT_TERM_CD
         , BK.SC_NO
         , BK.RFA_NO
         , BK.TAA_NO
    -- Route & Schedule
    -----------------------------------------------------------
         , DECODE(@[io_bnd_cd], 'O', 'Departure', 'Arrival') BOUND
         , BK.SVC_SCP_CD
         , COA.TRD_CD
         , DECODE(BK.DE_TERM_CD,'S','LCL','FCL') AS TRAF_MOD_IB
         , DECODE(BK.RCV_TERM_CD,'S','LCL','FCL') AS TRAF_MOD_OB
         , BK.DEST_TRNS_MOD_CD AS TRSP_MOD_IB
         , BK.ORG_TRNS_MOD_CD AS TRSP_MOD_OB
         , BK.BLCK_STWG_CD
         , TO_CHAR(N1ST_VVD.VPS_ETB_DT,'YYYY-MM-DD HH24:MI') POL_ETB 
         , SUBSTR(BK.POR_CD, 1, 2) POR_CNT_CD
         , BK.POR_CD
         , SUBSTR(BK.POL_CD, 1, 2) POL_CNT_CD
         , BK.POL_CD
         , SUBSTR(BK.POD_CD, 1, 2) POD_CNT_CD
         , BK.POD_CD
         , SUBSTR(BK.DEL_CD, 1, 2) DEL_CNT_CD
         , BK.DEL_CD
         , DECODE(ROUTE.POD_2, '', ROUTE.POD_1, '') TS_PORT_1
         , DECODE(ROUTE.POD_3, '', ROUTE.POD_2, '') TS_PORT_2
         , DECODE(ROUTE.POD_4, '', ROUTE.POD_3, '') TS_PORT_3
         , TO_CHAR(LAST_VVD.VPS_ETB_DT,'YYYY-MM-DD HH24:MI') POD_ETB
         , BK.VSL_CD||BK.SKD_VOY_NO||BK.SKD_DIR_CD TRUNK_VVD
         , ROUTE.SLAN_1 N1_V_SVC
         , SUBSTR(ROUTE.VVD_1, 9, 1) N1_V_DIR
         , DECODE(SUBSTR(ROUTE.VVD_1, 5, 1),0,'''','')||SUBSTR(ROUTE.VVD_1, 5, 4) N1_V_VOY_NO
         , SUBSTR(ROUTE.VVD_1, 5, 4) N1_V_VOY_NO  
         , (SELECT M.VSL_ENG_NM FROM MDM_VSL_CNTR M WHERE M.VSL_CD = SUBSTR(ROUTE.VVD_1, 1, 4)) N1_V_VSL_NM
         , ROUTE.VVD_1 N1_V_VVD  
         , ROUTE.VVD_2 N2_V_VVD
         , ROUTE.VVD_3 N3_V_VVD
         , ROUTE.VVD_4 N4_V_VVD
         , (SELECT TO_CHAR(NVL(MNL_SET_DT,SYS_SET_DT),'YYYY-MM-DD HH24:MI') FROM BKG_CLZ_TM WHERE CLZ_TP_CD = 'T' AND BKG_NO=BK.BKG_NO) AS POL_CUTOFF_DT
         , TO_CHAR(N1ST_VVD.VPS_ETB_DT,'YYYY-MM-DD HH24:MI') FIRST_POL_ETB
         , TO_CHAR(N1ST_VVD.VPS_ETD_DT,'YYYY-MM-DD HH24:MI') FIRST_POL_ETD
         , DECODE(N1ST_VVD.ACT_INP_FLG,'Y',TO_CHAR(N1ST_VVD.VPS_ETD_DT,'YYYY-MM-DD HH24:MI'),'') FIRST_POL_ATD
         , TO_CHAR(LAST_VVD.VPS_ETA_DT,'YYYY-MM-DD HH24:MI') LAST_POD_ETA
         , DECODE(LAST_VVD.ACT_INP_FLG,'Y',TO_CHAR(LAST_VVD.VPS_ETA_DT,'YYYY-MM-DD HH24:MI'),'') LAST_POD_ATA
         , TO_CHAR(LAST_VVD.VPS_ETB_DT,'YYYY-MM-DD HH24:MI') LAST_POD_ETB
    -- BB Info
    -----------------------------------------------------------
         , (SELECT APRO_REF_NO 
              FROM SCG_APRO_RQST RQST, SCG_AUTHORIZATION AUTH 
             WHERE BB.BKG_NO      = RQST.BKG_NO
               AND BB.BKG_NO      = AUTH.BKG_NO(+)
               AND BB.BB_CGO_SEQ = AUTH.BB_CGO_SEQ(+)
               AND RQST.SPCL_CGO_CATE_CD       = AUTH.SPCL_CGO_CATE_CD(+)     
               AND RQST.SPCL_CGO_APRO_RQST_SEQ = AUTH.SPCL_CGO_APRO_RQST_SEQ(+)     
               AND AUTH.VSL_PRE_PST_CD(+) = 'T'
               AND RQST.LST_RQST_DAT_FLG = 'Y' 
               AND RQST.SPCL_CGO_CATE_CD = 'BB'
               AND ROWNUM=1 --안전하게
               ) APRO_REF_NO
         , (SELECT INTG_CD_VAL_DP_DESC
              FROM COM_INTG_CD_DTL 
             WHERE INTG_CD_ID = 'CD01955'
               AND INTG_CD_VAL_CTNT = BB.SPCL_CGO_APRO_CD) APRO_STS
         , TO_CHAR(BB.DIM_LEN,'999,999,999,990.99') DIM_LEN
         , TO_CHAR(BB.DIM_WDT,'999,999,999,990.99') DIM_WDT
         , TO_CHAR(BB.DIM_HGT,'999,999,999,990.99') DIM_HGT
         , TO_CHAR(BB.GRS_WGT,'999,999,999,990.99') BB_GRS_WGT
         , BB.WGT_UT_CD BB_WGT_UT_CD
         , TO_CHAR(SUM(BB.GRS_WGT) OVER (PARTITION BY BB.BKG_NO),'999,999,999,990.99') BB_TTL_GRS_WGT
         , BB.WGT_UT_CD BB_TTL_WGT_UT_CD
         , TO_CHAR(BK.OVR_VOID_SLT_QTY) OVR_VOID_SLT_QTY
         , BB.SLNG_PNT_FLG
         , REPLACE(REPLACE(REPLACE(BB.GRAV_CTR_DESC,CHR(10),' '),CHR(9),' '),CHR(34),'') GRAV_CTR_DESC
         , BB.PCK_DTL_DESC
         , BB.CGO_LODG_MZD_CD
         , (SELECT INTG_CD_VAL_DP_DESC
              FROM COM_INTG_CD_DTL 
             WHERE INTG_CD_ID = 'CD01582'
               AND INTG_CD_VAL_CTNT = BB.CGO_LODG_MZD_CD) CGO_LODG_MZD_DESC
         , BB.SCR_DNG_CTNT
         , BB.SPCL_RQST_DESC
         , REPLACE(REPLACE(REPLACE(BB.DIFF_RMK,CHR(10),' '),CHR(9),' '),CHR(34),'') DIFF_RMK
         , TO_CHAR(BB.BB_CGO_SEQ) BB_CGO_SEQ--for ORDER BY
      FROM BKG_BOOKING BK
         , BKG_VVD VVD
         , BKG_BL_DOC BL
         , BKG_RATE RATE
         , BKG_BL_ISS ISS
         , COA_RGST_BKG COA
         
         , (SELECT BKG_NO
                  ,VVD_1
                  ,VVD_2
                  ,VVD_3
                  ,VVD_4
                  ,SLAN_1
                  ,SLAN_2
                  ,SLAN_3
                  ,SLAN_4
                  ,POL_1
                  ,POL_2
                  ,POL_3
                  ,POL_4
                  ,POL_YD_1
                  ,POL_YD_2
                  ,POL_YD_3
                  ,POL_YD_4
                  ,DECODE(POD_4, '', DECODE(POD_3, '', DECODE(POD_2, '', VVD_1, VVD_2), VVD_3), VVD_4) AS LAST_VVD
                  ,COALESCE(POD_4, POD_3, POD_2, POD_1) AS LAST_POD
                  ,COALESCE(POD_1, POD_2, POD_3, POD_4) AS FIRST_POD
                  ,POD_1
                  ,POD_2
                  ,POD_3
                  ,POD_4
                  ,POD_YD_1
                  ,POD_YD_2
                  ,POD_YD_3
                  ,POD_YD_4
                  ,POL_CLPT_IND_SEQ_1
                  ,DECODE(POD_4, '', DECODE(POD_3, '', DECODE(POD_2, '', POD_CLPT_IND_SEQ_1, POD_CLPT_IND_SEQ_2), POD_CLPT_IND_SEQ_3), POD_CLPT_IND_SEQ_4) AS LAST_POD_CLPT_IND_SEQ
              FROM (
                    SELECT LEAD(VSL_CD || SKD_VOY_NO || SKD_DIR_CD, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS VVD_1
                          ,LEAD(VSL_CD || SKD_VOY_NO || SKD_DIR_CD, 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS VVD_2
                          ,LEAD(VSL_CD || SKD_VOY_NO || SKD_DIR_CD, 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS VVD_3
                          ,LEAD(VSL_CD || SKD_VOY_NO || SKD_DIR_CD, 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS VVD_4
                          ,LEAD(SLAN_CD, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS SLAN_1
                          ,LEAD(SLAN_CD, 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS SLAN_2
                          ,LEAD(SLAN_CD, 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS SLAN_3
                          ,LEAD(SLAN_CD, 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS SLAN_4
                          ,LEAD(POL_CD, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_1
                          ,LEAD(POL_CD, 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_2
                          ,LEAD(POL_CD, 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_3
                          ,LEAD(POL_CD, 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_4
                          ,LEAD(SUBSTR(POL_YD_CD,-2), 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_YD_1
                          ,LEAD(SUBSTR(POL_YD_CD,-2), 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_YD_2
                          ,LEAD(SUBSTR(POL_YD_CD,-2), 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_YD_3
                          ,LEAD(SUBSTR(POL_YD_CD,-2), 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_YD_4
                          ,LEAD(POD_CD, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_1
                          ,LEAD(POD_CD, 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_2
                          ,LEAD(POD_CD, 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_3
                          ,LEAD(POD_CD, 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_4
                          ,LEAD(SUBSTR(POD_YD_CD,-2), 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_YD_1
                          ,LEAD(SUBSTR(POD_YD_CD,-2), 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_YD_2
                          ,LEAD(SUBSTR(POD_YD_CD,-2), 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_YD_3
                          ,LEAD(SUBSTR(POD_YD_CD,-2), 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_YD_4
                          ,LEAD(POL_CLPT_IND_SEQ, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POL_CLPT_IND_SEQ_1
                          ,LEAD(POD_CLPT_IND_SEQ, 0) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_CLPT_IND_SEQ_1
                          ,LEAD(POD_CLPT_IND_SEQ, 1) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_CLPT_IND_SEQ_2
                          ,LEAD(POD_CLPT_IND_SEQ, 2) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_CLPT_IND_SEQ_3
                          ,LEAD(POD_CLPT_IND_SEQ, 3) OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS POD_CLPT_IND_SEQ_4
                          ,ROW_NUMBER() OVER (PARTITION BY BKG_NO ORDER BY VSL_PRE_PST_CD, VSL_SEQ) AS RN
                          ,BKG_NO
                      FROM BKG_VVD
                   )
             WHERE RN = 1
           ) ROUTE
         , BKG_BB_CGO BB
         , VSK_VSL_PORT_SKD N1ST_VVD
         , VSK_VSL_PORT_SKD LAST_VVD
--         , BKG_QUANTITY QTY
#if (${sail_from_dt} != '' && ${sail_to_dt} != '')
         , VSK_VSL_PORT_SKD VSK_POL
#end
#if (${arr_from_dt} != '' && ${arr_to_dt} != '')
         , VSK_VSL_PORT_SKD VSK_POD
#end
     WHERE BK.BKG_NO = BL.BKG_NO
       AND BK.BKG_NO = VVD.BKG_NO
       AND BK.BKG_NO = ROUTE.BKG_NO
       AND BK.BKG_NO = RATE.BKG_NO(+)
       AND BK.BKG_NO = ISS.BKG_NO(+)
       AND BK.BKG_NO = COA.BKG_NO(+)
       
       AND BK.BKG_STS_CD <> 'X'
               
       AND SUBSTR(ROUTE.VVD_1,1,4) = N1ST_VVD.VSL_CD(+)
       AND SUBSTR(ROUTE.VVD_1,5,4) = N1ST_VVD.SKD_VOY_NO(+)
       AND SUBSTR(ROUTE.VVD_1,9,1) = N1ST_VVD.SKD_DIR_CD(+)
       AND ROUTE.POL_1 = N1ST_VVD.VPS_PORT_CD(+)
       AND ROUTE.POL_CLPT_IND_SEQ_1 = N1ST_VVD.CLPT_IND_SEQ(+)
       AND SUBSTR(ROUTE.LAST_VVD,1,4) = LAST_VVD.VSL_CD(+)
       AND SUBSTR(ROUTE.LAST_VVD,5,4) = LAST_VVD.SKD_VOY_NO(+)
       AND SUBSTR(ROUTE.LAST_VVD,9,1) = LAST_VVD.SKD_DIR_CD(+)
       AND ROUTE.LAST_POD = LAST_VVD.VPS_PORT_CD(+)
       AND ROUTE.LAST_POD_CLPT_IND_SEQ = LAST_VVD.CLPT_IND_SEQ(+)
   
       AND BK.BB_CGO_FLG = 'Y'
       AND BK.BKG_NO = BB.BKG_NO
       AND NVL(BB.SPCL_CGO_APRO_CD,' ') <> 'C'
       
--       AND CNTR.BKG_NO = QTY.BKG_NO(+)
--       AND CNTR.CNTR_TPSZ_CD = QTY.CNTR_TPSZ_CD(+)
	--===================================================================== 화면 조건절 start
#if (${vvd_cd}!='' || ${pol_cd}!='' || ${pol_yard_cd}!='' || ${pod_cd}!='' || ${pod_yard_cd}!='' || ${sail_from_dt}!='' || ${sail_to_dt} != '' || ${arr_from_dt}!='' || ${arr_to_dt} != '') 
 #if (${vvd_cd} != '')
       AND VVD.VSL_CD = SUBSTR(@[vvd_cd], 1, 4)
       AND VVD.SKD_VOY_NO = SUBSTR(@[vvd_cd], 5, 4)
       AND VVD.SKD_DIR_CD = SUBSTR(@[vvd_cd], 9, 1)
  #if (${trunk_flag} != '')
       AND VVD.VSL_PRE_PST_CD = 'T'
  #end
 #end
 #if (${pol_cd} != '') 
       AND VVD.POL_CD = @[pol_cd]
  #if (${pol_local} != '' && ${pol_ts} == '')
       AND BK.POL_CD = VVD.POL_CD
  #end
  #if (${pol_ts} != '' && ${pol_local} == '')
       AND BK.POL_CD <> VVD.POL_CD
  #end
 #end
 #if (${pol_yard_cd} != '') 
       AND SUBSTR(VVD.POL_YD_CD,-2) = @[pol_yard_cd]
  #if (${pol_local} != '' && ${pol_ts} == '')
    AND BK.POL_NOD_CD = VVD.POL_YD_CD
  #end
  #if (${pol_ts} != '' && ${pol_local} == '')
       AND BK.POL_NOD_CD <> VVD.POL_YD_CD
  #end
 #end
 #if (${pod_cd} != '') 
       AND VVD.POD_CD = @[pod_cd]
  #if (${pod_local} != '' && ${pod_ts} == '')
       AND BK.POD_CD = VVD.POD_CD
  #end
  #if (${pod_ts} != '' && ${pod_local} == '')
       AND BK.POD_CD <> VVD.POD_CD
  #end
 #end
 #if (${pod_yard_cd} != '') 
       AND SUBSTR(VVD.POD_YD_CD,-2) = @[pod_yard_cd]
  #if (${pod_local} != '' && ${pod_ts} == '')
       AND BK.POD_NOD_CD = VVD.POD_YD_CD
  #end
  #if (${pod_ts} != '' && ${pod_local} == '')
       AND BK.POD_NOD_CD <> VVD.POD_YD_CD
  #end
 #end
 #if (${sail_from_dt} != '' && ${sail_to_dt} != '')
       AND VSK_POL.VSL_CD = VVD.VSL_CD
       AND VSK_POL.SKD_VOY_NO = VVD.SKD_VOY_NO
       AND VSK_POL.SKD_DIR_CD = VVD.SKD_DIR_CD
       AND VSK_POL.VPS_PORT_CD = VVD.POL_CD
       AND VSK_POL.CLPT_IND_SEQ = VVD.POL_CLPT_IND_SEQ
       AND VSK_POL.VPS_ETD_DT >= TO_DATE(@[sail_from_dt],'YYYY-MM-DD') 
       AND VSK_POL.VPS_ETD_DT <= TO_DATE(@[sail_to_dt],'YYYY-MM-DD') +0.99999
 #end
 #if (${arr_from_dt} != '' && ${arr_to_dt} != '')
       AND VSK_POD.VSL_CD = VVD.VSL_CD
       AND VSK_POD.SKD_VOY_NO = VVD.SKD_VOY_NO
       AND VSK_POD.SKD_DIR_CD = VVD.SKD_DIR_CD
       AND VSK_POD.VPS_PORT_CD = VVD.POD_CD
       AND VSK_POD.CLPT_IND_SEQ = VVD.POD_CLPT_IND_SEQ
       AND VSK_POD.VPS_ETD_DT >= TO_DATE(@[arr_from_dt],'YYYY-MM-DD') 
       AND VSK_POD.VPS_ETD_DT <= TO_DATE(@[arr_to_dt],'YYYY-MM-DD') +0.99999
 #end
#else
       AND VVD.VSL_PRE_PST_CD = 'T'
#end

#if (${bkg_from_dt} != '') 
	   AND BK.BKG_CRE_DT >= TO_DATE(@[bkg_from_dt],'YYYY-MM-DD') 
#end
#if (${bkg_to_dt} != '') 
	   AND BK.BKG_CRE_DT <= TO_DATE(@[bkg_to_dt],'YYYY-MM-DD') +0.99999
#end
#if (${bkg_no} != '') 
       AND BK.BKG_NO = @[bkg_no]
#end
#if (${bl_no} != '') 
       AND BK.BL_NO = @[bl_no]
#end
#if (${bkg_ofc_cd} != '') 
       AND BK.BKG_OFC_CD = @[bkg_ofc_cd]
#end
    
#if (${ob_srep_cd} != '') 
       AND BK.OB_SREP_CD = @[ob_srep_cd]
#end
#if (${bkg_staff} != '' && ${bkg_staff_type} == 'ID')
       AND BK.DOC_USR_ID = @[bkg_staff]
#elseif (${bkg_staff} != '' && ${bkg_staff_type} == 'NAME')
       AND (SELECT UPPER(USR_NM) FROM COM_USER WHERE USR_ID = BK.DOC_USR_ID) = @[bkg_staff]
#end
#if (${bkg_sts_cd_f} != '' || ${bkg_sts_cd_w} != '') 
       AND BK.BKG_STS_CD IN ( @[bkg_sts_cd_f], @[bkg_sts_cd_w]) 
#end
#if (${non_sp_cargo} != '') 
       AND BK.WT_RSN_SPCL_CGO_FLG = 'Y'
#end
#if (${holding} != '') 
       AND BK.WT_RSN_HLD_FLG = 'Y'
#end
#if (${por_cd2} != '') 
       AND BK.POR_CD LIKE @[por_cd2]||'%' 
#end
#if (${pol_cd2} != '') 
       AND BK.POL_CD LIKE @[pol_cd2]||'%' 
#end
#if (${pod_cd2} != '') 
       AND BK.POD_CD LIKE @[pod_cd2]||'%' 
#end
#if (${del_cd} != '') 
       AND BK.DEL_CD LIKE @[del_cd2]||'%' 
#end
#if (${r_term} != '') 
       AND BK.RCV_TERM_CD IN (${r_term})
#end
#if (${d_term} != '') 
       AND BK.DE_TERM_CD IN (${d_term})
#end
#if (${dir_cd} != '') 
       AND BK.SKD_DIR_CD = @[dir_cd]
#end
#if (${trd_cd} != '') 
       AND COA.TRD_CD = @[trd_cd]
#end
#if (${sub_trd_cd} != '') 
       AND COA.SUB_TRD_CD = @[sub_trd_cd]
#end
#if (${lane_cd} != '') 
       AND BK.SLAN_CD = @[lane_cd]
#end

#if (${cust_tp_cd_s} != '' || ${cust_tp_cd_c} != '' || ${cust_tp_cd_n} != '' || ${cust_tp_cd_f} != '' || ${cust_tp_cd_a} != '') 
       AND EXISTS (SELECT 'Y' FROM BKG_CUSTOMER C
                    WHERE C.BKG_NO = BK.BKG_NO
                    #if (${cust_cnt_cd} !='')                    
                      AND C.CUST_CNT_CD = @[cust_cnt_cd]
                    #end
                    #if (${cust_seq} !='')                    
                      AND C.CUST_SEQ = @[cust_seq]
                    #end
                      AND BKG_CUST_TP_CD IN ('',NVL(@[cust_tp_cd_s],''),NVL(@[cust_tp_cd_c],''),NVL(@[cust_tp_cd_n],''),NVL(@[cust_tp_cd_f],''),NVL(@[cust_tp_cd_a],''))
                    #if (${cust_nm} !='')                    
                      AND C.CUST_NM = @[cust_nm]
                    #end
                    #if (${cust_grp_id} !='')                    
                      AND (SELECT CUST_GRP_ID FROM MDM_CUSTOMER M WHERE M.CUST_CNT_CD = B.CUST_CNT_CD AND M.CUST_SEQ = B.CUST_SEQ) = @[cust_grp_id]
                    #end
                  )
#end

#if (${sc_rfa_gbn} == 'S') 
 #if (${sc_rfa_no} != '') 
       AND BK.SC_NO = @[sc_rfa_no]
 #end
#elseif (${sc_rfa_gbn} == 'R') 
 #if (${sc_rfa_no} != '') 
       AND BK.RFA_NO = @[sc_rfa_no]
 #end
#elseif (${sc_rfa_gbn} == 'T') 
 #if (${sc_rfa_no} != '') 
       AND BK.TAA_NO = @[sc_rfa_no]
 #end
#end
	--===================================================================== 화면 조건절 end
)
#if (${orderby} == '') 
ORDER BY TEMP, BKG_NO, TO_NUMBER(BB_CGO_SEQ)
#else
ORDER BY TEMP, ${orderby}
#end			]]></sql>
			<params>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="vvd_cd" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="pol_yard_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="pod_yard_cd" type="12" value="" out="N"/>
				<param name="sail_from_dt" type="12" value="" out="N"/>
				<param name="sail_to_dt" type="12" value="" out="N"/>
				<param name="arr_from_dt" type="12" value="" out="N"/>
				<param name="arr_to_dt" type="12" value="" out="N"/>
				<param name="bkg_from_dt" type="12" value="" out="N"/>
				<param name="bkg_to_dt" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="bkg_ofc_cd" type="12" value="" out="N"/>
				<param name="ob_srep_cd" type="12" value="" out="N"/>
				<param name="bkg_staff" type="12" value="" out="N"/>
				<param name="bkg_sts_cd_f" type="12" value="" out="N"/>
				<param name="bkg_sts_cd_w" type="12" value="" out="N"/>
				<param name="por_cd2" type="12" value="" out="N"/>
				<param name="pol_cd2" type="12" value="" out="N"/>
				<param name="pod_cd2" type="12" value="" out="N"/>
				<param name="del_cd2" type="12" value="" out="N"/>
				<param name="dir_cd" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="sub_trd_cd" type="12" value="" out="N"/>
				<param name="lane_cd" type="12" value="" out="N"/>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="cust_tp_cd_s" type="12" value="" out="N"/>
				<param name="cust_tp_cd_c" type="12" value="" out="N"/>
				<param name="cust_tp_cd_n" type="12" value="" out="N"/>
				<param name="cust_tp_cd_f" type="12" value="" out="N"/>
				<param name="cust_tp_cd_a" type="12" value="" out="N"/>
				<param name="cust_nm" type="12" value="" out="N"/>
				<param name="cust_grp_id" type="12" value="" out="N"/>
				<param name="sc_rfa_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
