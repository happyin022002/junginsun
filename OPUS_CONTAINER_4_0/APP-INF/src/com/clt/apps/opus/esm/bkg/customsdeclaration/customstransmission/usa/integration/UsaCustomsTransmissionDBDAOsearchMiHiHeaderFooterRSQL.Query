<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UsaCustomsTransmissionDBDAOsearchMiHiHeaderFooterRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT RPAD('ACR' || COM_ConstantMgr_PKG.COM_getScacCode_FNC() || RPAD(' ', 6, ' ') || @[trsp_msg_tp_cd], 80, ' ') || CHR(10) AS ACR
--NYK : VESSEL NAME 삭제요청, VOY NO 5자리 -> 4자리
      ,RPAD('M01' || COM_ConstantMgr_PKG.COM_getScacCode_FNC() || '10'|| @[vsl_flag] || RPAD(' ', 23, ' ')
       || NVL((SELECT CASE WHEN TO_DATE(ATTR_CTNT1,'YYYYMMDDHH24MISS') > SYSDATE
                           THEN SUBSTR(@[vvd], 6, 4) || ' '
                           ELSE SUBSTR(@[vvd], 5, 5)
                       END
                 FROM BKG_CSTMS_CD_CONV_CTNT
                WHERE CNT_CD = 'US'
                  AND CSTMS_DIV_ID = 'US_M01_VOY_NO'
                  AND ROWNUM = 1
              ), SUBSTR(@[vvd], 5, 5))
       || RPAD(' ', 5, ' ') || '000001' || ' ' || @[vsl_lloyd], 80, ' ') || CHR(10) AS M01
      ,RPAD('M02' || @[crr_bat_no], 80, ' ') || CHR(10) AS M02
      ,RPAD('P01' || SUBSTR(@[loc_amsport], 1, 4) || SUBSTR(@[vps_eta_dt], 1, 6) ||LPAD(' ',5,' '), 80, ' ') || CHR(10) AS P01
      ,RPAD('J01' || COM_ConstantMgr_PKG.COM_getScacCode_FNC(), 80, ' ') || CHR(10) AS J01
      ,RPAD('ZCR' || COM_ConstantMgr_PKG.COM_getScacCode_FNC() || RPAD(' ', 6, ' ') || @[trsp_msg_tp_cd] || RPAD(' ', 19, ' ') || '#####' ,80,' ') AS ZCR
      ,'' AS HEADER
      ,'' AS FOOTER
FROM DUAL
			]]></sql>
			<params>
				<param name="trsp_msg_tp_cd" type="12" value="" out="N"/>
				<param name="vsl_flag" type="12" value="" out="N"/>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="vsl_lloyd" type="12" value="" out="N"/>
				<param name="crr_bat_no" type="12" value="" out="N"/>
				<param name="loc_amsport" type="12" value="" out="N"/>
				<param name="vps_eta_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
