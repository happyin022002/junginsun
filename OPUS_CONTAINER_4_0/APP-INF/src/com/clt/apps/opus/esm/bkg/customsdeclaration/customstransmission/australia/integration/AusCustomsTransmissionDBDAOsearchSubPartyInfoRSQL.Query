<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AusCustomsTransmissionDBDAOsearchSubPartyInfoRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT 'FU' AS SUB_PARTY_TYPE,
       '' AS SUB_PARTY_ID,
       '' AS SUB_AUTHORIZED,
       '' AS SUB_ADDRESS1,
       '' AS SUB_ADDRESS2,
       '' AS SUB_ADDRESS3,
       '' AS SUB_ADDRESS4,
       '' AS SUB_ADDRESS5,
       EMER_CNTC_PSON_NM AS SUB_CONTACT,
       EMER_CNTC_PHN_NO_CTNT AS SUB_PHONE,
       '' AS SUB_FAX,
       '' AS SUB_REF
  FROM BKG_DG_CGO CGO
 WHERE CGO.BKG_NO = @[bkg_no]
   AND CGO.CNTR_NO = @[cntr_no]
   AND ROWNUM = 1


 UNION ALL


SELECT 'CN' AS SUB_PARTY_TYPE,
       '' AS SUB_PARTY_ID,
       '' AS SUB_AUTHORIZED,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(CN.CUST_NM), 1, ''), 'X') AS SUB_ADDRESS1,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(CN.CUST_NM), 2, ''), 'X') AS SUB_ADDRESS2,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(CN.CUST_ADDR), 1, ''), 'X') AS SUB_ADDRESS3,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(CN.CUST_ADDR), 2, ''), 'X') AS SUB_ADDRESS4,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(CN.CUST_ADDR), 3, ''), 'X') AS SUB_ADDRESS5,
       '' AS SUB_CONTACT,
       '' AS SUB_PHONE,
       '' AS SUB_FAX,
       '' AS SUB_REF
  FROM BKG_CUSTOMER CN
 WHERE CN.BKG_NO = @[bkg_no]
   AND CN.BKG_CUST_TP_CD = 'C'


 UNION ALL


SELECT 'CZ' AS SUB_PARTY_TYPE,
       '' AS SUB_PARTY_ID,
       '' AS SUB_AUTHORIZED,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(SH.CUST_NM), 1, ''), 'X') AS SUB_ADDRESS1,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(SH.CUST_NM), 2, ''), 'X') AS SUB_ADDRESS2,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(SH.CUST_ADDR), 1, ''), 'X') AS SUB_ADDRESS3,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(SH.CUST_ADDR), 2, ''), 'X') AS SUB_ADDRESS4,
       BKG_SPCLCHAR_CONV_FNC(BKG_TOKEN_NL_FNC(RTRIM(SH.CUST_ADDR), 3, ''), 'X') AS SUB_ADDRESS5,
       '' AS SUB_CONTACT,
       '' AS SUB_PHONE,
       '' AS SUB_FAX,
       '' AS SUB_REF
  FROM BKG_CUSTOMER SH
 WHERE SH.BKG_NO = @[bkg_no]
   AND SH.BKG_CUST_TP_CD = 'S'
			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
