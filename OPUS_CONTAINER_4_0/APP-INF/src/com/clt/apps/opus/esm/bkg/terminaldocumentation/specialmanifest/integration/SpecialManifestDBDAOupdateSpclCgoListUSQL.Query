<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialManifestDBDAOupdateSpclCgoListUSQL">
			<desc><![CDATA[SCG_PRNR_APRO_RQST_CGO 테이블의 해당 CGO값을 제외처리한다.]]></desc>
			<sql><![CDATA[
UPDATE SCG_PRNR_APRO_RQST_CGO SET
		CSTMS_EXPT_FLG = 'Y'
WHERE 1=1	
AND	BKG_REF_NO = @[bl_no]
AND SPCL_CNTR_SEQ = @[spcl_cntr_seq]
AND SPCL_CGO_SEQ = @[spcl_cgo_seq]
AND PRNR_CGO_RQST_SEQ = (SELECT A.PRNR_CGO_RQST_SEQ
                         FROM SCG_PRNR_APRO_RQST A, SCG_PRNR_APRO_RQST_CGO B
                         WHERE 1=1
                         AND A.BKG_REF_NO = @[bl_no]
                         AND A.VSL_CD = SUBSTR(@[vvd_cd],1,4)
                         AND A.SKD_VOY_NO = SUBSTR(@[vvd_cd],5,4)
                         AND A.SKD_DIR_CD = SUBSTR(@[vvd_cd],9,1)
	                     AND A.LST_RQST_DAT_FLG = 'Y'
						 AND B.CGO_OPR_CD = @[cgo_opr_cd]
                         AND A.BKG_REF_NO = B.BKG_REF_NO
                         AND A.PRNR_CGO_RQST_SEQ = B.PRNR_CGO_RQST_SEQ
                         AND A.SPCL_CGO_RQST_SEQ = B.SPCL_CGO_RQST_SEQ
						 )			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="spcl_cntr_seq" type="12" value="" out="N"/>
				<param name="spcl_cgo_seq" type="12" value="" out="N"/>
				<param name="vvd_cd" type="12" value="" out="N"/>
				<param name="cgo_opr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
