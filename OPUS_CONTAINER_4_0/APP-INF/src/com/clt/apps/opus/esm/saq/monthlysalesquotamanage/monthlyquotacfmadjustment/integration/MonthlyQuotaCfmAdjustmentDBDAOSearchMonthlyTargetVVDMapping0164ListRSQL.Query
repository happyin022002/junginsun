<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MonthlyQuotaCfmAdjustmentDBDAOSearchMonthlyTargetVVDMapping0164ListRSQL">
			<desc><![CDATA[onthlyTargetVVD의 데이타 모델에 해당되는 값을 불러온다]]></desc>
			<sql><![CDATA[
SELECT          
        DECODE(M.bse_yr||M.bse_qtr_cd, @[year]||@[quarter], 'R', 'I') AS IBFLAG,
        @[year] AS BSE_YR  ,
        @[quarter] AS BSE_QTR_CD, 
        M.TRD_CD    , 
        M.RLANE_CD    ,
        M.DIR_CD     , 
        M.VSL_CD       , 
        M.SKD_VOY_NO, 
        M.SKD_DIR_CD  ,
        M.SPRT_GRP_CD, 
        M.BSA_GRP_CD   , 
        M.BSE_MON   , 
        M.BSE_WK      ,
        M.SUB_TRD_CD , 
        M.IOC_CD       , 
        M.VVD_SEQ   , 
        M.FNL_BSA_CAPA,
        TO_CHAR(M.FNL_BSA_CAPA, 'FM099999999990') AS STR_FNL_BSA_CAPA,
        TO_CHAR(M.LST_LODG_PORT_ETD_DT, 'YYYY/MM/DD HH24:MI:SS') AS LST_LODG_PORT_ETD_DT
FROM SAQ_MON_CFM_TGT_VVD M
WHERE M.MQTA_RLSE_VER_NO = @[mqtaRlseVerNo]
  AND M.BSE_YR           = @[year]
  AND M.BSE_QTR_CD       = @[quarter]
  AND M.TRD_CD           = @[trade]
  AND M.DIR_CD           = @[bound]
  AND M.RLANE_CD <> 'RBCCO'

#if (${lane} != '') 
  AND M.RLANE_CD      = @[lane]
#end

AND M.BSE_WK BETWEEN NVL(@[fmBseWk], '01') AND NVL(@[toBseWk], '54')
ORDER BY M.SUB_TRD_CD, M.RLANE_CD, M.BSE_MON, M.BSE_WK, M.LST_LODG_PORT_ETD_DT			]]></sql>
			<params>
				<param name="year" type="12" value="" out="N"/>
				<param name="quarter" type="12" value="" out="N"/>
				<param name="mqtaRlseVerNo" type="12" value="" out="N"/>
				<param name="trade" type="12" value="" out="N"/>
				<param name="bound" type="12" value="" out="N"/>
				<param name="lane" type="12" value="" out="N"/>
				<param name="fmBseWk" type="12" value="" out="N"/>
				<param name="toBseWk" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
