<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GenExpenseDBDAOSearchGeneralExpenseVORSQL">
			<desc><![CDATA[일반관리비를 조회한다.
@ SJH.20140731.MOD : B.CPY_NO -> (B.CPY_NO+1)]]></desc>
			<sql><![CDATA[
WITH GET_MONTH AS (
SELECT B.CPY_NO
     , @[cost_yrmon] YRMON
     , TO_CHAR(ADD_MONTHS(TO_DATE(@[cost_yrmon], 'YYYYMM'), (B.CPY_NO+1)*-1), 'YYYYMM') COL_YRMON
  FROM DUAL A
     , COM_CPY_NO B
 WHERE B.CPY_NO BETWEEN 0 AND 6
 )
 
 
SELECT MAX(DECODE(CPY_NO, 0, UC_AMT)) UC_AMT
     , MAX(DECODE(CPY_NO, 1, UC_AMT)) YRMON1
     , MAX(DECODE(CPY_NO, 2, UC_AMT)) YRMON2
     , MAX(DECODE(CPY_NO, 3, UC_AMT)) YRMON3
     , MAX(DECODE(CPY_NO, 4, UC_AMT)) YRMON4
     , MAX(DECODE(CPY_NO, 5, UC_AMT)) YRMON5
     , MAX(DECODE(CPY_NO, 6, UC_AMT)) YRMON6

FROM ( 
SELECT B.CPY_NO
     , B.YRMON
     , B.COL_YRMON
     , NVL(A.UC_AMT, 0) UC_AMT
  FROM COA_DMDT_N3RD_PTY A
     , GET_MONTH B
 WHERE A.COST_YRMON(+) = B.COL_YRMON
   AND CNTR_TPSZ_CD(+) = 'TEU'
   AND STND_COST_CD(+) = '75000000'
 )
 GROUP BY YRMON			]]></sql>
			<params>
				<param name="cost_yrmon" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
