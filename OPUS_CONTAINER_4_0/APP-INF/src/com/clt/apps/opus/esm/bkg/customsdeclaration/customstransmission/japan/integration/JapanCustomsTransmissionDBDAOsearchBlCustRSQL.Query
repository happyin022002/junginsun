<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JapanCustomsTransmissionDBDAOsearchBlCustRSQL">
			<desc><![CDATA[searchBlCust]]></desc>
			<sql><![CDATA[
SELECT --16 Shipper Code  (12)
       RPAD(' ', 12, ' ') AS SHPR_CD,
       --17 Shipper Name1 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(SHPR.CUST_NM, 1, ''), ' '), 1, 35), 35, ' ') AS SHPR_NM1,
       --18 Shipper Name2 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(SHPR.CUST_NM, 2, ''), ' '), 1, 35), 35, ' ') AS SHPR_NM2,
       --19 Shipper Address 1/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(SHPR.CUST_ADDR, 1, ''), ' '), 1, 35), 35, ' ') AS SHPR_ADDR1,
       --20 Shipper Address 2/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(SHPR.CUST_ADDR, 2, ''), ' '), 1, 35), 35, ' ') AS SHPR_ADDR2,
       --21 Shipper Address 3/4 (City name)  (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(SHPR.CUST_ADDR, 3, ''), ' '), 1, 35), 35, ' ') AS SHPR_ADDR3,
       --22 Shipper Address 4/4 (Country sub-entity, name) (35)
       RPAD(' ', 35, ' ') AS SHPR_ADDR4,
       --23 Shipper ZIP ID
       RPAD(' ', 9, ' ') AS SHPR_POST_ID,
       --24 Shipper Country Code
       RPAD(SUBSTR(NVL(SHPR.CUST_CNT_CD, ' '), 1, 2), 2, ' ') AS SHPR_CNT_CD,
       --25 Shipper Phone No
       RPAD(SUBSTR(NVL(SHPR.PHN_NO, ' '), 1, 14), 14, ' ') AS SHPR_PHN_NO,
       ---------------------------------------------------------
       --26 Consignee Code  (12)
       RPAD(' ', 12, ' ') AS CNEE_CD,
       --27 Consignee Name1 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(CNEE.CUST_NM, 1, ''), ' '), 1, 35), 35, ' ') AS CNEE_NM1,
       --28 Consignee Name2 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(CNEE.CUST_NM, 2, ''), ' '), 1, 35), 35, ' ') AS CNEE_NM2,
       --29 Consignee Address 1/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(CNEE.CUST_ADDR, 1, ''), ' '), 1, 35), 35, ' ') AS CNEE_ADDR1,
       --30 Consignee Address 2/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(CNEE.CUST_ADDR, 2, ''), ' '), 1, 35), 35, ' ') AS CNEE_ADDR2,
       --31 Consignee Address 3/4 (City name)  (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(CNEE.CUST_ADDR, 3, ''), ' '), 1, 35), 35, ' ') AS CNEE_ADDR3,
       --32 Consignee Address 4/4 (Country sub-entity, name) (35)
       RPAD(' ', 35, ' ') AS CNEE_ADDR4,
       --33 Consignee ZIP ID
       RPAD(' ', 9, ' ') AS CNEE_POST_ID,
       --34 Consignee Country Code
       RPAD(SUBSTR(NVL(CNEE.CUST_CNT_CD, ' '), 1, 2), 2, ' ') AS CNEE_CNT_CD,
       --35 Consignee Phone No
       RPAD(SUBSTR(NVL(CNEE.PHN_NO, ' '), 1, 14), 14, ' ') AS CNEE_PHN_NO,
       ---------------------------------------------------------
       --36 Notify Code  (12)
       RPAD(' ', 12, ' ') AS NTFY1_CD,
       --37 Notify Name1 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(NTFY.CUST_NM, 1, ''), 'SAME AS CONSIGNEE'), 1, 35), 35, ' ') AS NTFY1_NM1,
       --38 Notify Name2 (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(NTFY.CUST_NM, 2, ''), ' '), 1, 35), 35, ' ') AS NTFY1_NM2,
       --39 Notify Address 1/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(NTFY.CUST_ADDR, 1, ''), ' '), 1, 35), 35, ' ') AS NTFY1_ADDR1,
       --40 Notify Address 2/4 (Street and number/P.O.Box) (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(NTFY.CUST_ADDR, 2, ''), ' '), 1, 35), 35, ' ') AS NTFY1_ADDR2,
       --41 Notify Address 3/4 (City name)  (35)
       RPAD(SUBSTR(NVL(BKG_TOKEN_NL_FNC(NTFY.CUST_ADDR, 3, ''), ' '), 1, 35), 35, ' ') AS NTFY1_ADDR3,
       --42 Notify Address 4/4 (Country sub-entity, name) (35)
       RPAD(' ', 35, ' ') AS NTFY1_ADDR4,
       --43 Notify ZIP ID
       RPAD(' ', 9, ' ') AS NTFY1_POST_ID,
       --44 Notify Country Code
       RPAD(SUBSTR(NVL(NTFY.CUST_CNT_CD, ' '), 1, 2), 2, ' ') AS NTFY1_CNT_CD,
       --45 Notify Phone No
       RPAD(SUBSTR(NVL(NTFY.PHN_NO, ' '), 1, 14), 14, ' ') AS NTFY1_PHN_NO,
       ---------------------------------------------------------
       --46 Notify Code  (12)
       RPAD(' ', 35, ' ') AS NTFY2_CD,
       --47 Notify Name1 (35)
       RPAD(' ', 35, ' ') AS NTFY2_NM1,
       --48 Notify Name2 (35)
       RPAD(' ', 35, ' ') AS NTFY2_NM2,
       --49 Notify Address 1/4 (Street and number/P.O.Box) (35)
       RPAD(' ', 35, ' ') AS NTFY2_ADDR1,
       --40 Notify Address 2/4 (Street and number/P.O.Box) (35)
       RPAD(' ', 35, ' ') AS NTFY2_ADDR2,
       --51 Notify Address 3/4 (City name)  (35)
       RPAD(' ', 35, ' ') AS NTFY2_ADDR3,
       --52 Notify Address 4/4 (Country sub-entity, name) (35)
       RPAD(' ', 35, ' ') AS NTFY2_ADDR4,
       --53 Notify ZIP ID
       RPAD(' ', 9, ' ') AS NTFY2_POST_ID,
       --54 Notify Country Code
       RPAD(' ', 2, ' ') AS NTFY2_CNT_CD,
       --55 Notify Phone No
       RPAD(' ', 14, ' ') AS NTFY2_PHN_NO

  FROM BKG_CSTMS_JP_BL_CUST SHPR,
       BKG_CSTMS_JP_BL_CUST CNEE,
       BKG_CSTMS_JP_BL_CUST NTFY

 WHERE SHPR.BL_NO = @[bl_no]
   AND SHPR.BL_SPLIT_NO = nvl(@[bl_split_no], '  ')
   AND SHPR.BKG_CUST_TP_CD = 'S'
   AND SHPR.BL_NO = CNEE.BL_NO
   AND SHPR.BL_SPLIT_NO = CNEE.BL_SPLIT_NO
   AND CNEE.BKG_CUST_TP_CD = 'C'
   AND SHPR.BL_NO = NTFY.BL_NO
   AND SHPR.BL_SPLIT_NO = NTFY.BL_SPLIT_NO
   AND NTFY.BKG_CUST_TP_CD = 'N'			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="bl_split_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
