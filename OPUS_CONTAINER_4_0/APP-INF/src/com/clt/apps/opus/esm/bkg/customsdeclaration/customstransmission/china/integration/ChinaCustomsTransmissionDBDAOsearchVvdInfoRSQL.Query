<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChinaCustomsTransmissionDBDAOsearchVvdInfoRSQL">
			<desc><![CDATA[searchVvdInfo]]></desc>
			<sql><![CDATA[
SELECT DISTINCT
#if (${trans_mode} == 'D')
       BL.BKG_POL_CD AS LOC_CD
#else
       BL.BKG_POD_CD AS LOC_CD
#end

  FROM BKG_CSTMS_CHN_BL BL

 WHERE 1=1
   AND (
#foreach($field_id IN ${field_list})
   #if ($velocityCount > 1)
        OR
   #end
        BL.BL_NO IN ( $field_id )
#end
       )
   AND BL.VSL_CD = SUBSTR(@[vvd], 1, 4)
   AND BL.SKD_VOY_NO = SUBSTR(@[vvd], 5, 4)
   AND BL.SKD_DIR_CD = SUBSTR(@[vvd], 9, 1)
#if (${trans_mode} == 'D')
   AND BL.BKG_POD_CD = @[loc_cd]
#else
   AND BL.BKG_POL_CD = @[loc_cd]
#end
   AND BL.CHN_MF_SND_IND_CD = @[trans_mode]			]]></sql>
			<params>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="loc_cd" type="12" value="" out="N"/>
				<param name="trans_mode" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
