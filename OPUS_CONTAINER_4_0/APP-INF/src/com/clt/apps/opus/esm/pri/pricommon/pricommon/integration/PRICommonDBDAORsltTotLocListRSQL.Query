<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PRICommonDBDAORsltTotLocListRSQL">
			<desc><![CDATA[Location
Station
Country
Region]]></desc>
			<sql><![CDATA[
#if (${cd_length} == '5') 
SELECT LOC_CD CD
     , LOC_NM NM
  FROM MDM_LOCATION
 WHERE LOC_CD= @[cd]
   AND DELT_FLG ='N'
#elseif (${cd_length} == '2') 
SELECT CNT_CD CD
     , CNT_NM NM  
  FROM MDM_COUNTRY
 WHERE CNT_CD = @[cd]
   AND DELT_FLG = 'N'
#elseif (${cd_length} == '3')
SELECT RGN_CD CD
     , RGN_NM NM
  FROM MDM_REGION
 WHERE RGN_CD = @[cd]
   AND DELT_FLG = 'N'
#elseif (${cd_length} == '4')
	#if (${group_cmd} == '2') 
		SELECT PRC_GRP_LOC_CD 	CD
			 , PRC_GRP_LOC_DESC NM
		  FROM PRI_SG_GRP_LOC
		 WHERE SVC_SCP_CD = @[svc_scp_cd]
		   AND GLINE_SEQ = @[gline_seq]
		   AND PRC_GRP_LOC_CD = @[cd]
	#elseif (${group_cmd} == '0') 
		SELECT PRC_GRP_LOC_CD 	CD
			 , PRC_GRP_LOC_DESC NM
		  FROM PRI_RG_GRP_LOC
		 WHERE SVC_SCP_CD = @[svc_scp_cd]
		   AND GLINE_SEQ = @[gline_seq]
		#if (${etc2} != '') 
		   AND (ORG_DEST_TP_CD = 'B' OR ORG_DEST_TP_CD = @[etc2])
		#end
		   AND PRC_GRP_LOC_CD = @[cd]
	#elseif (${group_cmd} == '3') 
		SELECT A.PRC_GRP_LOC_CD   CD
			 , A.PRC_GRP_LOC_DESC NM
		  FROM PRI_SP_SCP_GRP_LOC A
			 , ( SELECT DISTINCT SVC_SCP_CD, PROP_NO, AMDT_SEQ, GRP_LOC_SEQ
				   FROM PRI_SP_SCP_GRP_LOC_DTL
				  WHERE SRC_INFO_CD != 'AD' ) B
		 WHERE A.SVC_SCP_CD		= B.SVC_SCP_CD
		   AND A.PROP_NO		= B.PROP_NO
		   AND A.AMDT_SEQ		= B.AMDT_SEQ
		   AND A.GRP_LOC_SEQ	= B.GRP_LOC_SEQ
		   AND A.SVC_SCP_CD 	= @[svc_scp_cd]
		   AND A.PROP_NO 		= @[prop_no]
		   AND A.AMDT_SEQ 		= @[amdt_seq]
		   AND A.PRC_GRP_LOC_CD = @[cd]
	#elseif (${group_cmd} == '1')     
		SELECT A.PRC_GRP_LOC_CD   CD
			 , A.PRC_GRP_LOC_DESC NM
		  FROM PRI_RP_SCP_GRP_LOC A
			 , ( SELECT DISTINCT SVC_SCP_CD, PROP_NO, AMDT_SEQ, GRP_LOC_SEQ
				   FROM PRI_RP_SCP_GRP_LOC_DTL
				  WHERE SRC_INFO_CD != 'AD' ) B
		 WHERE A.SVC_SCP_CD		= B.SVC_SCP_CD
		   AND A.PROP_NO		= B.PROP_NO
		   AND A.AMDT_SEQ		= B.AMDT_SEQ
		   AND A.GRP_LOC_SEQ	= B.GRP_LOC_SEQ
		   AND A.SVC_SCP_CD 	= @[svc_scp_cd]
		   AND A.PROP_NO 		= @[prop_no]
		   AND A.AMDT_SEQ 		= @[amdt_seq]
		#if (${etc2} != '') 
		   AND (A.ORG_DEST_TP_CD = 'B' OR A.ORG_DEST_TP_CD = @[etc2])
		#end
		   AND A.PRC_GRP_LOC_CD = @[cd]
	#end
#end
			]]></sql>
			<params>
				<param name="cd" type="12" value="" out="N"/>
				<param name="svc_scp_cd" type="12" value="" out="N"/>
				<param name="gline_seq" type="12" value="" out="N"/>
				<param name="etc2" type="12" value="" out="N"/>
				<param name="prop_no" type="12" value="" out="N"/>
				<param name="amdt_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
