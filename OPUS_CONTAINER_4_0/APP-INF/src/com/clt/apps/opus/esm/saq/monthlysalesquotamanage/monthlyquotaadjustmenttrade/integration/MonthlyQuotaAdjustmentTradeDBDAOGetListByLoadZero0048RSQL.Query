<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MonthlyQuotaAdjustmentTradeDBDAOGetListByLoadZero0048RSQL">
			<desc><![CDATA[trd_cd, dir_cd, mqta_ver_no의 조회키별 Load 합이 0인 월을 체크하여 문자열로 리턴.]]></desc>
			<sql><![CDATA[
SELECT TO_CHAR(TO_DATE(BSE_MON, 'MM'), 'MON', 'NLS_DATE_LANGUAGE=AMERICAN')
       ||' / '||RLANE_CD||'-'||SPRT_GRP_CD||'-'||BSA_GRP_CD
       ||' / '||CTRT_RHQ_CD  AS MSG,
       SUB_TRD_CD
FROM SAQ_MON_QTA_TRD
WHERE MQTA_STEP_CD = @[mQtaStepCd]
AND   BSE_YR = @[year]
AND   BSE_QTR_CD = @[bse_quarter]
AND   TRD_CD = @[trade]
AND   DIR_CD = @[bound]
AND   MQTA_VER_NO = @[mQtaVerNo]
GROUP BY BSE_MON, SUB_TRD_CD, RLANE_CD, SPRT_GRP_CD, BSA_GRP_CD, CTRT_RHQ_CD
HAVING SUM(LOD_QTY) = 0
ORDER BY BSE_MON, SUB_TRD_CD,DECODE(RLANE_CD,'RBCCO','ZZ',SUBSTR(RLANE_CD,-2)),RLANE_CD, MSG			]]></sql>
			<params>
				<param name="mQtaStepCd" type="12" value="" out="N"/>
				<param name="year" type="12" value="" out="N"/>
				<param name="bse_quarter" type="12" value="" out="N"/>
				<param name="trade" type="12" value="" out="N"/>
				<param name="bound" type="12" value="" out="N"/>
				<param name="mQtaVerNo" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
