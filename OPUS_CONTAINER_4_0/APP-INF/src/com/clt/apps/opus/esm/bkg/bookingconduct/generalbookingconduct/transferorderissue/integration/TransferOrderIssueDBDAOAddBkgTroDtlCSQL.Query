<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TransferOrderIssueDBDAOAddBkgTroDtlCSQL">
			<desc><![CDATA[TransferOrderIssueDB::AddBkgTroDtl]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_TRO_DTL (
	BKG_NO
,	IO_BND_CD
,	RTN_TRO_FLG
,	TRO_SEQ
,	TRO_SUB_SEQ
,	CNTR_TPSZ_CD
,	TRO_QTY
,	CNTR_NO
,	DOR_ARR_DT
,	PKUP_LOC_CD
,	PKUP_YD_CD
,	RTN_LOC_CD
,	RTN_YD_CD
,	CMDT_CD
,	PCTL_NO
,	CXL_FLG
,	CRE_USR_ID
,	CRE_DT
,	UPD_USR_ID
,	UPD_DT
,	PKUP_DT
,	XTER_TRO_SEQ
,	XTER_TRO_SUB_SEQ
) VALUES( 
	@[bkg_no]
,	@[io_bnd_cd]
,	@[rtn_tro_flg]
,	@[tro_seq]
,	@[tro_sub_seq]
,	@[cntr_tpsz_cd]
,	NVL(DECODE(@[tro_qty], '0', '1', @[tro_qty]), '1')
,	@[cntr_no]

#if (${dor_arr_dt} != '') 
,	TO_DATE(@[dor_arr_dt]||' '||@[dor_arr_dt_hhmi], 'YYYY-MM-DD HH24:MI') 
#else 
,   @[dor_arr_dt]
#end

,	nvl(@[pkup_loc_cd], (select substr(MTY_PKUP_YD_CD, 1, 5) from bkg_booking where bkg_no = @[bkg_no]))
#if (${pkup_yd_cd} != '') 
,	@[pkup_loc_cd]||@[pkup_yd_cd]
#else 
,   nvl(@[pkup_yd_cd], (select MTY_PKUP_YD_CD from bkg_booking where bkg_no = @[bkg_no]))
#end
,	nvl(@[rtn_loc_cd], (select substr(FULL_RTN_YD_CD, 1, 5) from bkg_booking where bkg_no = @[bkg_no]))
#if (${rtn_yd_cd} != '') 
,	@[rtn_loc_cd]||@[rtn_yd_cd]
#else 
,   nvl(@[rtn_yd_cd], (select FULL_RTN_YD_CD from bkg_booking where bkg_no = @[bkg_no]))
#end

,	@[cmdt_cd]
,	@[pctl_no]
,	@[cxl_flg]
,	@[cre_usr_id]
,	sysdate 
,	@[upd_usr_id]
,	sysdate 
#if (${pkup_dt} != '') 
,	TO_DATE(@[pkup_dt]||' '||@[pkup_dt_hhmi], 'YYYY-MM-DD HH24:MI') 
#else 
,   @[pkup_dt]
#end
,	@[xter_tro_seq]
,	@[xter_tro_sub_seq]
)			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="rtn_tro_flg" type="12" value="" out="N"/>
				<param name="tro_seq" type="2" value="" out="N"/>
				<param name="tro_sub_seq" type="2" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="tro_qty" type="6" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="dor_arr_dt" type="12" value="" out="N"/>
				<param name="dor_arr_dt_hhmi" type="12" value="" out="N"/>
				<param name="pkup_loc_cd" type="12" value="" out="N"/>
				<param name="pkup_yd_cd" type="12" value="" out="N"/>
				<param name="rtn_loc_cd" type="12" value="" out="N"/>
				<param name="rtn_yd_cd" type="12" value="" out="N"/>
				<param name="cmdt_cd" type="12" value="" out="N"/>
				<param name="pctl_no" type="12" value="" out="N"/>
				<param name="cxl_flg" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="pkup_dt" type="12" value="" out="N"/>
				<param name="pkup_dt_hhmi" type="12" value="" out="N"/>
				<param name="xter_tro_seq" type="12" value="" out="N"/>
				<param name="xter_tro_sub_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
