<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CustomerInfoManageDBDAOSearchCustCoverListRSQL">
			<desc><![CDATA[SearchCustCoverList]]></desc>
			<sql><![CDATA[
SELECT SREP_PRMRY_FLG
     , SUBSTR(SREP_NM,INSTR(SREP_NM,' ',1,1),LENGTH(SREP_NM)) AS SREP_FT_NM
     , SUBSTR(SREP_NM,1,INSTR(SREP_NM,' ',1,1)) AS SREP_LT_NM
     , SREP_ABBR_NM
     , MDM_SLS_REP.SREP_CD
	 , ( DECODE(IB_SREP_FLG, 'Y', 'IB', '')||
			(
			    SELECT ','
      			  FROM DUAL
     			 WHERE 1=1 
     			   AND (IB_SREP_FLG='Y' AND OB_SREP_FLG='Y')
			)
       || DECODE(OB_SREP_FLG, 'Y', 'OB', '')) AS SREP_FLG
     , MDM_SLS_REP.OFC_CD
     , PRNT_OFC_CD
     , INTL_MPHN_NO AS MPHN_NO
	 , CUST_CNT_CD
	 , CUST_SEQ
	 , MDM_SLS_REP.SREP_CD AS PRE_SREP_CD
	 , SAM_CUST_SLS_REP_INFO.DELT_FLG AS DELT_FLG
FROM SAM_CUST_SLS_REP_INFO, MDM_SLS_REP, MDM_ORGANIZATION
WHERE SAM_CUST_SLS_REP_INFO.SREP_CD = MDM_SLS_REP.SREP_CD
AND MDM_SLS_REP.OFC_CD = MDM_ORGANIZATION.OFC_CD
AND CUST_CNT_CD = SUBSTR(@[cust_cd],1,2)
AND CUST_SEQ = TO_NUMBER(SUBSTR(@[cust_cd],3,6))
AND SAM_CUST_SLS_REP_INFO.DELT_FLG = 'N'
ORDER BY SREP_PRMRY_FLG DESC			]]></sql>
			<params>
				<param name="cust_cd" type="12" value="AE4" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
