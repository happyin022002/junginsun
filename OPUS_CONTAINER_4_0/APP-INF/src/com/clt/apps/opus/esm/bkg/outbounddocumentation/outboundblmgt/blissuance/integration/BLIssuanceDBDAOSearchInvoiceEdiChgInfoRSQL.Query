<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOSearchInvoiceEdiChgInfoRSQL">
			<desc><![CDATA[BLIssuanceDBDAOSearchInvoiceEdiChgInfoRSQL]]></desc>
			<sql><![CDATA[
SELECT '{BL_CHARGE_INFO' || CHR(10) 
       || 'BL_CHARGE_CD:' || CHG_CD || CHR(10) 
       || 'BL_CHARGE_DESC:' ||(SELECT CHG_NM FROM MDM_CHARGE WHERE CHG_CD = BC.CHG_CD)|| CHR(10) 
       || 'BL_CHARGE_TP_NM:' || (SELECT REP_CHG_NM FROM MDM_CHARGE MC, MDM_REP_CHG MR WHERE MC.CHG_CD = BC.CHG_CD AND MC.REP_CHG_CD = MR.REP_CHG_CD) || CHR(10) 
       || 'BL_CHARGE_CURR:' ||CURR_CD|| CHR(10) 
       || 'BL_CHARGE_AMT:' ||CHG_AMT ||CHR(10) 
       || 'BL_CHARGE_AMT_USD:' || '' ||CHR(10) 
       || 'BL_INV_CURR:' || '' || CHR(10) 
       || 'BL_INV_CURR_AMT:' || '' ||CHR(10) 
       || 'BL_INV_TAX:' ||''|| CHR(10) 
       || 'BL_INV_CURR_TTL_AMT:' || '' ||CHR(10) 
       || 'BL_LOCAL_CURR:' ||'USD'|| CHR(10) 
       || 'BL_LOCAL_CURR_AMT:' || '' ||CHR(10) 
       || 'BL_LOCAL_TAX:' ||''|| CHR(10) 
       || 'BL_LOCAL_CURR_TTL_AMT:' || '' ||CHR(10) 
       || 'BL_FRT_IND:' ||FRT_TERM_CD || CHR(10) 
       || 'BL_RATED_AS:' ||RAT_AS_QTY || CHR(10) 
       || 'BL_RATE:' ||CHG_UT_AMT || CHR(10) 
       || 'BL_INV_EX_RATE:' ||''|| CHR(10) 
       || 'BL_TAX_RATE:' ||''|| CHR(10) 
       || 'BL_PERTYPE:' || RAT_UT_CD ||CHR(10)
       || 'BL_TARIFF:' || CASE WHEN RFA_NO NOT LIKE 'DUM%' THEN RFA_NO
	                        WHEN TAA_NO NOT LIKE 'DUM%' THEN TAA_NO
	                        WHEN SC_NO  NOT LIKE 'DUM%' THEN SC_NO
	                   ELSE ''
	                   END
	   || CHR(10) 
       || '}BL_CHARGE_INFO' || CHR(10) 
  FROM BKG_CHG_RT BC, BKG_BOOKING BK
 WHERE BC.BKG_NO = @[bkg_no]
   AND BC.BKG_NO = BK.BKG_NO			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
