<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MonthlyQuotaCreationDBDAOupdateOfcVerifyUSQL">
			<desc><![CDATA[해당 버전의 Office를 수정한다.]]></desc>
			<sql><![CDATA[
UPDATE SAQ_MON_FCAST_TRNS 
       SET UPD_USR_ID = @[user_id]
     , UPD_DT = SYSDATE 
     #if(${chng_ctrt_ofc_cd} != '') 
     , CTRT_OFC_CD = (SELECT N4TH_PRNT_OFC_CD
                		FROM SAQ_ORGANIZATION_V 
               		   WHERE OFC_CD = @[chng_ctrt_ofc_cd]
              		  )
     , CTRT_RHQ_CD = (SELECT N2ND_PRNT_OFC_CD 
                		FROM SAQ_ORGANIZATION_V 
               		   WHERE OFC_CD = @[chng_ctrt_ofc_cd]
              		  ) 
     , CTRT_AQ_CD = (SELECT N3RD_PRNT_OFC_CD 
                		FROM SAQ_ORGANIZATION_V 
               		   WHERE OFC_CD = @[chng_ctrt_ofc_cd]
              		 ) 
     , CTRT_RGN_OFC_CD = (SELECT N4TH_PRNT_OFC_CD
                		    FROM SAQ_ORGANIZATION_V 
               		       WHERE OFC_CD = @[chng_ctrt_ofc_cd]
              		      )  
     #end 
     #if(${chng_sls_ofc_cd} != '') 
     , SLS_OFC_CD = (SELECT N4TH_PRNT_OFC_CD
                	   FROM SAQ_ORGANIZATION_V 
               		  WHERE OFC_CD = @[chng_sls_ofc_cd]
              		 )
     , SLS_RHQ_CD = (SELECT N2ND_PRNT_OFC_CD 
                       FROM SAQ_ORGANIZATION_V 
                      WHERE OFC_CD = @[chng_sls_ofc_cd] 
                     ) 
     , SLS_AQ_CD = (SELECT N3RD_PRNT_OFC_CD 
                	  FROM SAQ_ORGANIZATION_V 
               		 WHERE OFC_CD = @[chng_sls_ofc_cd]
              		) 
     , SLS_RGN_OFC_CD = (SELECT N4TH_PRNT_OFC_CD
                		   FROM SAQ_ORGANIZATION_V 
               		      WHERE OFC_CD = @[chng_sls_ofc_cd]
              		     )
     #end  
 WHERE 1=1 
       AND MQTA_MDL_VER_NO = @[mqta_mdl_ver_no] 
       AND (FCAST_TRNS_STS_CD = '0' OR FCAST_TRNS_STS_CD IS NULL)

	   #if(${ctrt_ofc_cd} == '')
       AND CTRT_OFC_CD IS NULL 
       #end
       #if(${ctrt_ofc_cd} != '')
       AND CTRT_OFC_CD = @[ctrt_ofc_cd] 
       #end

   	   #if(${sls_ofc_cd} == '')
       AND SLS_OFC_CD IS NULL
       #end
       #if(${sls_ofc_cd} != '')
       AND SLS_OFC_CD = @[sls_ofc_cd] 
       #end
			]]></sql>
			<params>
				<param name="user_id" type="12" value="" out="N"/>
				<param name="chng_ctrt_ofc_cd" type="12" value="" out="N"/>
				<param name="chng_sls_ofc_cd" type="12" value="" out="N"/>
				<param name="mqta_mdl_ver_no" type="12" value="" out="N"/>
				<param name="ctrt_ofc_cd" type="12" value="" out="N"/>
				<param name="sls_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
