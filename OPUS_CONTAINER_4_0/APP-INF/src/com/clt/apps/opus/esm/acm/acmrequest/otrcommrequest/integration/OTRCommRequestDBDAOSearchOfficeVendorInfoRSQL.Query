<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OTRCommRequestDBDAOSearchOfficeVendorInfoRSQL">
			<desc><![CDATA[searchOfficeVendorInfo]]></desc>
			<sql><![CDATA[
SELECT TO_CHAR (B.VNDR_SEQ, 'FM000000') AS VNDR_SEQ,
 B.VNDR_LGL_ENG_NM AS VNDR_LGL_ENG_NM,
 A.OFC_CD AS OFC_CD,
 A.AR_OFC_CD AS AR_OFC_CD,
 A.LOC_CD AS AC_OCCR_INFO_CD,
 A.AP_CTR_CD AS AP_CTR_CD,
 C.CURR_CD AS CURR_CD
FROM MDM_ORGANIZATION A,
  MDM_VENDOR B,
  ACM_OFC_INFO C
WHERE A.OFC_CD = @[ofc_cd]
  AND NVL (A.DELT_FLG, 'N') = 'N'
  AND A.VNDR_SEQ = B.VNDR_SEQ(+)
  AND NVL (B.DELT_FLG, 'N') = 'N'
  AND A.OFC_CD = C.AGN_CD
  AND ROWNUM = 1
UNION
SELECT TO_CHAR (C.VNDR_SEQ, 'FM000000') AS VENDOR,
  C.VNDR_LGL_ENG_NM AS NAME,
  B.AGN_CD AS OFFICE,
  D.AR_OFC_CD AS AR_OFC_CD,
  D.LOC_CD AS CITY,
  D.AP_CTR_CD AS CENTER,
  B.CURR_CD AS CURR
FROM BKG_CHN_AGN A,
  ACM_OFC_INFO B,
  MDM_VENDOR C,
  MDM_ORGANIZATION D
WHERE A.VNDR_SEQ = C.VNDR_SEQ
  AND SUBSTR(A.FINC_OFC_CD, 1, 3) || A.CHN_AGN_CD = B.AGN_CD
  AND NVL (C.DELT_FLG, 'N') = 'N'
  AND A.FINC_OFC_CD = D.OFC_CD
  AND SUBSTR(A.FINC_OFC_CD, 1, 3) || A.CHN_AGN_CD = @[ofc_cd]			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
