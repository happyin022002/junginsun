<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationBLDBDAOHblBkgInfoRSQL">
			<desc><![CDATA[select]]></desc>
			<sql><![CDATA[
#if (${ca_flg} == 'Y') 
SELECT A.BKG_NO
,      A.BL_NO || NVL(A.BL_TP_CD, DECODE(C.OBL_SRND_FLG, 'Y', 'S', NULL)) AS BL_NO
,      A.BL_TP_CD
,      (SELECT BL_NO FROM BKG_BKG_HIS WHERE BKG_NO=A.FM_BKG_NO AND CORR_NO='TMP0000001') ORG_BL_NO
,      A.POR_CD
,      A.POL_CD
,      A.POD_CD
,      A.DEL_CD
,      A.USA_CSTMS_FILE_CD
,      A.CND_CSTMS_FILE_CD
,      '' CND_FLG
,      '' HTS_FLG
,      A.BKG_STS_CD
,      B.BDR_FLG
,      NVL2(B.CORR_NO, 'Y', 'N') CA_FLG
,      (SELECT MK_DESC FROM BKG_BL_MK_DESC_HIS WHERE BKG_NO=A.BKG_NO AND CORR_NO='TMP0000001' AND MK_SEQ=1) BKG_MK_DESC
,      (SELECT CSTMS_DESC FROM BKG_BL_DOC_HIS WHERE BKG_NO=A.BKG_NO AND CORR_NO='TMP0000001') BKG_CSTMS_DESC
,      B.PCK_QTY BKG_PCK_QTY
,      B.PCK_TP_CD  BKG_PCK_UNIT
,      B.ACT_WGT BKG_WGT_QTY
,      B.WGT_UT_CD  BKG_WGT_UNIT
,      B.MEAS_QTY BKG_MEAS_QTY
,      B.MEAS_UT_CD BKG_MEAS_UNIT
FROM   BKG_BKG_HIS A, BKG_BL_DOC_HIS B, BKG_BL_ISS_HIS C
WHERE  A.BKG_NO = B.BKG_NO
AND    A.BKG_NO = @[bkg_no]
AND    A.CORR_NO = 'TMP0000001'
AND    B.CORR_NO = 'TMP0000001'
AND    A.BKG_NO = C.BKG_NO(+)
AND    A.CORR_NO = C.CORR_NO(+)
#else 
SELECT A.BKG_NO
,      A.BL_NO || NVL(A.BL_TP_CD, DECODE(C.OBL_SRND_FLG, 'Y', 'S', NULL)) AS BL_NO
,      A.BL_TP_CD
,      (SELECT BL_NO FROM BKG_BOOKING WHERE BKG_NO=A.FM_BKG_NO) ORG_BL_NO
,      A.POR_CD
,      A.POL_CD
,      A.POD_CD
,      A.DEL_CD
,      A.USA_CSTMS_FILE_CD
,      A.CND_CSTMS_FILE_CD
,      '' CND_FLG
,      '' HTS_FLG
,      A.BKG_STS_CD
,      B.BDR_FLG
,      NVL2(B.CORR_NO, 'Y', 'N') CA_FLG
,      (SELECT MK_DESC FROM BKG_BL_MK_DESC WHERE BKG_NO = A.BKG_NO AND MK_SEQ = 1) BKG_MK_DESC
,      (SELECT CSTMS_DESC FROM BKG_BL_DOC WHERE BKG_NO = A.BKG_NO) BKG_CSTMS_DESC
,      B.PCK_QTY BKG_PCK_QTY
,      B.PCK_TP_CD  BKG_PCK_UNIT
,      B.ACT_WGT BKG_WGT_QTY
,      B.WGT_UT_CD  BKG_WGT_UNIT
,      B.MEAS_QTY BKG_MEAS_QTY
,      B.MEAS_UT_CD BKG_MEAS_UNIT
FROM   BKG_BOOKING A, BKG_BL_DOC B, BKG_BL_ISS C
WHERE  A.BKG_NO = B.BKG_NO
AND    A.BKG_NO = @[bkg_no]
AND    A.BKG_NO = C.BKG_NO(+)
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
