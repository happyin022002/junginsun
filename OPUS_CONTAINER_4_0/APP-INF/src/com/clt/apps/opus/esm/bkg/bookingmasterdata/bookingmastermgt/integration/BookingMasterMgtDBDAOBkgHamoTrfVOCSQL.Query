<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingMasterMgtDBDAOBkgHamoTrfVOCSQL">
			<desc><![CDATA[HamoTrf Code Insert 쿼리]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_HAMO_TRF
SELECT
	@[hamo_tp_cd] AS hamo_tp_cd
,	@[hamo_trf_cd] AS hamo_trf_cd
,	@[hamo_cate_ctnt] AS hamo_cate_ctnt
,	@[hamo_cd_desc] AS hamo_cd_desc
,	@[fda_decl_flg] AS fda_decl_flg
,	@[delt_flg] AS delt_flg
,	@[usrId] AS cre_usr_id
,	sysdate AS cre_dt
,	@[usrId] AS upd_usr_id
,	sysdate AS upd_dt
,	null AS edw_upd_dt
,	(SELECT NVL(MAX(HAMO_TRF_CD_SEQ),'0') + 1 FROM BKG_HAMO_TRF WHERE HAMO_TP_CD = @[hamo_tp_cd]	AND HAMO_TRF_CD = @[hamo_trf_cd])
,	TO_DATE(@[exp_dt],'YYYYMMDD') as exp_dt
,	TO_DATE(@[eff_dt],'YYYYMMDD') as eff_dt
FROM BKG_HAMO_TRF WHERE HAMO_TP_CD = @[hamo_tp_cd]	AND HAMO_TRF_CD = @[hamo_trf_cd]	
UNION
SELECT
	@[hamo_tp_cd] AS hamo_tp_cd
,	@[hamo_trf_cd] AS hamo_trf_cd
,	@[hamo_cate_ctnt] AS hamo_cate_ctnt
,	@[hamo_cd_desc] AS hamo_cd_desc
,	@[fda_decl_flg] AS fda_decl_flg
,	@[delt_flg] AS delt_flg
,	@[usrId] AS cre_usr_id
,	sysdate AS cre_dt
,	@[usrId] AS upd_usr_id
,	sysdate AS upd_dt
,	null AS edw_upd_dt
,	(SELECT NVL(MAX(HAMO_TRF_CD_SEQ),'0') + 1 FROM BKG_HAMO_TRF WHERE HAMO_TP_CD = @[hamo_tp_cd]	AND HAMO_TRF_CD = @[hamo_trf_cd])
,	TO_DATE(@[exp_dt],'YYYYMMDD') as exp_dt
,	TO_DATE(@[eff_dt],'YYYYMMDD') as eff_dt
FROM DUAL			]]></sql>
			<params>
				<param name="hamo_tp_cd" type="12" value="" out="N"/>
				<param name="hamo_trf_cd" type="12" value="" out="N"/>
				<param name="hamo_cate_ctnt" type="12" value="" out="N"/>
				<param name="hamo_cd_desc" type="12" value="" out="N"/>
				<param name="fda_decl_flg" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
				<param name="usrId" type="12" value="" out="N"/>
				<param name="exp_dt" type="12" value="" out="N"/>
				<param name="eff_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
