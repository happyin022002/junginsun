<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationCMDBDAOsearchBbContainerRSQL">
			<desc><![CDATA[BLDocumentationCMDBDAOsearchBbContainer]]></desc>
			<sql><![CDATA[
SELECT CNTR_NO FROM MST_CONTAINER MST
WHERE 1=1 
AND MST.CNTR_TPSZ_CD ='B4'
AND NOT EXISTS (SELECT CNTR.CNTR_NO FROM BKG_VVD VVD1, 
                                (SELECT VSL_CD, SKD_VOY_NO, SKD_DIR_CD
                                   FROM   BKG_VVD
                                   WHERE  BKG_NO = @[bkg_no]) VVD2,
                                BKG_CONTAINER CNTR
                WHERE 1=1  
                  AND VVD1.VSL_CD = VVD2.VSL_CD
                  AND VVD1.SKD_VOY_NO = VVD2.SKD_VOY_NO
                  AND VVD1.SKD_DIR_CD = VVD2.SKD_DIR_CD
                  AND VVD1.BKG_NO = CNTR.BKG_NO
                  AND CNTR.CNTR_TPSZ_CD ='B4'
                  AND MST.CNTR_NO = CNTR.CNTR_NO
                )
AND ROWNUM <= @[cnt]			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cnt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
