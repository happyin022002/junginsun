<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DemDet3rdDBDAOMultiDEMDET3RDCSQL">
			<desc><![CDATA[insert
@@ PCM.20141222.MOD : INSERT -> MERGE : DUP ERROR]]></desc>
			<sql><![CDATA[
MERGE INTO COA_DMDT_N3RD_PTY A
USING (SELECT REPLACE(@[cost_yrmon],'-','') COST_YRMON
             , @[cntr_tpsz_cd] CNTR_TPSZ_CD
        	 , @[stnd_cost_cd] STND_COST_CD
        	 , TO_NUMBER(@[uc_amt]) UC_AMT
        	 , TO_NUMBER(@[bkg_vol_qty]) BKG_VOL_QTY
        	 , TO_NUMBER(@[ttl_dmdt_amt]) TTL_DMDT_AMT
        	 , @[cost_ass_bse_cd] COST_ASS_BSE_CD
        	 , @[cre_usr_id] CRE_USR_ID
        	 , SYSDATE CRE_DT
        	 , @[upd_usr_id] UPD_USR_ID
        	 , SYSDATE UPD_DT
		FROM DUAL
        	 ) B
ON (    A.COST_YRMON = B.COST_YRMON
    AND A.CNTR_TPSZ_CD = B.CNTR_TPSZ_CD
    AND A.STND_COST_CD = B.STND_COST_CD)
WHEN MATCHED THEN 
    UPDATE 
      SET A.UC_AMT = B.UC_AMT
        , A.BKG_VOL_QTY = B.BKG_VOL_QTY
        , A.TTL_DMDT_AMT = B.TTL_DMDT_AMT
        , A.COST_ASS_BSE_CD = B.COST_ASS_BSE_CD
        , A.UPD_USR_ID = B.UPD_USR_ID
        , A.UPD_DT = B.UPD_DT
WHEN NOT MATCHED THEN 
    INSERT(A.COST_YRMON, A.CNTR_TPSZ_CD, A.STND_COST_CD, A.UC_AMT, A.BKG_VOL_QTY, A.TTL_DMDT_AMT, A.COST_ASS_BSE_CD, A.CRE_USR_ID, A.CRE_DT, A.UPD_USR_ID, A.UPD_DT)
    VALUES(B.COST_YRMON, B.CNTR_TPSZ_CD, B.STND_COST_CD, B.UC_AMT, B.BKG_VOL_QTY, B.TTL_DMDT_AMT, B.COST_ASS_BSE_CD, B.CRE_USR_ID, B.CRE_DT, B.UPD_USR_ID, B.UPD_DT)			]]></sql>
			<params>
				<param name="cost_yrmon" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="stnd_cost_cd" type="12" value="" out="N"/>
				<param name="uc_amt" type="12" value="" out="N"/>
				<param name="bkg_vol_qty" type="12" value="" out="N"/>
				<param name="ttl_dmdt_amt" type="12" value="" out="N"/>
				<param name="cost_ass_bse_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
