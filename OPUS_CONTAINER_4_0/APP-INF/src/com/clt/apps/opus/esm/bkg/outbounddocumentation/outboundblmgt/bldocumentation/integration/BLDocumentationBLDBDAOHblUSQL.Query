<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationBLDBDAOHblUSQL">
			<desc><![CDATA[update]]></desc>
			<sql><![CDATA[
#if (${ca_flg} == 'Y') 
MERGE INTO BKG_HBL_HIS A
USING DUAL ON (a.bkg_no = @[bkg_no] AND CORR_NO='TMP0000001' AND a.hbl_seq = @[hbl_seq])
WHEN MATCHED THEN
UPDATE SET HBL_NO = @[hbl_no]
,	CNTR_MF_NO = @[cntr_mf_no]
,	BL_MK_DESC = @[bl_mk_desc]
,	BL_GDS_DESC = @[bl_gds_desc]
,	HBL_WGT = @[hbl_wgt]
,	WGT_UT_CD = @[wgt_ut_cd]
,	PCK_QTY = @[pck_qty]
,	PCK_TP_CD = @[pck_tp_cd]
,	CMDT_MEAS_UT_CD = @[cmdt_meas_ut_cd]
,	CMDT_MEAS_QTY = @[cmdt_meas_qty]
,	IDA_IEC_NO = @[ida_iec_no]
,	HBL_MF_TP_CD = @[hbl_mf_tp_cd]
#if (${xter_si_no} != '') 
,   XTER_SI_NO = @[xter_si_no]
#end
#if (${xter_si_seq} != '') 
,   XTER_SI_SEQ = @[xter_si_seq]
#end
,	UPD_USR_ID = @[upd_usr_id]
,	UPD_DT = sysdate
WHEN NOT MATCHED THEN
INSERT (BKG_NO
,      CORR_NO
,      HBL_SEQ
,      HBL_NO
,      CNTR_MF_NO
,      BL_MK_DESC
,      BL_GDS_DESC
,      HBL_WGT
,      WGT_UT_CD
,      PCK_QTY
,      PCK_TP_CD
,      CMDT_MEAS_UT_CD
,      CMDT_MEAS_QTY
,      XTER_SI_NO
,      XTER_SI_SEQ
,      DO_NO
,      DO_NO_SPLIT
,      IDA_IEC_NO
,      HBL_MF_TP_CD
,      CRE_USR_ID
,      CRE_DT
,      UPD_USR_ID
,      UPD_DT
)
VALUES (@[bkg_no]
,   'TMP0000001'
,	@[hbl_seq]
,	@[hbl_no]
,	@[cntr_mf_no]
,	@[bl_mk_desc]
,	@[bl_gds_desc]
,	@[hbl_wgt]
,	@[wgt_ut_cd]
,	@[pck_qty]
,	@[pck_tp_cd]
,	@[cmdt_meas_ut_cd]
,	@[cmdt_meas_qty]
,	@[xter_si_no]
,	@[xter_si_seq]
,	@[do_no]
,	@[do_no_split]
,	@[ida_iec_no]
,	@[hbl_mf_tp_cd]
,	@[cre_usr_id]
,	sysdate
,	@[cre_usr_id]
,	sysdate
)
#else 
MERGE INTO BKG_HBL A
USING DUAL ON (a.bkg_no = @[bkg_no] AND a.hbl_seq = @[hbl_seq])
WHEN MATCHED THEN
UPDATE SET HBL_NO = @[hbl_no]
,	CNTR_MF_NO = @[cntr_mf_no]
,	BL_MK_DESC = @[bl_mk_desc]
,	BL_GDS_DESC = @[bl_gds_desc]
,	HBL_WGT = @[hbl_wgt]
,	WGT_UT_CD = @[wgt_ut_cd]
,	PCK_QTY = @[pck_qty]
,	PCK_TP_CD = @[pck_tp_cd]
,	CMDT_MEAS_UT_CD = @[cmdt_meas_ut_cd]
,	CMDT_MEAS_QTY = @[cmdt_meas_qty]
,	IDA_IEC_NO = @[ida_iec_no]
,	HBL_MF_TP_CD = @[hbl_mf_tp_cd]
#if (${xter_si_no} != '') 
,   XTER_SI_NO = @[xter_si_no]
#end
#if (${xter_si_seq} != '') 
,   XTER_SI_SEQ = @[xter_si_seq]
#end
,	UPD_USR_ID = @[upd_usr_id]
,	UPD_DT = sysdate
WHEN NOT MATCHED THEN
INSERT (BKG_NO
,      HBL_SEQ
,      HBL_NO
,      CNTR_MF_NO
,      BL_MK_DESC
,      BL_GDS_DESC
,      HBL_WGT
,      WGT_UT_CD
,      PCK_QTY
,      PCK_TP_CD
,      CMDT_MEAS_UT_CD
,      CMDT_MEAS_QTY
,      XTER_SI_NO
,      XTER_SI_SEQ
,      DO_NO
,      DO_NO_SPLIT
,      IDA_IEC_NO
,      HBL_MF_TP_CD
,      CRE_USR_ID
,      CRE_DT
,      UPD_USR_ID
,      UPD_DT
)
VALUES (@[bkg_no]
,	@[hbl_seq]
,	@[hbl_no]
,	@[cntr_mf_no]
,	@[bl_mk_desc]
,	@[bl_gds_desc]
,	@[hbl_wgt]
,	@[wgt_ut_cd]
,	@[pck_qty]
,	@[pck_tp_cd]
,	@[cmdt_meas_ut_cd]
,	@[cmdt_meas_qty]
,	@[xter_si_no]
,	@[xter_si_seq]
,	@[do_no]
,	@[do_no_split]
,	@[ida_iec_no]
,	@[hbl_mf_tp_cd]
,	@[cre_usr_id]
,	sysdate
,	@[cre_usr_id]
,	sysdate
)
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="hbl_seq" type="12" value="" out="N"/>
				<param name="hbl_no" type="12" value="" out="N"/>
				<param name="cntr_mf_no" type="12" value="" out="N"/>
				<param name="bl_mk_desc" type="12" value="" out="N"/>
				<param name="bl_gds_desc" type="12" value="" out="N"/>
				<param name="hbl_wgt" type="12" value="" out="N"/>
				<param name="wgt_ut_cd" type="12" value="" out="N"/>
				<param name="pck_qty" type="12" value="" out="N"/>
				<param name="pck_tp_cd" type="12" value="" out="N"/>
				<param name="cmdt_meas_ut_cd" type="12" value="" out="N"/>
				<param name="cmdt_meas_qty" type="12" value="" out="N"/>
				<param name="ida_iec_no" type="12" value="" out="N"/>
				<param name="hbl_mf_tp_cd" type="12" value="" out="N"/>
				<param name="xter_si_no" type="12" value="" out="N"/>
				<param name="xter_si_seq" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="do_no" type="12" value="" out="N"/>
				<param name="do_no_split" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
