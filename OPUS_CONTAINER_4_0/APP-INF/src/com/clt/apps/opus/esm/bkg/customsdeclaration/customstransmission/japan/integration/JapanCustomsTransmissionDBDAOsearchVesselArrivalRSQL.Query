<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JapanCustomsTransmissionDBDAOsearchVesselArrivalRSQL">
			<desc><![CDATA[searchVesselArrival]]></desc>
			<sql><![CDATA[
SELECT RPAD(SUBSTR(NVL(A.CALL_SGN_NO, ' '), 1, 9), 9, ' ') AS CALL_SIGN_NO,
       CASE
          WHEN SUBSTR(@[in_pod_cd], 1, 2) = 'JP' THEN
             NVL(L1.ATTR_CTNT2, @[in_pod_cd])
          ELSE
             DECODE(L1.ATTR_CTNT2, NULL, DECODE(SUBSTR(@[in_pod_cd], 1, 2), 'AW', 'AN', 'CS', 'CB', 'EU', 'ZY', 'KZ', 'KA', 'LI', 'ZY', 'RU', 'RS', 'TJ', 'TA', 'UA', 'UK', 'UZ', 'UB', 'YU', 'YE', SUBSTR(@[in_pod_cd], 1, 2))||'ZZZ', L1.ATTR_CTNT2)
       END AS POD_CD,
       NVL(@[in_pod_cd_split], ' ') AS POD_SPLIT, 
       '    ' AS DATA1,
       ' ' AS DATA2,
       RPAD(NVL(@[in_eta_dt], ' '), 8, ' ') AS ETA_DT,
       RPAD(NVL(NULL, ' '), 2, ' ') AS CSTMS_MF_CD,
       RPAD(NVL(B.MF_RMK, ' '), 140, ' ') AS MF_RMK

  FROM BKG_CSTMS_JP_VSL_SKD A,
       BKG_CSTMS_JP_VSL B,
       BKG_CSTMS_CD_CONV_CTNT L1

 WHERE A.VSL_CD = SUBSTR(@[in_vvd_cd], 1, 4)
   AND A.SKD_VOY_NO = SUBSTR(@[in_vvd_cd], 5, 4)
   AND A.SKD_DIR_CD = SUBSTR(@[in_vvd_cd], 9, 1)
   AND A.POD_CD = @[in_pod_cd]
   AND A.VSL_CD = B.VSL_CD(+)
   AND A.SKD_VOY_NO = B.SKD_VOY_NO(+)
   AND A.SKD_DIR_CD = B.SKD_DIR_CD(+)
   AND A.POD_CD = B.POD_CD(+)
   AND L1.CNT_CD(+) = 'JP'
   AND L1.CSTMS_DIV_ID(+) = 'JAPAN_LOC'
   AND L1.ATTR_CTNT1(+) = A.POD_CD
   AND ROWNUM = 1			]]></sql>
			<params>
				<param name="in_pod_cd" type="12" value="" out="N"/>
				<param name="in_pod_cd_split" type="12" value="" out="N"/>
				<param name="in_eta_dt" type="12" value="" out="N"/>
				<param name="in_vvd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
