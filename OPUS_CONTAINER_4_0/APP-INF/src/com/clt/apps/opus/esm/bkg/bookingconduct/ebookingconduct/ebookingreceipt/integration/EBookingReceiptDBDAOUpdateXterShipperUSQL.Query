<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="EBookingReceiptDBDAOUpdateXterShipperUSQL">
			<desc><![CDATA[해당 rqst에 shipper code를 update한다.]]></desc>
			<sql><![CDATA[
MERGE
 INTO BKG_XTER_CUST A 
USING (SELECT CUST_CNT_CD
			, CUST_SEQ
			, MST.XTER_SNDR_ID
			, MST.XTER_RQST_NO
			, MST.XTER_RQST_SEQ
		 FROM BKG_CUSTOMER CUST
			, BKG_XTER_RQST_MST MST
        WHERE CUST.BKG_NO         = @[bkg_no]
          AND CUST.BKG_CUST_TP_CD = 'S'
		  AND CUST.BKG_NO         = MST.BKG_NO) SH
   ON (     A.XTER_SNDR_ID  = SH.XTER_SNDR_ID
	    AND A.XTER_RQST_NO  = SH.XTER_RQST_NO
        AND A.XTER_RQST_SEQ = SH.XTER_RQST_SEQ )
 WHEN MATCHED THEN
UPDATE
   SET A.CNT_CD     	= SH.CUST_CNT_CD
     , A.CUST_SEQ   	= SH.CUST_SEQ
 WHERE A.XTER_SNDR_ID 	= @[sender_id]
   AND A.XTER_RQST_NO 	= @[rqst_no]
   AND A.XTER_RQST_SEQ	= @[rqst_seq]
   AND A.XTER_CUST_TP_CD= 'S'			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="sender_id" type="12" value="" out="N"/>
				<param name="rqst_no" type="12" value="" out="N"/>
				<param name="rqst_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
