<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOModifyDocRqstUSQL">
			<desc><![CDATA[ModifyDocRqst]]></desc>
			<sql><![CDATA[
#if (${caFlag} == 'Y')

	UPDATE 
		BKG_BL_ISS_HIS
	SET    
		RQST_BL_TP_CD		= @[rqst_bl_tp_cd]
	#if (${bl_iss_tp_cd} != '')
		,BL_ISS_TP_CD 		= @[bl_iss_tp_cd]
	#end
		,OBL_RT_INCL_KNT	= @[obl_rt_incl_knt]
		,OBL_RT_XCLD_KNT	= @[obl_rt_xcld_knt]
		,OBL_PPD_KNT	= @[obl_ppd_knt]
		,OBL_CLT_KNT	= @[obl_clt_knt]
		,OBL_TTL_KNT		= @[obl_ttl_knt]
		,NON_NEGO_RT_INCL_KNT	= @[non_nego_rt_incl_knt]
		,NON_NEGO_RT_XCLD_KNT	= @[non_nego_rt_xcld_knt]
		,NON_NEGO_PPD_KNT	= @[non_nego_ppd_knt]
		,NON_NEGO_CLT_KNT	= @[non_nego_clt_knt]
		,CPY_TTL_KNT		= @[cpy_ttl_knt]
		,RQST_ISS_PLC_NM	= UPPER(@[rqst_iss_plc_nm])
		,BL_DE_TO_CD		= @[bl_de_to_cd]
		,BL_DE_MZD_CD		= @[bl_de_mzd_cd]
		,BL_DOC_RQST_RMK	= @[bl_doc_rqst_rmk]
	#if (${rqst_bl_tp_cd} == 'W')
		,BL_RDY_TP_CD		= 'W'
	#else
		,BL_RDY_TP_CD		= 'B'
	#end
	#if (${rqst_iss_dt} != '')
		,RQST_ISS_DT 		= TO_DATE(replace(substr(@[rqst_iss_dt],1,10),'-',''),'YYYY-MM-DD HH24:MI:SS')
	#end

	WHERE  
		BKG_NO  = @[bkg_no]
		AND CORR_NO = 'TMP0000001'

#else

	UPDATE 
		BKG_BL_ISS
	SET    
		RQST_BL_TP_CD		= @[rqst_bl_tp_cd]
	#if (${bl_iss_tp_cd} != '')
		,BL_ISS_TP_CD 		= @[bl_iss_tp_cd]
	#end
		,OBL_RT_INCL_KNT	= @[obl_rt_incl_knt]
		,OBL_RT_XCLD_KNT	= @[obl_rt_xcld_knt]
		,OBL_PPD_KNT	= @[obl_ppd_knt]
		,OBL_CLT_KNT	= @[obl_clt_knt]
		,OBL_TTL_KNT		= @[obl_ttl_knt]
		,NON_NEGO_RT_INCL_KNT	= @[non_nego_rt_incl_knt]
		,NON_NEGO_RT_XCLD_KNT	= @[non_nego_rt_xcld_knt]
		,NON_NEGO_PPD_KNT	= @[non_nego_ppd_knt]
		,NON_NEGO_CLT_KNT	= @[non_nego_clt_knt]
		,CPY_TTL_KNT		= @[cpy_ttl_knt]
		,RQST_ISS_PLC_NM	= UPPER(@[rqst_iss_plc_nm])
		,BL_DE_TO_CD		= @[bl_de_to_cd]
		,BL_DE_MZD_CD		= @[bl_de_mzd_cd]
		,BL_DOC_RQST_RMK	= @[bl_doc_rqst_rmk]
	#if (${rqst_bl_tp_cd} == 'W')
		,BL_RDY_TP_CD		= 'W'
	#else
		,BL_RDY_TP_CD		= 'B'
	#end
	#if (${rqst_iss_dt} != '')
		,RQST_ISS_DT 		= TO_DATE(replace(substr(@[rqst_iss_dt],1,10),'-',''),'YYYY-MM-DD HH24:MI:SS')
	#end

	WHERE  
		BKG_NO  = @[bkg_no]

#end			]]></sql>
			<params>
				<param name="rqst_bl_tp_cd" type="12" value="" out="N"/>
				<param name="bl_iss_tp_cd" type="12" value="" out="N"/>
				<param name="obl_rt_incl_knt" type="12" value="" out="N"/>
				<param name="obl_rt_xcld_knt" type="12" value="" out="N"/>
				<param name="obl_ppd_knt" type="12" value="" out="N"/>
				<param name="obl_clt_knt" type="12" value="" out="N"/>
				<param name="obl_ttl_knt" type="12" value="" out="N"/>
				<param name="non_nego_rt_incl_knt" type="12" value="" out="N"/>
				<param name="non_nego_rt_xcld_knt" type="12" value="" out="N"/>
				<param name="non_nego_ppd_knt" type="12" value="" out="N"/>
				<param name="non_nego_clt_knt" type="12" value="" out="N"/>
				<param name="cpy_ttl_knt" type="12" value="" out="N"/>
				<param name="rqst_iss_plc_nm" type="12" value="" out="N"/>
				<param name="bl_de_to_cd" type="12" value="" out="N"/>
				<param name="bl_de_mzd_cd" type="12" value="" out="N"/>
				<param name="bl_doc_rqst_rmk" type="12" value="" out="N"/>
				<param name="rqst_iss_dt" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
