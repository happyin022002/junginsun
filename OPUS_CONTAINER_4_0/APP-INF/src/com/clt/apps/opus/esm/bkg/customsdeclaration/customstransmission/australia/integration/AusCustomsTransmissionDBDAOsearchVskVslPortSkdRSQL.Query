<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AusCustomsTransmissionDBDAOsearchVskVslPortSkdRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT TO_CHAR(VPS_ETA_DT, 'RRMMDD') AS VPS_ETA_DT,
       TO_CHAR(VPS_ETD_DT, 'RRMMDD') AS VPS_ETD_DT,
       OB_CSSM_VOY_NO,
       IB_CSSM_VOY_NO,
       (SELECT UN_LOC_CD
          FROM MDM_LOCATION MDM
         WHERE MDM.LOC_CD = (SELECT /*+ INDEX_ASC(VSK_VSL_PORT_SKD XAK4VSK_VSL_PORT_SKD) */
                                    SKD.VPS_PORT_CD
                               FROM VSK_VSL_PORT_SKD SKD
                              WHERE VSL_CD = SUBSTR(@[vvd], 1, 4)
                                AND SKD_VOY_NO = SUBSTR(@[vvd], 5, 4)
                                AND SKD_DIR_CD = SUBSTR(@[vvd], 9, 1)
                                AND CLPT_IND_SEQ = '1'
                                AND VPS_PORT_CD LIKE 'AU%'
                                AND ROWNUM = 1)) AS F_PORT,
       (SELECT LOC_NM
          FROM MDM_LOCATION MDM
         WHERE MDM.LOC_CD = (SELECT /*+ INDEX_ASC(VSK_VSL_PORT_SKD XAK4VSK_VSL_PORT_SKD) */
                                    SKD.VPS_PORT_CD
                               FROM VSK_VSL_PORT_SKD SKD
                              WHERE VSL_CD = SUBSTR(@[vvd], 1, 4)
                                AND SKD_VOY_NO = SUBSTR(@[vvd], 5, 4)
                                AND SKD_DIR_CD = SUBSTR(@[vvd], 9, 1)
                                AND CLPT_IND_SEQ = '1'
                                AND VPS_PORT_CD LIKE 'AU%'
                                AND ROWNUM = 1)) AS F_PORT_NM

  FROM VSK_VSL_PORT_SKD

 WHERE 1 = 1
   AND VSL_CD = SUBSTR(@[vvd], 1, 4)
   AND SKD_VOY_NO = SUBSTR(@[vvd], 5, 4)
   AND SKD_DIR_CD = SUBSTR(@[vvd], 9, 1)
   AND VPS_PORT_CD = @[port_cd]
   AND CLPT_IND_SEQ = '1'
			]]></sql>
			<params>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="port_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
