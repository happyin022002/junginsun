<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingSearchDBDAOsearchCust301BkgCmRSQL">
			<desc><![CDATA[searchCust301BkgCm]]></desc>
			<sql><![CDATA[
SELECT '{CM_MARK_DESC'                             ||CHR(10)||
        'CMD_SEQ:'     ||ROWNUM               ||CHR(10)||
        'CMD_CNTR_NO:' ||NVL(MF.CNTR_NO, '')          ||CHR(10)||        
        'CMD_HTS_CD:'  ||NVL(MF.HAMO_TRF_CD, '')      ||CHR(10)||
        'CMD_PKG_CD:'  ||NVL(MF.PCK_TP_CD, '')        ||CHR(10)||
        'CMD_PKG_QTY:' ||NVL(MF.Pck_QTY, 0)           ||CHR(10)||
        'CMD_WGT_TP:'  ||NVL(MF.WGT_ut_cd, '')        ||CHR(10)||
        'CMD_WGT_QTY:' ||NVL(MF.Cntr_mf_WGT, 0)       ||CHR(10)||
        'CMD_NET_WGT_TP:'  ||NVL(MF.WGT_ut_cd, '')        ||CHR(10)||
        'CMD_NET_WGT_QTY:' ||NVL(MF.Cntr_mf_WGT, 0)       ||CHR(10)||
        'CMD_MEA_TP:'  ||NVL(MF.MEAs_ut_cd, '')       ||CHR(10)||
        'CMD_MEA_QTY:' ||NVL(MF.MEAs_QTY, 0)          ||CHR(10)||
		'CMD_DESC:'    ||REPLACE(NVL(CNTR_MF_GDS_DESC, ''),CHR(10),' ') ||CHR(10)||
        'CMD_MARK:'    ||REPLACE(NVL(CNTR_MF_MK_DESC, ' '),CHR(10),' ') ||CHR(10)||
		'CMD_CD:'      ||CHR(10)||
		'CMD_OB_HAUL_TP:' ||  CASE WHEN POL.CONTI_CD <> 'E' THEN DECODE(BC.RCV_TERM_CD,'D','C','M')
                                            ELSE NVL((SELECT ETRO.HLG_TP_CD FROM BKG_EUR_TRO ETRO WHERE ETRO.BKG_NO = BK.BKG_NO AND ETRO.IO_BND_CD = 'O' AND ETRO.CXL_FLG = 'N' AND ROWNUM = 1),DECODE(BC.RCV_TERM_CD,'D','C','M'))
                                   END   ||CHR(10)||
		'CMD_IB_HAUL_TP:' ||  CASE WHEN POD.CONTI_CD <> 'E' THEN DECODE(BC.DE_TERM_CD,'D','C','M')
                                            ELSE NVL((SELECT ETRO.HLG_TP_CD FROM BKG_EUR_TRO ETRO WHERE ETRO.BKG_NO = BK.BKG_NO AND ETRO.IO_BND_CD = 'I' AND ETRO.CXL_FLG = 'N' AND ROWNUM = 1),DECODE(BC.RCV_TERM_CD,'D','C','M'))
                                   END   ||CHR(10)||
        '}CM_MARK_DESC'                            ||CHR(10) CM_MARK_DESC
  FROM bkg_cntr_mf_desc MF
	   , BKG_BOOKING BK
     , MDM_LOCATION POL
     , MDM_LOCATION POD
     , BKG_CONTAINER BC
 WHERE MF.bkg_no   = @[bkg_no]
 AND MF.BKG_NO = BK.BKG_NO
 AND MF.BKG_NO = BC.BKG_NO
 AND MF.CNTR_NO = BC.CNTR_NO
 AND BK.POL_CD = POL.LOC_CD
 AND BK.POD_CD = POD.LOC_CD
 ORDER BY ROWNUM			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
