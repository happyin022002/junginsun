<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="KrWharfageDecMgtDBDAOsearchKrWhfVolRSQL">
			<desc><![CDATA[s]]></desc>
			<sql><![CDATA[
SELECT UNLD_TP_CD, WHF_VOL_DC_CD, WHF_RT, 
       SUM(WHF_RT_AMT) AS WHF_RT_AMT,
       SUM(RTON_WGT) AS RTON_WFT,
       SUM(EXPT_TON_WGT) AS EXPT_TON_WGT,
       MF_REF_NO,
       EDI_MSG_SND_ID,
       WHF_PAY_DT, 
       WHF_NTC_DT,
       WHF_USR_NM, 
       WHF_CUST_KND_CD, 
       PORT_NM, 
       SUM(NTC_AMT) AS NTC_AMT,
       SUM(RDUC_AMT) AS RDUC_AMT,
       SUM(COMM_AMT) AS COMM_AMT
  FROM BKG_KR_WHF_VOL
 WHERE VSL_CD = SUBSTR(@[vvd], 1, 4)
   AND SKD_VOY_NO = SUBSTR(@[vvd], 5, 4)
   AND SKD_DIR_CD = SUBSTR(@[vvd], 9, 1)
   AND PORT_CD = @[port_cd]
   AND WHF_BND_CD IN (DECODE(@[whf_bnd_cd], 'IN', 'II', @[whf_bnd_cd]), DECODE(@[whf_bnd_cd], 'IN', 'IO', @[whf_bnd_cd]))
 GROUP BY UNLD_TP_CD, WHF_VOL_DC_CD, WHF_RT, 
       MF_REF_NO,
       EDI_MSG_SND_ID,
       WHF_PAY_DT, 
       WHF_NTC_DT,
       WHF_USR_NM, 
       WHF_CUST_KND_CD, 
       PORT_NM			]]></sql>
			<params>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="port_cd" type="12" value="" out="N"/>
				<param name="whf_bnd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
