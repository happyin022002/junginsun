<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MTCostDBDAOEqRepoCostVOCSQL">
			<desc><![CDATA[@20140923.SJH : COA_MTY_REPO_UT_COST 테이블의 데이터 삽입]]></desc>
			<sql><![CDATA[
MERGE INTO COA_MTY_REPO_UT_COST B1
USING (
       SELECT '1' FROM DUAL 
	  ) B2	
ON (     B1.COST_LOC_GRP_CD     = @[cost_loc_grp_cd]   
     AND B1.CNTR_TPSZ_CD        = @[cntr_tpsz_cd]
     AND B1.TRD_CD 			    = @[trd_cd]		
	 AND B1.SCC_CD              = @[scc_cd]
     AND B1.EFF_FM_YRMON        = @[eff_fm_yrmon]) 
WHEN MATCHED THEN
      UPDATE 
         SET EFF_TO_YRMON       = @[eff_to_yrmon]
			,IB_MTY_AMT1		= @[ib_mty_amt1]
			,OB_MTY_AMT1		= @[ob_mty_amt1]
			,IB_MTY_AMT2		= @[ib_mty_amt2]
			,OB_MTY_AMT2		= @[ob_mty_amt2]
			,CNTR_IO_VOL_STS_CD	= @[cntr_io_vol_sts_cd]
			,CNTR_IMBAL_RTO		= @[cntr_imbal_rto]
			,CNTR_IB_QTY		= @[cntr_ib_qty]
			,CNTR_OB_QTY		= @[cntr_ob_qty]
			,MTY_COST_TP_NM		= @[mty_cost_tp_nm]
			,COST_SRC_FM_YRMON	= @[cost_src_fm_yrmon]
			,COST_SRC_TO_YRMON	= @[cost_src_to_yrmon]
            ,BAT_FLG            = DECODE(@[cost_loc_grp_cd],'E','Y',NULL)	--SJH.20141127.MOD
            ,UPD_USR_ID         = @[upd_usr_id]
            ,UPD_DT             = SYSDATE
WHEN NOT MATCHED THEN 
      INSERT (COST_LOC_GRP_CD
             ,CNTR_TPSZ_CD
             ,TRD_CD
             ,SCC_CD
             ,EFF_FM_YRMON
             ,EFF_TO_YRMON
			 ,IB_MTY_AMT1
			 ,OB_MTY_AMT1	
			 ,IB_MTY_AMT2
			 ,OB_MTY_AMT2
			 ,CNTR_IO_VOL_STS_CD
			 ,CNTR_IMBAL_RTO
			 ,CNTR_IB_QTY
			 ,CNTR_OB_QTY
			 ,MTY_COST_TP_NM
			 ,COST_SRC_FM_YRMON
			 ,COST_SRC_TO_YRMON
             ,BAT_FLG
             ,CRE_USR_ID
             ,CRE_DT
             ,UPD_USR_ID
             ,UPD_DT
             ) 
      VALUES (@[cost_loc_grp_cd]
             ,@[cntr_tpsz_cd]
             ,@[trd_cd]             
             ,@[scc_cd]
             ,@[eff_fm_yrmon]
             ,@[eff_to_yrmon]
             ,@[ib_mty_amt1]
             ,@[ob_mty_amt1]
             ,@[ib_mty_amt2]
             ,@[ob_mty_amt2]
             ,@[cntr_io_vol_sts_cd]
             ,@[cntr_imbal_rto]
             ,@[cntr_ib_qty]
             ,@[cntr_ob_qty]
             ,@[mty_cost_tp_nm]
             ,@[cost_src_fm_yrmon]
             ,@[cost_src_to_yrmon]
             ,DECODE(@[cost_loc_grp_cd],'E','Y',NULL)	--SJH.20141127.MOD
             ,@[cre_usr_id]
             ,SYSDATE
             ,@[upd_usr_id]
             ,SYSDATE)			]]></sql>
			<params>
				<param name="cost_loc_grp_cd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="scc_cd" type="12" value="" out="N"/>
				<param name="eff_fm_yrmon" type="12" value="" out="N"/>
				<param name="eff_to_yrmon" type="12" value="" out="N"/>
				<param name="ib_mty_amt1" type="12" value="" out="N"/>
				<param name="ob_mty_amt1" type="12" value="" out="N"/>
				<param name="ib_mty_amt2" type="12" value="" out="N"/>
				<param name="ob_mty_amt2" type="12" value="" out="N"/>
				<param name="cntr_io_vol_sts_cd" type="12" value="" out="N"/>
				<param name="cntr_imbal_rto" type="12" value="" out="N"/>
				<param name="cntr_ib_qty" type="12" value="" out="N"/>
				<param name="cntr_ob_qty" type="12" value="" out="N"/>
				<param name="mty_cost_tp_nm" type="12" value="" out="N"/>
				<param name="cost_src_fm_yrmon" type="12" value="" out="N"/>
				<param name="cost_src_to_yrmon" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
