<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationCMDBDAOmodifyCmFlgBySpcl2USQL">
			<desc><![CDATA[Modify Container Manifest Flag by Special Cargo]]></desc>
			<sql><![CDATA[
#if (${ca_flg}== 'Y')
	UPDATE BKG_CNTR_MF_DESC_HIS MF SET 
	#if (${spcl_tp} == 'RF')
		(RC_FLG, RD_CGO_FLG) = (SELECT NVL(CT.RC_FLG, MF.RC_FLG), NVL(CT.RD_CGO_FLG, MF.RD_CGO_FLG)
								FROM BKG_CNTR_HIS CT
								WHERE CT.BKG_NO = MF.BKG_NO 
								AND CT.CNTR_NO = MF.CNTR_NO
								AND CT.CORR_NO = 'TMP0000001')
	#end
	WHERE	BKG_NO = @[bkg_no]
	AND CORR_NO = 'TMP0000001'
#else
	UPDATE BKG_CNTR_MF_DESC MF SET 
	#if (${spcl_tp} == 'RF')
		(RC_FLG, RD_CGO_FLG) = (SELECT NVL(CT.RC_FLG, MF.RC_FLG), NVL(CT.RD_CGO_FLG, MF.RD_CGO_FLG)
								FROM BKG_CONTAINER CT
								WHERE CT.BKG_NO = MF.BKG_NO 
								AND CT.CNTR_NO = MF.CNTR_NO)
	#end
	WHERE	BKG_NO = @[bkg_no]
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
