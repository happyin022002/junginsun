<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingMasterMgtDBDAOSearchVaildHsCdRSQL">
			<desc><![CDATA[BookingMasterMgtDBDAOSearchVaildHsCdRSQL]]></desc>
			<sql><![CDATA[
SELECT NVL(MAX(FLG),'N')
FROM (
--2. 날짜가 겹쳐서 등록 불가
SELECT 'Y' FLG FROM BKG_HAMO_TRF
WHERE 1=1
AND HAMO_TRF_CD =  @[hamo_trf_cd]
AND HAMO_TP_CD = @[hamo_tp_cd]
AND DELT_FLG = 'N'
#if (${hamo_trf_cd_seq}!='')
AND HAMO_TRF_CD_SEQ <> @[hamo_trf_cd_seq]
#end
AND ((TO_DATE(@[eff_dt] ,'YYYYMMDD') BETWEEN EFF_DT AND EXP_DT) OR (TO_DATE(@[exp_dt],'YYYYMMDD') BETWEEN EFF_DT AND EXP_DT))
)			]]></sql>
			<params>
				<param name="hamo_trf_cd" type="12" value="" out="N"/>
				<param name="hamo_tp_cd" type="12" value="" out="N"/>
				<param name="hamo_trf_cd_seq" type="12" value="" out="N"/>
				<param name="eff_dt" type="12" value="" out="N"/>
				<param name="exp_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
