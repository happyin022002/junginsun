<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableAdjustDBDAOsearchAutoSettlementTemporaryListRSQL">
			<desc><![CDATA[Retrieve Temporary Autosettlement Entry]]></desc>
			<sql><![CDATA[
SELECT BAT_SEQ,
       ADJ_TP_CD,
       CLT_OFC_CD,  
       BL_NO ,
       INV_NO , 
       BL_CURR_CD,
	   CHG_TP_CD,
       BIL_TO_CUST_CNT_CD AS BIL_TO_CUST_CNT_CD,
       LPAD(BIL_TO_CUST_SEQ,6, '0') AS BIL_TO_CUST_SEQ,
       BIL_TO_CUST_CNT_CD||'-'||LPAD(BIL_TO_CUST_SEQ,6, '0') AS CUST_CD, 
       LOCL_VVD_CD,
       SAIL_ARR_DT,
       OTS_SRC_CD,
       OTS_RMK,
       BAL_AMT AS OTS_BAL_AMT,
       BAL_LOCL_AMT AS OTS_BAL_LOCL_AMT,
       BAL_USD_AMT AS OTS_BAL_USD_AMT,
	   SAR_GET_FMT_MASK_FNC(BL_CURR_CD, BAL_AMT) FMT_OTS_BAL_AMT,
       SAR_GET_FMT_MASK_FNC((SELECT AR_CURR_CD FROM MDM_ORGANIZATION WHERE OFC_CD = CLT_OFC_CD), BAL_LOCL_AMT) FMT_OTS_BAL_LOCL_AMT,
       SAR_GET_FMT_MASK_FNC('USD', BAL_USD_AMT) FMT_OTS_BAL_USD_AMT,
       OTS_TP_CD,
       'N' AS DEL_FLAG,
       MISC_LSS_LMT_AMT,
       MISC_INCM_LMT_AMT,
       RHQ_CD,
       OTS_OFC_CD,
	   ADJ_TP_CD||RHQ_CD||OTS_OFC_CD||CLT_OFC_CD||BL_NO||INV_NO AS ADJ_NO_KEY
FROM   SAR_AUTO_STL_TMP
WHERE  BAT_SEQ = @[bat_seq] 
ORDER BY
       ADJ_TP_CD,
       RHQ_CD, 
       OTS_OFC_CD,
       CLT_OFC_CD,
       BL_NO,
       INV_NO,
       BL_CURR_CD			]]></sql>
			<params>
				<param name="bat_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
