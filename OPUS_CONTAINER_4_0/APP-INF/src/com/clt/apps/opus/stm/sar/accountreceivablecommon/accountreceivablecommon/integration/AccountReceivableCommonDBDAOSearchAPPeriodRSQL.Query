<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableCommonDBDAOSearchAPPeriodRSQL">
			<desc><![CDATA[Search AP Period]]></desc>
			<sql><![CDATA[
    SELECT      SYS_DIV_CD
              , EFF_YRMON
              , OFC_CD
              , AR_AP_DIV_CD
              , CLZ_STS_CD
              , SYS_DESC
              , RHQ_CD
              , EAI_EVNT_DT
              , LST_UPD_DT
              , CRE_USR_ID
              , CRE_DT
              , UPD_USR_ID
    FROM      AP_PERIOD
    WHERE     1 = 1
      AND SYS_DIV_CD = @[sys_div_cd]
      AND EFF_YRMON >= @[eff_yrmon]
      AND ( 
               OFC_CD = @[ofc_cd] 
               OR
               OFC_CD IN (
     				SELECT AR_HD_QTR_OFC_CD 
                      FROM MDM_ORGANIZATION 
                     WHERE OFC_CD = @[ofc_cd]		
		    	    )
           ) 
      AND AR_AP_DIV_CD = @[ar_ap_div_cd]
      AND CLZ_STS_CD = @[clz_sts_cd]
    ORDER BY EFF_YRMON           			]]></sql>
			<params>
				<param name="sys_div_cd" type="12" value="" out="N"/>
				<param name="eff_yrmon" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="ar_ap_div_cd" type="12" value="" out="N"/>
				<param name="clz_sts_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
