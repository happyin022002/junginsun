<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableAgentDBDAOASAnoListRSQL">
			<desc><![CDATA[ASA NO]]></desc>
			<sql><![CDATA[
SELECT  ASA_NO
      , SUBSTR(ASA_NO,1,3) ASA_NO1
      , SUBSTR(ASA_NO,4,3) ASA_NO2
      , SUBSTR(ASA_NO,7,4) ASA_NO3
      , TO_CHAR(TO_DATE(ASA_PRD_FM_DT,'YYYYMMDD'),'YYYY-MM-DD')  BIL_CRE_PRD_FM_DT
      , TO_CHAR(TO_DATE(ASA_PRD_TO_DT,'YYYYMMDD'),'YYYY-MM-DD')  BIL_CRE_PRD_TO_DT
      , CURR_CD
	  , NVL((SELECT DP_PRCS_KNT FROM MDM_CURRENCY MC WHERE MC.CURR_CD = SAR_ASA_MST.CURR_CD), 0) AS DP_PRCS_KNT
      , '' FLAG_CD
FROM  SAR_ASA_MST  
WHERE OFC_CD =  @[asa_ofc_cd]
AND UPPER(ASA_NO) like UPPER(@[asa_no]) || '%'

#if ( ${flag_cd} == 'Y'  )
AND 1=1
#else
AND ASA_STS_CD = 'O' 
AND ASA_FSH_DT IS NULL
#end  

#if ( ${flag_cd} == 'Y'  )
ORDER BY ASA_NO DESC
#else
ORDER BY ASA_NO
#end			]]></sql>
			<params>
				<param name="asa_ofc_cd" type="12" value="" out="N"/>
				<param name="asa_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
