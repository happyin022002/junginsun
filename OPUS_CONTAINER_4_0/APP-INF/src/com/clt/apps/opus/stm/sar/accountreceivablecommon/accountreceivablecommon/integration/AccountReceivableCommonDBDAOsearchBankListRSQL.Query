<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableCommonDBDAOsearchBankListRSQL">
			<desc><![CDATA[Bank 정보 조회]]></desc>
			<sql><![CDATA[
SELECT  A.BANK_ACCT_SEQ, 
        A.BANK_ACCT_NM,
        A.BANK_ACCT_NO,
        A.CURR_CD,
        A.MLT_CURR_FLG,
        A.OPN_OFC_CD,
        A.AR_OFC_CD,
		B.DP_PRCS_KNT
FROM    SAP_BANK_ACCT A,
		MDM_CURRENCY B
WHERE   A.CURR_CD = B.CURR_CD
  --AND   A.BANK_ACCT_TP_MN_CD = 'R'  --REVENUE
  AND   A.ACCT_TP_CD IN ('O', 'R')  --O : AR/AP, R : AR, P : AP
  AND   A.INACT_DT IS NULL
#if (${bank_acct_nm} != '')
  AND UPPER(A.BANK_ACCT_NM) LIKE '%'||UPPER(@[bank_acct_nm])||'%'
#end
#if (${rct_tp_cd} == 'OFF' )
  AND A.ATTR_CTNT1 = @[rct_tp_cd]
#end    
#if (${bank_ctrl_cd} == 'ARO' )
  AND A.AR_OFC_CD = @[rct_ofc_cd]
#elseif (${bank_ctrl_cd} == 'OTH')
  AND A.AR_OFC_CD = (SELECT BANK_OFC
                     FROM SCO_OFC_INFO
                     WHERE OFC_CD = @[rct_ofc_cd]
                     )
#else
  AND 1 = 2
#end
#if (${local_curr_cd} != '')
  AND A.CURR_CD = @[local_curr_cd]
#end
 ORDER BY A.BANK_ACCT_NM			]]></sql>
			<params>
				<param name="bank_acct_nm" type="12" value="" out="N"/>
				<param name="rct_tp_cd" type="12" value="" out="N"/>
				<param name="rct_ofc_cd" type="12" value="" out="N"/>
				<param name="local_curr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
