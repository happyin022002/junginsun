<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchInvoiceInterfaceLineVndrInvNoDupCheckRSQL">
			<desc><![CDATA[AccountPayableInvoiceDBDAOSearchInvoiceInterfaceLineVndrInvNoDupCheckRSQL]]></desc>
			<sql><![CDATA[
      SELECT  'Duplicated Of Vendor Invoice No :' || VENDOR_INVOICE_NO || ' [' || INVOICE_NUM || ']' AS VNDR_DUP_REASON
      FROM    (SELECT SID.ATTR_CTNT1    AS VENDOR_INVOICE_NO
                    , SIH.INV_NO        AS INVOICE_NUM
               FROM   SAP_INV_DTL SID
                    , SAP_INV_HDR SIH
               WHERE  SID.INV_SEQ = SIH.INV_SEQ
               AND    SIH.VNDR_NO = (SELECT  MV.VNDR_SEQ
                                     FROM    MDM_VENDOR MV
                                     WHERE   MV.VNDR_SEQ = @[vndr_no]
                                     AND     ROWNUM = 1)
               AND    SIH.INV_NO <> NVL(@[csr_no], 'xxx')   
               AND    SIH.INV_TP_LU_CD = 'STANDARD'
               AND    SIH.ATTR_CATE_NM = 'Invoices'
               AND    SIH.INV_CXL_DT IS NULL ) DUP_VENDOR_INVOICE
      WHERE   VENDOR_INVOICE_NO = @[attr_ctnt1]  
      AND     ROWNUM = 1			]]></sql>
			<params>
				<param name="vndr_no" type="12" value="" out="N"/>
				<param name="csr_no" type="12" value="" out="N"/>
				<param name="attr_ctnt1" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
