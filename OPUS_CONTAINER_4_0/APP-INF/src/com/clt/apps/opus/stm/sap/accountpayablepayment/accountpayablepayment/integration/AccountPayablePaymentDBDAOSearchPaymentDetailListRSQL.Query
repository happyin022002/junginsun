<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayablePaymentDBDAOSearchPaymentDetailListRSQL">
			<desc><![CDATA[Payment Detail Inquiry]]></desc>
			<sql><![CDATA[
SELECT TO_CHAR(SPH.PAY_DT,'YYYYMMDD')   AS PAY_DT
      ,SPH.VNDR_NO            AS VNDR_NO
      ,SPH.VNDR_NM            AS VNDR_NM
      ,SPH.CURR_CD            AS CURR_CD
      ,TRIM(OPUSADM.SAP_GET_CUR_AMT_FNC(SPH.CURR_CD, SPH.PAY_AMT)) AS PAY_AMT
      ,SBB.BANK_NM            AS BANK_NM
      ,SBB.BANK_BRNC_NM       AS BANK_BRNC_NM
      ,SPH.BANK_ACCT_NO       AS BANK_ACCT_NO
      ,SPH.PAY_MZD_LU_CD      AS PAY_MZD_LU_CD
      ,SPH.PAY_NO             AS PAY_NO
FROM   SAP_PAY_HDR SPH
      ,SAP_BANK_ACCT SBA
      ,SAP_BANK_BRNC SBB
WHERE  SPH.BANK_ACCT_SEQ = SBA.BANK_ACCT_SEQ
AND    SBA.BANK_BRNC_SEQ = SBB.BANK_BRNC_SEQ(+)
AND    SPH.PAY_STS_LU_CD <> 'VOIDED'
AND    SPH.OFC_CD = @[ofc_cd]
AND    SPH.PAY_DT >= to_date(@[from_pay_dt], 'yyyy-mm-dd')
AND    SPH.PAY_DT <  to_date(@[to_pay_dt], 'yyyy-mm-dd') + 1
#if (${vndr_no} != '') 
AND    SPH.VNDR_NO = @[vndr_no]
#end
#if (${pay_mzd_lu_cd} != '') 
AND    SPH.PAY_MZD_LU_CD = @[pay_mzd_lu_cd]
#end
ORDER  BY SPH.PAY_DT, SPH.VNDR_NO, SPH.CURR_CD			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="from_pay_dt" type="12" value="" out="N"/>
				<param name="to_pay_dt" type="12" value="" out="N"/>
				<param name="vndr_no" type="12" value="" out="N"/>
				<param name="pay_mzd_lu_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
