<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchInvoiceSlipDetailListRSQL">
			<desc><![CDATA[STM_SAP_0030 Invoice Slip Inquiry - Invoice Detail List Retrieve]]></desc>
			<sql><![CDATA[
SELECT  SID.DTRB_LINE_NO        AS DTRB_LINE_NO
      , SID.LINE_TP_LU_CD       AS LINE_TP_LU_CD
      , SID.ACCTG_PST_FLG       AS ACCTG_PST_FLG
      , SID.ACCTG_DT            AS ACCTG_DT
      , OPUSADM.SAP_GET_CUR_AMT_FNC(@[inv_curr_cd], SID.DTRB_AMT )  AS DTRB_AMT
      , SID.DTRB_VAT_CD         AS DTRB_VAT_CD
      , ATX.AP_TAX_NM           AS VAT_NAME
      , SID.ATTR_CTNT1          AS VENDOR_INV_NO
      , SID.ATTR_CTNT2          AS VENDOR_INV_DATE
      , SID.DTRB_DESC           AS DTRB_DESC
FROM    SAP_INV_DTL SID
      , ( SELECT  D.LU_CD AS TAX_NO
                , D.LU_DESC AS AP_TAX_NM
          FROM  SCO_LU_HDR H, SCO_LU_DTL D
          WHERE H.LU_TP_CD = D.LU_TP_CD 
          AND   H.LU_TP_CD = 'AP TAX CODE'
          AND   H.LU_APPL_CD = 'SAP'
          AND   D.ENBL_FLG = 'Y'
          ORDER BY D.DP_SEQ
        )  ATX
WHERE   SID.DTRB_VAT_CD = ATX.TAX_NO(+)
AND     SID.INV_SEQ = @[inv_seq]
ORDER BY SID.DTRB_LINE_NO			]]></sql>
			<params>
				<param name="inv_curr_cd" type="12" value="" out="N"/>
				<param name="inv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
