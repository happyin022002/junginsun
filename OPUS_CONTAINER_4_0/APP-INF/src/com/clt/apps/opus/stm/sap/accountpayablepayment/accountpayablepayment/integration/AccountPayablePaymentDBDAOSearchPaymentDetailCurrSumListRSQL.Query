<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayablePaymentDBDAOSearchPaymentDetailCurrSumListRSQL">
			<desc><![CDATA[Payment Detail Inquiry Current Sum]]></desc>
			<sql><![CDATA[
SELECT SPH.CURR_CD            AS CURR_CD
	  ,TRIM(OPUSADM.SAP_GET_CUR_AMT_FNC(SPH.CURR_CD, SUM(SPH.PAY_AMT))) AS PAY_AMT
FROM   SAP_PAY_HDR SPH
WHERE  SPH.PAY_STS_LU_CD <> 'VOIDED'
AND    SPH.OFC_CD = @[ofc_cd]
AND    SPH.PAY_DT >= to_date(@[from_pay_dt], 'yyyy-mm-dd')
AND    SPH.PAY_DT <  to_date(@[to_pay_dt], 'yyyy-mm-dd') + 1
#if (${vndr_no} != '') 
AND    SPH.VNDR_NO = @[vndr_no]
#end
#if (${pay_mzd_lu_cd} != '') 
AND    SPH.PAY_MZD_LU_CD = @[pay_mzd_lu_cd]
#end
GROUP  BY SPH.CURR_CD
ORDER  BY SPH.CURR_CD			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="from_pay_dt" type="12" value="" out="N"/>
				<param name="to_pay_dt" type="12" value="" out="N"/>
				<param name="vndr_no" type="12" value="" out="N"/>
				<param name="pay_mzd_lu_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
