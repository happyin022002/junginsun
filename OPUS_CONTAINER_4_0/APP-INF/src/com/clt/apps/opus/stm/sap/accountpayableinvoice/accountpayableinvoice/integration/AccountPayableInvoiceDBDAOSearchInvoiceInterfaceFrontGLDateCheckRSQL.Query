<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchInvoiceInterfaceFrontGLDateCheckRSQL">
			<desc><![CDATA[AccountPayableInvoiceDBDAOSearchInvoiceInterfaceFrontGLDateCheckRSQL]]></desc>
			<sql><![CDATA[
SELECT  MIN(A.PERIOD_USE_FLAG) AS PERIOD_USE_FLAG
FROM    (
         SELECT  CLZ_STS_CD  AS PERIOD_USE_FLAG
         FROM    AP_PERIOD 
         WHERE   EFF_YRMON = SUBSTR(REPLACE(@[gl_dt],'-'), 0, 6) 
         AND     SYS_DIV_CD = @[gl_system_div_flg]
         AND     OFC_CD = @[ofc_cd]
         AND     AR_AP_DIV_CD = 'P'
         UNION 
         SELECT  CLZ_STS_CD AS PERIOD_USE_FLAG
         FROM    AP_PERIOD AP
               , MDM_ORGANIZATION MO
         WHERE   AP.EFF_YRMON  = SUBSTR(REPLACE(@[gl_dt],'-'), 0, 6) 
         AND     AP.SYS_DIV_CD = @[gl_system_div_flg]
         AND     MO.AP_OFC_CD = @[ofc_cd]  
         AND     MO.AP_OFC_CD = MO.OFC_CD  
         AND     AP.AR_AP_DIV_CD = 'P'
         AND     AP.OFC_CD = MO.AR_HD_QTR_OFC_CD
        ) A			]]></sql>
			<params>
				<param name="gl_dt" type="12" value="" out="N"/>
				<param name="gl_system_div_flg" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
