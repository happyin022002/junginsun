<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayablePaymentDBDAOSearchAccountingInvoiceGainLossCheckRSQL">
			<desc><![CDATA[AP Invoice에 대한 Line 단위의 환율 적용시 Gain & Loss 발생 여부에 따른 처리를 하기 위한 정보 처리]]></desc>
			<sql><![CDATA[
SELECT  DECODE(SIGN(SUM(NVL(SID.DTRB_FUNC_GAIN_AMT, 0) - NVL(SID.DTRB_FUNC_LSS_AMT, 0))), -1, 'DR', 1, 'CR', 'NO') AS JOURNAL_TYPE
FROM    SAP_INV_DTL SID
WHERE   SID.INV_SEQ = @[inv_seq]
AND     SID.LINE_TP_LU_CD <> 'PREPAY'
AND     NVL(SID.ACCTG_PST_FLG, 'N') <> 'Y'
AND     NVL(SID.RVS_FLG, 'N') <> 'Y'
AND     SID.PRNT_RVS_DTRB_SEQ IS NULL			]]></sql>
			<params>
				<param name="inv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
