<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayablePaymentDBDAOSearchAccountingPaymentCancelLineGainLossCheckRSQL">
			<desc><![CDATA[SearchAccountingPaymentCancelLineGainLossCheck]]></desc>
			<sql><![CDATA[
SELECT  SUBSTR(SIH.GL_DT, 1, 6)         AS INV_GL_YYMM
      , (SELECT TO_CHAR(SPD2.ACCTG_DT, 'YYYYMM') FROM SAP_PAY_DTL SPD2 WHERE SPD2.INV_PAY_SEQ = SPD.PRNT_RVS_INV_PAY_SEQ AND ROWNUM = 1)  AS PAY_GL_YYMM
      , NVL(SIH.INV_XCH_RT, 1)          AS INV_XCH_RT
      , (SELECT NVL(SPH.PAY_XCH_RT, 1) FROM SAP_PAY_HDR SPH WHERE SPH.PAY_SEQ = SPD.PAY_SEQ AND ROWNUM = 1) AS PAY_XCH_RT
      , SPD.PAY_AMT * (-1)              AS PAY_AMT
FROM    SAP_PAY_DTL SPD
      , SAP_INV_HDR SIH
WHERE   SPD.INV_SEQ = SIH.INV_SEQ
AND     SPD.INV_PAY_SEQ = @[inv_pay_seq]
AND     SPD.INV_SEQ = @[inv_seq]			]]></sql>
			<params>
				<param name="inv_pay_seq" type="12" value="" out="N"/>
				<param name="inv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
