<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayablePaymentDBDAOSearchAPAccountingListRSQL">
			<desc><![CDATA[SearchAPAccountingList]]></desc>
			<sql><![CDATA[
SELECT  SAE.ACCTG_EVNT_TP_CD                AS ACCTG_EVNT_TP_CD
      , SAEH.ACCTG_EVNT_CATE_CD             AS ACCTG_EVNT_CATE_CD
      , SAED.ACCTG_LINE_TP_CD               AS ACCTG_LINE_TP_CD
      , TO_CHAR(SAEH.ACCTG_DT,'YYYY-MM-DD') AS ACCTG_DT
      , SAED.ACCTG_EVNT_LINE_NO             AS ACCTG_EVNT_LINE_NO
      , SAED.CURR_CD                        AS CURR_CD
      , SLCC.SGM_CTNT1                      AS COA_CO_CD
      , SLCC.SGM_CTNT2                      AS COA_RGN_CD
      , SLCC.SGM_CTNT3                      AS COA_CTR_CD
      , SLCC.SGM_CTNT4                      AS COA_ACCT_CD
      , SLCC.SGM_CTNT5                      AS COA_INTER_CO_CD
      , SLCC.SGM_CTNT6                      AS COA_VVD_CD
      , SAED.INP_DR_AMT                     AS INP_DR_AMT
      , DECODE(SAED.INP_DR_AMT, NULL, NULL, SAP_GET_CUR_AMT_FNC(SAED.CURR_CD, SAED.INP_DR_AMT)) AS C_INP_DR_AMT
      , SAED.INP_CR_AMT                     AS INP_CR_AMT
      , DECODE(SAED.INP_CR_AMT, NULL, NULL, SAP_GET_CUR_AMT_FNC(SAED.CURR_CD, SAED.INP_CR_AMT)) AS C_INP_CR_AMT
      , SAED.ACCT_DR_AMT                    AS ACCT_DR_AMT
      , DECODE(SAED.ACCT_DR_AMT, NULL, NULL, SAP_GET_CUR_AMT_FNC(@[functional_currency], SAED.ACCT_DR_AMT)) AS C_ACCT_DR_AMT
      , SAED.ACCT_CR_AMT                    AS ACCT_CR_AMT
      , DECODE(SAED.ACCT_CR_AMT, NULL, NULL, SAP_GET_CUR_AMT_FNC(@[functional_currency], SAED.ACCT_CR_AMT)) AS C_ACCT_CR_AMT
      , SAED.CONV_XCH_RT                    AS CONV_XCH_RT
      , SAED.ACCTG_DESC                     AS ACCTG_DESC
      , SAED.ATTR_CTNT5                     AS ATTR_CTNT5
      , SAEH.ACCTG_ERR_CD                   AS ACCTG_ERR_CD
      , SAED.ATTR_CTNT1                     AS ATTR_CTNT1  
      , SAED.ATTR_CTNT2                     AS ATTR_CTNT2  
      , SAED.ATTR_CTNT3                     AS ATTR_CTNT3  
      , SAED.ATTR_CTNT4                     AS ATTR_CTNT4  
      , SAED.ATTR_CTNT6                     AS ATTR_CTNT6  
      , SAED.ATTR_CTNT7                     AS ATTR_CTNT7  
      , SAED.ATTR_CTNT8                     AS ATTR_CTNT8  
      , SAED.ATTR_CTNT9                     AS ATTR_CTNT9  
      , SAED.ATTR_CTNT10                    AS ATTR_CTNT10 
      , SAE.ACCTG_EVNT_SEQ                  AS ACCTG_EVNT_SEQ  
      , SAEH.ACCTG_HDR_SEQ                  AS ACCTG_HDR_SEQ  
FROM    SAP_ACCTG_EVNT SAE
      , SAP_ACCTG_EVNT_HDR SAEH
      , SAP_ACCTG_EVNT_DTL SAED
      , SCO_LEGR_CD_CMB SLCC
WHERE   SAE.ACCTG_EVNT_SEQ = SAEH.ACCTG_EVNT_SEQ
AND     SAEH.ACCTG_HDR_SEQ = SAED.ACCTG_HDR_SEQ
AND     SAED.ACCT_CD_CMB_SEQ = SLCC.CD_CMB_SEQ
AND     SAE.ACCTG_DT >= TO_DATE(REPLACE(@[acctg_fr_dt],'-',''),'YYYYMMDD')
AND     SAE.ACCTG_DT <  TO_DATE(REPLACE(@[acctg_to_dt],'-',''),'YYYYMMDD') + 1
#if (${acctg_evnt_tp_cd} != 'ALL')
   AND  SAE.ACCTG_EVNT_TP_CD = @[acctg_evnt_tp_cd]
#end
#if (${inv_no} != '')
   AND  SAED.ATTR_CTNT5 = @[inv_no]
#end
ORDER BY 35,1,2,5,4			]]></sql>
			<params>
				<param name="functional_currency" type="12" value="" out="N"/>
				<param name="acctg_fr_dt" type="12" value="" out="N"/>
				<param name="acctg_to_dt" type="12" value="" out="N"/>
				<param name="acctg_evnt_tp_cd" type="12" value="" out="N"/>
				<param name="inv_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
