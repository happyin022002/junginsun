<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchAPOpenNextGLDatePeriodInfoRSQL">
			<desc><![CDATA[searchAPOpenNextGLDatePeriodInfo]]></desc>
			<sql><![CDATA[
SELECT  REPLACE( @[gl_date], '-', '') NEXT_GL_DATE
FROM    SCO_PERIOD SP
WHERE   SP.PRD_STS_CD = 'O'
AND     TO_CHAR(TO_DATE(REPLACE( @[gl_date], '-', '') ,'YYYYMMDD'), 'YYYYMM') = SP.EFF_YRMON
AND     SP.PRD_APPL_CD = 'AP'
UNION   ALL
SELECT  TO_CHAR( TO_DATE(SP.EFF_YRMON, 'YYYYMM'), 'YYYYMMDD')  NEXT_GL_DATE
FROM    SCO_PERIOD SP
WHERE   SP.PRD_STS_CD = 'O'
AND     SP.PRD_APPL_CD = 'AP'
AND     SP.EFF_YRMON >= TO_CHAR(TO_DATE(REPLACE( @[gl_date], '-', ''),'YYYYMMDD') , 'YYYYMM')
AND     SP.EFF_YRMON <= TO_CHAR(ADD_MONTHS(TO_DATE(REPLACE( @[gl_date], '-', ''), 'YYYYMMDD') , 1), 'YYYYMM')
AND     ROWNUM = 1			]]></sql>
			<params>
				<param name="gl_date" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
