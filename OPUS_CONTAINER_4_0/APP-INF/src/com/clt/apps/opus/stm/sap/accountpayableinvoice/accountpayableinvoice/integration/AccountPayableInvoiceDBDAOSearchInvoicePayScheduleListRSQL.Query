<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchInvoicePayScheduleListRSQL">
			<desc><![CDATA[전표 No을 조건으로 지불 예정 내역을 조회]]></desc>
			<sql><![CDATA[
SELECT 
   SPS.INV_SEQ
 , SPS.PAY_SKD_NO
 , TRIM(SAP_GET_CUR_AMT_FNC(SIH.INV_CURR_CD, SPS.PAY_RMN_AMT)) PAY_RMN_AMT
 , TO_CHAR(SPS.DUE_DT, 'YYYY-MM-DD') AS DUE_DT
 , TRIM(SAP_GET_CUR_AMT_FNC(SIH.INV_CURR_CD, SPS.PAY_GRS_AMT)) PAY_GRS_AMT
 , DECODE( SPS.INV_HLD_FLG, 'N', '0', 'Y', '1', '0' ) AS INV_HLD_FLG
 , SPS.PAY_MZD_LU_CD
 , SPS.PAY_PRIO_CD
 , SPS.PAY_STS_FLG
 , SPS.INV_BAT_SEQ
 , SPS.ATTR_CTNT1
 , SPS.ATTR_CTNT2
 , SPS.ATTR_CTNT3
 , SPS.ATTR_CTNT4
 , SPS.ATTR_CTNT5
 , SPS.ATTR_CTNT6
 , SPS.ATTR_CTNT7
 , SPS.ATTR_CTNT8
 , SPS.ATTR_CTNT9
 , SPS.ATTR_CTNT10
 , SPS.ATTR_CTNT11
 , SPS.ATTR_CTNT12
 , SPS.ATTR_CTNT13
 , SPS.ATTR_CTNT14
 , SPS.ATTR_CTNT15
 , SPS.ATTR_CATE_NM
 , SPS.XTER_BANK_ACCT_SEQ
 , SPS.PAY_BAT_RUN_SEQ
 , SPS.REMIT_VNDR_NO
 , SPS.CRE_USR_ID
 , SPS.CRE_DT
 , SPS.UPD_USR_ID
 , SPS.UPD_DT
 , '' USR_ID
 , MV.VNDR_LGL_ENG_NM           AS VNDR_LGL_ENG_NM
 , SBA.BANK_ACCT_NO             AS BANK_ACCT_NO
 , SIH.INV_CURR_CD              AS INV_CURR_CD
 , DECODE( SPS.INV_HLD_FLG, 'N', '0', 'Y', '1', '0' ) AS ORG_INV_HLD_FLG
FROM    SAP_PAY_SKD SPS
      , SAP_INV_HDR SIH
      , SAP_BANK_ACCT SBA
      , MDM_VENDOR MV
WHERE   SPS.INV_SEQ = SIH.INV_SEQ 
AND     SPS.XTER_BANK_ACCT_SEQ = SBA.BANK_ACCT_SEQ(+)
AND     TO_NUMBER(SPS.REMIT_VNDR_NO) = MV.VNDR_SEQ(+)
AND     SPS.INV_SEQ = @[inv_seq]
ORDER BY 1,2			]]></sql>
			<params>
				<param name="inv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
