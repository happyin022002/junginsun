<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOAddInvoiceLineSelectInfoCSQL">
			<desc><![CDATA[AddInvoiceLineSelectInfo]]></desc>
			<sql><![CDATA[
INSERT INTO SAP_INV_DTL
(
   ACCTG_DT
 , ACCL_BK_PST_FLG
 , ASET_ADD_FLG
 , ASET_TRAK_FLG
 , CSH_BK_PST_FLG
 , DTRB_LINE_NO
 , DTRB_COA_CO_CD
 , DTRB_COA_RGN_CD
 , DTRB_COA_CTR_CD
 , DTRB_COA_ACCT_NO
 , DTRB_COA_VVD_CD
 , DTRB_COA_INTER_CO_CD
 , INV_SEQ
 , LINE_TP_LU_CD
 , EFF_YRMON
 , DTRB_AMT
 , DTRB_FUNC_AMT
 , BAT_SEQ
 , DTRB_DESC
 , MTCH_STS_FLG
 , ACCTG_PST_FLG
 , RVS_FLG
 , DTRB_XCH_DT
 , DTRB_XCH_RT
 , DTRB_XCH_RT_TP_CD
 , ATTR_CTNT1
 , ATTR_CTNT2
 , ATTR_CTNT3
 , ATTR_CTNT4
 , ATTR_CTNT5
 , ATTR_CTNT6
 , ATTR_CTNT7
 , ATTR_CTNT8
 , ATTR_CTNT9
 , ATTR_CTNT10
 , ATTR_CTNT11
 , ATTR_CTNT12
 , ATTR_CTNT13
 , ATTR_CTNT14
 , ATTR_CTNT15
 , ATTR_CATE_NM
 , PPAY_RMN_AMT
 , GLO_ATTR_CATE_NM
 , GLO_ATTR_CTNT1
 , GLO_ATTR_CTNT2
 , GLO_ATTR_CTNT3
 , GLO_ATTR_CTNT4
 , GLO_ATTR_CTNT5
 , GLO_ATTR_CTNT6
 , GLO_ATTR_CTNT7
 , GLO_ATTR_CTNT8
 , GLO_ATTR_CTNT9
 , GLO_ATTR_CTNT10
 , GLO_ATTR_CTNT11
 , GLO_ATTR_CTNT12
 , GLO_ATTR_CTNT13
 , GLO_ATTR_CTNT14
 , GLO_ATTR_CTNT15
 , GLO_ATTR_CTNT16
 , GLO_ATTR_CTNT17
 , GLO_ATTR_CTNT18
 , GLO_ATTR_CTNT19
 , GLO_ATTR_CTNT20
 , DTRB_MTCH_TP_NM
 , INV_DTRB_SEQ
 , PRNT_RVS_DTRB_SEQ
 , ACCTG_EVNT_SEQ
 , PPAY_DTRB_SEQ
 , DTRB_CLSS_NM
 , DTRB_VAT_CD
 , OLD_DTRB_SEQ
 , INV_RND_AMT
 , CRE_USR_ID
 , CRE_DT
 , UPD_USR_ID
 , UPD_DT
 , DTRB_CD_CMB_SEQ
 , DTRB_FUNC_GAIN_AMT
 , DTRB_FUNC_LSS_AMT
)
SELECT TO_DATE( @[gl_dt],'YYYYMMDD')
     , SID.ACCL_BK_PST_FLG
     , SID.ASET_ADD_FLG
     , SID.ASET_TRAK_FLG
     , SID.CSH_BK_PST_FLG
     , SID.DTRB_LINE_NO + (SELECT MAX(SID1.DTRB_LINE_NO) FROM SAP_INV_DTL SID1 WHERE SID1.INV_SEQ = @[inv_seq])
     , SID.DTRB_COA_CO_CD
     , SID.DTRB_COA_RGN_CD
     , SID.DTRB_COA_CTR_CD
     , SID.DTRB_COA_ACCT_NO
     , SID.DTRB_COA_VVD_CD
     , SID.DTRB_COA_INTER_CO_CD
     , SID.INV_SEQ
     , SID.LINE_TP_LU_CD
     , SID.EFF_YRMON
     , SID.DTRB_AMT * -1
     , SID.DTRB_FUNC_AMT * -1
     , SID.BAT_SEQ
     , SID.DTRB_DESC
     , SID.MTCH_STS_FLG
     , 'N' AS ACCTG_PST_FLG
     , 'Y' RVS_FLG
     , SID.DTRB_XCH_DT
     , SID.DTRB_XCH_RT
     , SID.DTRB_XCH_RT_TP_CD
     , SID.ATTR_CTNT1
     , SID.ATTR_CTNT2
     , SID.ATTR_CTNT3
     , DECODE(SID.ATTR_CTNT4, 'Y', 'N', SID.ATTR_CTNT4) AS ATTR_CTNT4
     , SID.ATTR_CTNT5
     , SID.ATTR_CTNT6
     , SID.ATTR_CTNT7
     , SID.ATTR_CTNT8
     , SID.ATTR_CTNT9
     , SID.ATTR_CTNT10
     , SID.ATTR_CTNT11
     , SID.ATTR_CTNT12
     , '' AS ATTR_CTNT13
     , DECODE(SID.ATTR_CTNT14, 'Y', 'N', SID.ATTR_CTNT14) AS ATTR_CTNT14
     , SID.ATTR_CTNT15
     , SID.ATTR_CATE_NM
     , SID.PPAY_RMN_AMT
     , SID.GLO_ATTR_CATE_NM
     , TO_NUMBER(SID.GLO_ATTR_CTNT1) + (SELECT MAX(SID1.DTRB_LINE_NO) FROM SAP_INV_DTL SID1 WHERE SID1.INV_SEQ = @[inv_seq])
     , SID.GLO_ATTR_CTNT2
     , SID.GLO_ATTR_CTNT3
     , SID.GLO_ATTR_CTNT4
     , SID.GLO_ATTR_CTNT5
     , SID.GLO_ATTR_CTNT6
     , SID.GLO_ATTR_CTNT7
     , SID.GLO_ATTR_CTNT8
     , SID.GLO_ATTR_CTNT9
     , SID.GLO_ATTR_CTNT10
     , SID.GLO_ATTR_CTNT11
     , SID.GLO_ATTR_CTNT12
     , SID.GLO_ATTR_CTNT13
     , SID.GLO_ATTR_CTNT14
     , SID.GLO_ATTR_CTNT15
     , SID.GLO_ATTR_CTNT16
     , SID.GLO_ATTR_CTNT17
     , SID.GLO_ATTR_CTNT18
     , SID.GLO_ATTR_CTNT19
     , SID.GLO_ATTR_CTNT20
     , SID.DTRB_MTCH_TP_NM
     , SAP_INV_DTL_SEQ.NEXTVAL  AS INV_DTRB_SEQ
     , SID.INV_DTRB_SEQ AS PRNT_RVS_DTRB_SEQ
     , NULL AS ACCTG_EVNT_SEQ
     , NULL PPAY_DTRB_SEQ
     , SID.DTRB_CLSS_NM
     , SID.DTRB_VAT_CD
     , SID.OLD_DTRB_SEQ
     , SID.INV_RND_AMT * -1  AS INV_RND_AMT
     , @[usr_id] AS CRE_USR_ID
     , SYSDATE AS CRE_DT
     , @[usr_id] AS UPD_USR_ID
     , SYSDATE AS UPD_DT
     , SID.DTRB_CD_CMB_SEQ
     , SID.DTRB_FUNC_LSS_AMT
     , SID.DTRB_FUNC_GAIN_AMT
FROM   SAP_INV_DTL SID
WHERE  SID.INV_SEQ = @[inv_seq]			]]></sql>
			<params>
				<param name="gl_dt" type="12" value="" out="N"/>
				<param name="inv_seq" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
