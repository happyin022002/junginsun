<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountPayableInvoiceDBDAOSearchInvoiceLiabilityAccountCheckRSQL">
			<desc><![CDATA[SearchInvoiceLiabilityAccountCheck]]></desc>
			<sql><![CDATA[
SELECT  SLCC.SGM_CTNT1        AS VALUE0 -- COMPANY_CODE
      , NVL( (SELECT FINC_RGN_CD FROM MDM_ORGANIZATION M WHERE M.OFC_CD = @[value1] AND ROWNUM=1 ) ,  SLCC.SGM_CTNT2 )  AS VALUE1 -- REGION_CODE
      , NVL( (SELECT AP_CTR_CD FROM MDM_ORGANIZATION M WHERE M.OFC_CD = @[value1] AND ROWNUM=1 ) ,  SLCC.SGM_CTNT3 )  AS VALUE2 -- CENTER_CODE
      , SLCC.SGM_CTNT4        AS VALUE3 -- ACCOUNT_CODE
      , SLCC.SGM_CTNT5        AS VALUE4 -- INTERCOMPANY_CODE
      , SLCC.SGM_CTNT6        AS VALUE5 -- VVD_CODE
      , SV.VNDR_NO            AS VALUE6 -- VNDR_NO   
      , CD_CMB_SEQ            AS VALUE7 
FROM    SAP_VENDOR SV
      , SCO_LEGR_CD_CMB SLCC
WHERE   SV.VNDR_NO = @[value0]
#if (${value2} == 'PREPAYMENT') 
AND     SLCC.CD_CMB_SEQ = SV.PAY_CD_CMB_SEQ
#else 
 AND     SLCC.CD_CMB_SEQ = SV.LIAB_CD_CMB_SEQ 
#end
AND     SLCC.ENBL_FLG = 'Y'
UNION ALL         
SELECT  (SELECT D.LU_CD 
         FROM SCO_LU_HDR H,  SCO_LU_DTL D
         WHERE H.LU_TP_CD = D.LU_TP_CD
         AND   D.LU_TP_CD = 'GL COMPANY'          
         AND   D.ENBL_FLG = 'Y'
         AND   ROWNUM = 1
         )                    AS VALUE0 -- COMPANY_CODE
      , NVL( (SELECT FINC_RGN_CD FROM MDM_ORGANIZATION M WHERE M.OFC_CD = @[value1] AND ROWNUM=1 ) ,  SLD.ATTR_CTNT1 )  AS VALUE1 -- REGION_CODE
      , NVL( (SELECT AP_CTR_CD FROM MDM_ORGANIZATION M WHERE M.OFC_CD = @[value1] AND ROWNUM=1 ) ,  SLD.ATTR_CTNT2 )  AS VALUE2 -- CENTER_CODE
      , SLD.ATTR_CTNT3        AS VALUE3 -- ACCOUNT_CODE
      , SLD.ATTR_CTNT4        AS VALUE4 -- INTERCOMPANY_CODE
      , SLD.ATTR_CTNT5        AS VALUE5 -- VVD_CODE
      , 'DEFAULT'             AS VALUE6 -- VNDR_NO   
      , CD_CMB_SEQ            AS VALUE7 
FROM    SCO_LU_HDR SLH
      , SCO_LU_DTL SLD
      , SCO_LEGR_CD_CMB SLCC
WHERE   SLH.LU_TP_CD = SLD.LU_TP_CD
AND     SLH.LU_TP_CD = 'AP ACCOUNT SETUP'
AND     NVL(SLD.ENBL_FLG, 'Y') = 'Y'
AND     NVL(SLD.LU_ST_DT, SYSDATE) >= SYSDATE
AND     SLH.LU_APPL_CD = 'SAP'
#if (${value2} == 'PREPAYMENT') 
AND     SLD.LU_CD = 'PREPAYMENT ACCOUNT'
#else 
AND     SLD.LU_CD = 'LIABILITY ACCOUNT'
#end
AND     SLCC.CD_CMB_SEQ(+) = TO_NUMBER(SLD.LU_DESC)
AND     ROWNUM = 1 			]]></sql>
			<params>
				<param name="value1" type="12" value="" out="N"/>
				<param name="value0" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
