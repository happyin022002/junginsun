<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableAdjustDBDAOsearchOffsetInfoRSQL">
			<desc><![CDATA[search offset master]]></desc>
			<sql><![CDATA[
SELECT 
      DECODE(OFFST_TP_CD, 'AP', VNDR_NO, BIL_TO_CNT_CD || LPAD(A.BIL_TO_CUST_SEQ, 6,'0'))  AS VNDR_NO
	, CASE 
	      WHEN OFFST_TP_CD = 'AP' THEN 
	       (SELECT VNDR_LGL_ENG_NM FROM MDM_VENDOR WHERE VNDR_SEQ = TO_NUMBER(A.VNDR_NO) AND ROWNUM = 1) 
	      ELSE 
	       (SELECT CUST_LGL_ENG_NM FROM MDM_CUSTOMER WHERE CUST_CNT_CD = A.BIL_TO_CNT_CD AND CUST_SEQ = A.BIL_TO_CUST_SEQ AND ROWNUM = 1)
	  END AS VNDR_LGL_ENG_NM	
	, DECODE(OFFST_TP_CD, 'AP', AP_INV_NO, DECODE(A.INV_NO, '**********' , BL_NO, INV_NO)) AS BL_INV_NO
    , AR_OFFST_NO
    , AR_OFFST_DT
    , OFC_CD
    , OFFST_CURR_CD
    , BIL_TO_CNT_CD
    , BIL_TO_CUST_SEQ
    , VNDR_NO AS VNDR_NO1
    , OFFST_TP_CD
    , BL_NO
    , INV_NO
    , CURR_CD
    , OFFST_AMT
    , OFFST_XCH_RT
    , OFFST_XCH_AMT
    , TO_CHAR(GL_DT, 'YYYYMMDD') GL_DT
    , CXL_FLG
    , CRE_USR_ID
    , CRE_DT
    , UPD_USR_ID
    , UPD_DT
    , CHG_TP_CD
    , MAX_AR_IF_NO
    , AP_INV_NO
    , RHQ_CD
    , OTS_OFC_CD
    , AR_OFFST_SEQ
    , OTS_BAL_AMT
    , OFFST_OFC_CD
    , '' AS AR_OFFST_DT_FM
    , '' AS AR_OFFST_DT_TO
    , AP_RMK AS AP_REMARK    
    , AP_INV_TERM_DT AS  AP_DU_DT
    , (SELECT MAX(ADJ_GL_DT) FROM SAR_ADJ_HIS WHERE ADJ_NO = A.AR_OFFST_NO AND ADJ_STS_CD = 'REVERSE') AS REV_GL_DT
    , (SELECT NVL(MC.DP_PRCS_KNT,0) FROM MDM_CURRENCY MC WHERE MC.CURR_CD = A.CURR_CD) AS DP_PRCS_KNT 
FROM SAR_OFFST_MST A
WHERE A.AR_OFFST_NO = @[ar_offst_no]
AND   A.OFFST_OFC_CD = @[offst_ofc_cd]			]]></sql>
			<params>
				<param name="ar_offst_no" type="12" value="" out="N"/>
				<param name="offst_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
