<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GEMPlanningPerformanceDBDAOSearchExpenseAproStepRSQL">
			<desc><![CDATA[GEM_APRO_STEP테이블 조회]]></desc>
			<sql><![CDATA[
SELECT GEN_EXPN_RQST_NO
      ,OFC_CD
      ,GEN_EXPN_CD
      ,GEN_EXPN_ITM_NO
      ,GEN_EXPN_TRNS_DIV_CD
      ,GEN_EXPN_RQST_SEQ
      ,GEN_EXPN_APRO_STEP_CD
      ,GEN_EXPN_APSTS_CD
      ,GEN_EXPN_APRO_AUTH_OFC_CD
      ,JAN_AMT
      ,FEB_AMT
      ,MAR_AMT
      ,APR_AMT
      ,MAY_AMT
      ,JUN_AMT
      ,JUL_AMT
      ,AUG_AMT
      ,SEP_AMT
      ,OCT_AMT
      ,NOV_AMT
      ,DEC_AMT
	  ,(JAN_AMT+FEB_AMT+MAR_AMT+APR_AMT+MAY_AMT+JUN_AMT+JUL_AMT+AUG_AMT+SEP_AMT+OCT_AMT+NOV_AMT+DEC_AMT) SUM_AMT
      ,APRO_OPIN_RMK
      ,CRE_USR_ID
      ,TO_CHAR(CRE_DT , 'FMYYYY-MM-DD') CRE_DT
      ,UPD_USR_ID
      ,TO_CHAR(UPD_DT , 'FMYYYY-MM-DD') UPD_DT
      ,DECODE(GEN_EXPN_APRO_STEP_CD , 'RQ' , '1' , 'HQ' , '2' , 'TC' , '3' , 'CO' , '4') ORD
FROM   GEM_APRO_STEP
WHERE GEN_EXPN_RQST_NO = @[gen_expn_rqst_no]
#if (${ofc_cd} != '') 
	AND OFC_CD =  @[ofc_cd]
#end

#if (${gen_expn_cd} != '') 
	AND GEN_EXPN_CD =  @[gen_expn_cd]
#end

#if (${gen_expn_itm_no} != '') 
	AND GEN_EXPN_ITM_NO =  @[gen_expn_itm_no]
#end

#if (${gen_expn_trns_div_cd} != '') 
	AND GEN_EXPN_TRNS_DIV_CD =  @[gen_expn_trns_div_cd]
#end

#if (${gen_expn_rqst_seq} != '') 
	AND GEN_EXPN_RQST_SEQ =  @[gen_expn_rqst_seq]
#end

#if (${gen_expn_apro_step_cd} != '') 
	AND GEN_EXPN_APRO_STEP_CD =  @[gen_expn_apro_step_cd]
#end

#if (${gen_expn_apsts_cd} != '') 
	AND GEN_EXPN_APSTS_CD =  @[gen_expn_apsts_cd]
#end


#if (${gen_expn_apro_auth_ofc_cd} != '') 
	AND GEN_EXPN_APRO_AUTH_OFC_CD =  @[gen_expn_apro_auth_ofc_cd]
#end

ORDER BY GEN_EXPN_RQST_SEQ , GEN_EXPN_TRNS_DIV_CD , ORD			]]></sql>
			<params>
				<param name="gen_expn_rqst_no" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="gen_expn_cd" type="12" value="" out="N"/>
				<param name="gen_expn_itm_no" type="12" value="" out="N"/>
				<param name="gen_expn_trns_div_cd" type="12" value="" out="N"/>
				<param name="gen_expn_rqst_seq" type="12" value="" out="N"/>
				<param name="gen_expn_apro_step_cd" type="12" value="" out="N"/>
				<param name="gen_expn_apsts_cd" type="12" value="" out="N"/>
				<param name="gen_expn_apro_auth_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
