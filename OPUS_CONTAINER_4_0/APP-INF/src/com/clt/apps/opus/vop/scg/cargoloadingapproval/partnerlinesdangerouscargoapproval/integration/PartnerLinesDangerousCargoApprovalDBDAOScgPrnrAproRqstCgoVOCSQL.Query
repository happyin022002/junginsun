<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PartnerLinesDangerousCargoApprovalDBDAOScgPrnrAproRqstCgoVOCSQL">
			<desc><![CDATA[SPCL CGO APVL for Partner Lines 의 Request Cago 생성]]></desc>
			<sql><![CDATA[
MERGE INTO   SCG_PRNR_APRO_RQST_CGO XX
USING    	(SELECT    COM_ConstantMgr_PKG.COM_getCompanyCode_FNC() 	AS CRR_CD
                  	,  @[prnr_cgo_rqst_seq]                         	AS PRNR_CGO_RQST_SEQ
                  	,  @[bkg_ref_no]                                	AS BKG_REF_NO
                  	,  @[spcl_cgo_rqst_seq]                         	AS SPCL_CGO_RQST_SEQ
                  	,  @[spcl_cntr_seq]                             	AS SPCL_CNTR_SEQ
                  	,  @[spcl_cgo_seq]                              	AS SPCL_CGO_SEQ
       		FROM    DUAL
         	) YY
ON       	(
      		XX.CRR_CD        		= YY.CRR_CD              
		AND	XX.BKG_REF_NO			= YY.BKG_REF_NO		    
		AND	XX.SPCL_CGO_RQST_SEQ	= YY.SPCL_CGO_RQST_SEQ   	
		AND	XX.SPCL_CNTR_SEQ		= YY.SPCL_CNTR_SEQ	    	
		AND	XX.SPCL_CGO_SEQ	        = YY.SPCL_CGO_SEQ	    
		AND	XX.PRNR_CGO_RQST_SEQ    = YY.PRNR_CGO_RQST_SEQ   
         )     
    
WHEN MATCHED THEN
UPDATE  SET
   OUT_N1ST_IMDG_PCK_QTY      	=   @[out_n1st_imdg_pck_qty]                                                                 
,  OUT_N1ST_IMDG_PCK_CD         =   @[out_n1st_imdg_pck_cd]                                                                 
,  OUT_N2ND_IMDG_PCK_QTY        =   @[out_n2nd_imdg_pck_qty]                                                                
,  OUT_N2ND_IMDG_PCK_CD         =   @[out_n2nd_imdg_pck_cd]                                                                 
,  MAX_IN_PCK_QTY               =   @[max_in_pck_qty]                                                                       
,  MAX_IN_PCK_TP_CD             =   @[max_in_pck_tp_cd]                                                                     
,  CNEE_DTL_DESC                =   @[cnee_dtl_desc]                                                                        
,  NET_EXPLO_WGT                =   @[net_explo_wgt]                                                                        
,  RADA_SKD_NO                  =   @[rada_skd_no]                                                                          
,  RADA_AMT                     =   @[rada_amt]                                                                             
,  RADA_UT_CD                   =   @[rada_ut_cd]                                                                           
,  RADA_TRSP_NO                 =   @[rada_trsp_no]                                                                         
,  DIFF_RMK                     =   @[diff_rmk]                                                                             
,  CGO_RQST_DT                  =   DECODE(@[auth_sts_cd],'R',SYSDATE,NULL)                                                                                                                                
,  UPD_USR_ID                   =   @[upd_usr_id]                                                                           
,  UPD_DT                       =   SYSDATE                                                                                                                                                          
,  IMDG_UN_NO                   =   @[imdg_un_no]                                                                           
,  IMDG_UN_NO_SEQ               =   @[imdg_un_no_seq]                                                                       
,  IMDG_CLSS_CD                 =   @[imdg_clss_cd]                                                                         
,  N1ST_IMDG_SUBS_RSK_LBL_CD    =   @[n1st_imdg_subs_rsk_lbl_cd]                                                            
,  N2ND_IMDG_SUBS_RSK_LBL_CD    =   @[n2nd_imdg_subs_rsk_lbl_cd]                                                            
,  N3RD_IMDG_SUBS_RSK_LBL_CD    =   @[n3rd_imdg_subs_rsk_lbl_cd]                                                            
,  N4TH_IMDG_SUBS_RSK_LBL_CD    =   @[n4th_imdg_subs_rsk_lbl_cd]                                                            
,  IMDG_CO_GRP_CD               =   @[imdg_comp_grp_cd]                                                                       
,  IMDG_PCK_GRP_CD              =   DECODE(@[imdg_pck_grp_cd],'I','1','II','2','III','3',@[imdg_pck_grp_cd])                
,  IMDG_LMT_QTY_FLG             =   @[imdg_lmt_qty_flg]                                                                     
,  IMDG_EXPT_QTY_FLG            =   @[imdg_expt_qty_flg]                                                                    
,  MRN_POLUT_FLG                =   @[mrn_polut_flg]                                                                        
,  FLSH_PNT_CDO_TEMP            =   @[flsh_pnt_cdo_temp]                                                                    
,  PRP_SHP_NM                   =   @[prp_shp_nm]                                                                           
,  HZD_DESC                     =   @[hzd_desc]                                                                             
,  DCGO_STS_CD                  =   @[dcgo_sts_cd]                                                                          
,  MEAS_QTY                     =   @[meas_qty]                                                                             
,  MEAS_TP_CD                   =   @[meas_tp_cd]                                                                           
,  PCK_QTY                      =   @[pck_qty]                                                                              
,  PCK_TP_CD                    =   @[pck_tp_cd]                                                                            
,  CLOD_FLG                     =   @[clod_flg]                                                                             
,  SPCL_STWG_RQST_DESC          =   @[spcl_stwg_rqst_desc]                                                                  
,  CGO_LCL_FLG                  =   @[cgo_lcl_flg]                                                                          
,  EMER_RSPN_GID_NO             =   @[emer_rspn_gid_no]                                                                     
,  EMER_RSPN_GID_CHR_NO         =   @[emer_rspn_gid_chr_no]                                                                 
,  EMER_CNTC_PHN_NO             =   @[emer_cntc_phn_no]                                                                     
,  EMER_CNTC_PSON_NM            =   @[emer_cntc_pson_nm]                                                                    
,  EMER_TEMP_CTNT               =   @[emer_temp_ctnt]                                                                       
,  CTRL_TEMP_CTNT               =   @[ctrl_temp_ctnt]                                                                       
,  EMS_NO                       =   @[ems_no]                                                                               
,  CMDT_DESC                    =   @[cmdt_desc]                                                                            
,  TTL_DIM_LEN                  =   @[ttl_dim_len]                                                                          
,  TTL_DIM_WDT                  =   @[ttl_dim_wdt]                                                                          
,  TTL_DIM_HGT                  =   @[ttl_dim_hgt]                                                                          
,  FWRD_OVR_DIM_LEN             =   @[fwrd_ovr_dim_len]                                                                     
,  BKWD_OVR_DIM_LEN             =   @[bkwd_ovr_dim_len]                                                                     
,  HGT_OVR_DIM_LEN              =   @[hgt_ovr_dim_len]                                                                      
,  LF_SD_OVR_DIM_LEN            =   @[lf_sd_ovr_dim_len]                                                                    
,  RT_SD_OVR_DIM_LEN            =   @[rt_sd_ovr_dim_len]                                                                    
,  VOID_SLT_QTY                 =   @[void_slt_qty]                                                                         
,  NET_WGT                      =   @[net_wgt]                                                                              
,  GRS_WGT                      =   @[grs_wgt]                                                                              
,  WGT_UT_CD                    =   @[wgt_ut_cd]                                                                            
,  PSA_NO                       =   @[psa_no]                                                                               
,  CERTI_NO                     =   @[certi_no]                                                                             
,  IN_N1ST_IMDG_PCK_QTY         =   @[in_n1st_imdg_pck_qty]                                                                 
,  IN_N1ST_IMDG_PCK_CD          =   @[in_n1st_imdg_pck_cd]                                                                  
,  IN_N2ND_IMDG_PCK_QTY         =   @[in_n2nd_imdg_pck_qty]                                                                 
,  IN_N2ND_IMDG_PCK_CD          =   @[in_n2nd_imdg_pck_cd]                                                                  
,  INTMD_N1ST_IMDG_PCK_QTY      =   @[intmd_n1st_imdg_pck_qty]                                                              
,  INTMD_N1ST_IMDG_PCK_CD       =   @[intmd_n1st_imdg_pck_cd]                                                               
,  INTMD_N2ND_IMDG_PCK_QTY      =   @[intmd_n2nd_imdg_pck_qty]                                                              
,  INTMD_N2ND_IMDG_PCK_CD       =   @[intmd_n2nd_imdg_pck_cd]                                                               
,  SPCL_CGO_CATE_CD             =   @[spcl_cgo_cate_cd]                                                                     
,  CNTR_REF_NO                  =   @[cntr_ref_no]                                                                          
,  CNTR_TPSZ_CD                 =   @[cntr_tpsz_cd]                                                                         
,  AUTH_DT                      =   NULL                                                                                   
,  AUTH_OFC_CD                  =   @[auth_ofc_cd]                                                                          
,  AUTH_USR_ID                  =   @[auth_usr_id]                                                                          
,  AUTH_STS_CD                  =   @[auth_sts_cd]                                                                          
,  APRO_REF_NO                  =   NULL                                                                                    
,  CGO_OPR_CD                   =   @[cgo_opr_cd]                                                                           
,  DCGO_REF_NO                  =   @[dcgo_ref_no]                                                                         
,  IMDG_AMDT_NO                 =   @[imdg_amdt_no]                                                                         
,  CFR_FLG                      =   NVL(@[cfr_flg],'N')                                                                                                                                                                        
,  RSD_FLG                     	=  @[rsd_flg]   
--2016-04-13 SEGR GRP 정보 추가
, IMDG_SEGR_GRP_NO              =  @[imdg_segr_grp_no]
                                                                          

WHEN NOT MATCHED THEN
INSERT  
(
  OUT_N1ST_IMDG_PCK_QTY
,  OUT_N1ST_IMDG_PCK_CD
,  OUT_N2ND_IMDG_PCK_QTY
,  OUT_N2ND_IMDG_PCK_CD
,  MAX_IN_PCK_QTY
,  MAX_IN_PCK_TP_CD
,  CNEE_DTL_DESC
,  NET_EXPLO_WGT
,  RADA_SKD_NO
,  RADA_AMT
,  RADA_UT_CD
,  RADA_TRSP_NO
,  DIFF_RMK
,  CGO_RQST_DT
,  CRE_USR_ID
,  CRE_DT
,  UPD_USR_ID
,  UPD_DT
,  CRR_CD
,  BKG_REF_NO
,  SPCL_CGO_RQST_SEQ
,  SPCL_CNTR_SEQ
,  SPCL_CGO_SEQ
,  IMDG_UN_NO
,  IMDG_UN_NO_SEQ
,  IMDG_CLSS_CD
,  N1ST_IMDG_SUBS_RSK_LBL_CD
,  N2ND_IMDG_SUBS_RSK_LBL_CD
,  N3RD_IMDG_SUBS_RSK_LBL_CD
,  N4TH_IMDG_SUBS_RSK_LBL_CD
,  IMDG_CO_GRP_CD
,  IMDG_PCK_GRP_CD
,  IMDG_LMT_QTY_FLG
,  IMDG_EXPT_QTY_FLG
,  MRN_POLUT_FLG
,  FLSH_PNT_CDO_TEMP
,  PRP_SHP_NM
,  HZD_DESC
,  DCGO_STS_CD
,  MEAS_QTY
,  MEAS_TP_CD
,  PCK_QTY
,  PCK_TP_CD
,  CLOD_FLG
,  SPCL_STWG_RQST_DESC
,  CGO_LCL_FLG
,  EMER_RSPN_GID_NO
,  EMER_RSPN_GID_CHR_NO
,  EMER_CNTC_PHN_NO
,  EMER_CNTC_PSON_NM
,  EMER_TEMP_CTNT
,  CTRL_TEMP_CTNT
,  EMS_NO
,  CMDT_DESC
,  TTL_DIM_LEN
,  TTL_DIM_WDT
,  TTL_DIM_HGT
,  FWRD_OVR_DIM_LEN
,  BKWD_OVR_DIM_LEN
,  HGT_OVR_DIM_LEN
,  LF_SD_OVR_DIM_LEN
,  RT_SD_OVR_DIM_LEN
,  VOID_SLT_QTY
,  NET_WGT
,  GRS_WGT
,  WGT_UT_CD
,  PSA_NO
,  CERTI_NO
,  IN_N1ST_IMDG_PCK_QTY
,  IN_N1ST_IMDG_PCK_CD
,  IN_N2ND_IMDG_PCK_QTY
,  IN_N2ND_IMDG_PCK_CD
,  INTMD_N1ST_IMDG_PCK_QTY

,  INTMD_N1ST_IMDG_PCK_CD
,  INTMD_N2ND_IMDG_PCK_QTY
,  INTMD_N2ND_IMDG_PCK_CD
,  SPCL_CGO_CATE_CD
,  CNTR_REF_NO
,  CNTR_TPSZ_CD
,  AUTH_DT
,  AUTH_OFC_CD
,  AUTH_USR_ID
,  AUTH_STS_CD
,  APRO_REF_NO
,   CGO_OPR_CD

----,   REF_NO
,  DCGO_REF_NO
,  IMDG_AMDT_NO

,  CFR_FLG
,       PRNR_CGO_RQST_SEQ
,   DCGO_SEQ
,   RSD_FLG
--2016-04-13 SEGR GRP 정보 추가
,	IMDG_SEGR_GRP_NO

) VALUES( 

  @[out_n1st_imdg_pck_qty]
,  @[out_n1st_imdg_pck_cd]
,  @[out_n2nd_imdg_pck_qty]
,  @[out_n2nd_imdg_pck_cd]
,  @[max_in_pck_qty]
,  @[max_in_pck_tp_cd]
,  @[cnee_dtl_desc]
,  @[net_explo_wgt]
,  @[rada_skd_no]
,  @[rada_amt]
,  @[rada_ut_cd]
,  @[rada_trsp_no]
,  @[diff_rmk]
,  DECODE(@[auth_sts_cd],'R',SYSDATE,NULL)
,  @[cre_usr_id]
,  SYSDATE
,  @[upd_usr_id]
,  SYSDATE
,  COM_ConstantMgr_PKG.COM_getCompanyCode_FNC()
,  @[bkg_ref_no]
,  @[spcl_cgo_rqst_seq]
,  @[spcl_cntr_seq]
,  @[spcl_cgo_seq]
,  @[imdg_un_no]
,  @[imdg_un_no_seq]
,  @[imdg_clss_cd]
,  @[n1st_imdg_subs_rsk_lbl_cd]
,  @[n2nd_imdg_subs_rsk_lbl_cd]
,  @[n3rd_imdg_subs_rsk_lbl_cd]
,  @[n4th_imdg_subs_rsk_lbl_cd]
,  @[imdg_comp_grp_cd]
,  DECODE(@[imdg_pck_grp_cd],'I','1','II','2','III','3',@[imdg_pck_grp_cd])
,  @[imdg_lmt_qty_flg]
,  @[imdg_expt_qty_flg]
,  @[mrn_polut_flg]
,  @[flsh_pnt_cdo_temp]
,  @[prp_shp_nm]
,  @[hzd_desc]
,  @[dcgo_sts_cd]
,  @[meas_qty]
,  @[meas_tp_cd]
,  @[pck_qty]
,  @[pck_tp_cd]
,  @[clod_flg]
,  @[spcl_stwg_rqst_desc]
,  @[cgo_lcl_flg]
,  @[emer_rspn_gid_no]
,  @[emer_rspn_gid_chr_no]
,  @[emer_cntc_phn_no]
,  @[emer_cntc_pson_nm]
,  @[emer_temp_ctnt]
,  @[ctrl_temp_ctnt]
,  @[ems_no]
,  @[cmdt_desc]
,  @[ttl_dim_len]
,  @[ttl_dim_wdt]
,  @[ttl_dim_hgt]
,  @[fwrd_ovr_dim_len]
,  @[bkwd_ovr_dim_len]
,  @[hgt_ovr_dim_len]
,  @[lf_sd_ovr_dim_len]
,  @[rt_sd_ovr_dim_len]
,  @[void_slt_qty]
,  @[net_wgt]
,  @[grs_wgt]
,  @[wgt_ut_cd]
,  @[psa_no]
,  @[certi_no]
,  @[in_n1st_imdg_pck_qty]
,  @[in_n1st_imdg_pck_cd]
,  @[in_n2nd_imdg_pck_qty]
,  @[in_n2nd_imdg_pck_cd]
,  @[intmd_n1st_imdg_pck_qty]
,  @[intmd_n1st_imdg_pck_cd]
,  @[intmd_n2nd_imdg_pck_qty]
,  @[intmd_n2nd_imdg_pck_cd]
,  @[spcl_cgo_cate_cd]
,  @[cntr_ref_no]
,  @[cntr_tpsz_cd]
,  NULL
,  @[auth_ofc_cd]
,  @[auth_usr_id]
,  @[auth_sts_cd]
,  NULL
,  @[cgo_opr_cd]

,  @[dcgo_ref_no]
,  @[imdg_amdt_no]

,  NVL(@[cfr_flg],'N') 
,  @[prnr_cgo_rqst_seq]
,  DECODE(@[dcgo_seq], null, 
          					(	SELECT 	NVL(MAX(DCGO_SEQ),0)+1 
								FROM 	SCG_PRNR_APRO_RQST_CGO
                                WHERE 	CRR_CD 					= COM_ConstantMgr_PKG.COM_getCompanyCode_FNC()  
                                AND 	BKG_REF_NO 				= @[bkg_ref_no]
								AND		PRNR_CGO_RQST_SEQ		= @[prnr_cgo_rqst_seq]
							),@[dcgo_seq]
		)
,   @[rsd_flg]
--2016-04-13 SEGR GRP 정보 추가
,  @[imdg_segr_grp_no]
)			]]></sql>
			<params>
				<param name="prnr_cgo_rqst_seq" type="12" value="" out="N"/>
				<param name="bkg_ref_no" type="12" value="" out="N"/>
				<param name="spcl_cgo_rqst_seq" type="2" value="" out="N"/>
				<param name="spcl_cntr_seq" type="2" value="" out="N"/>
				<param name="spcl_cgo_seq" type="2" value="" out="N"/>
				<param name="out_n1st_imdg_pck_qty" type="6" value="" out="N"/>
				<param name="out_n1st_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="out_n2nd_imdg_pck_qty" type="6" value="" out="N"/>
				<param name="out_n2nd_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="max_in_pck_qty" type="6" value="" out="N"/>
				<param name="max_in_pck_tp_cd" type="12" value="" out="N"/>
				<param name="cnee_dtl_desc" type="12" value="" out="N"/>
				<param name="net_explo_wgt" type="6" value="" out="N"/>
				<param name="rada_skd_no" type="12" value="" out="N"/>
				<param name="rada_amt" type="6" value="" out="N"/>
				<param name="rada_ut_cd" type="12" value="" out="N"/>
				<param name="rada_trsp_no" type="2" value="" out="N"/>
				<param name="diff_rmk" type="12" value="" out="N"/>
				<param name="auth_sts_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="imdg_un_no" type="12" value="" out="N"/>
				<param name="imdg_un_no_seq" type="2" value="" out="N"/>
				<param name="imdg_clss_cd" type="12" value="" out="N"/>
				<param name="n1st_imdg_subs_rsk_lbl_cd" type="12" value="" out="N"/>
				<param name="n2nd_imdg_subs_rsk_lbl_cd" type="12" value="" out="N"/>
				<param name="n3rd_imdg_subs_rsk_lbl_cd" type="12" value="" out="N"/>
				<param name="n4th_imdg_subs_rsk_lbl_cd" type="12" value="" out="N"/>
				<param name="imdg_comp_grp_cd" type="12" value="" out="N"/>
				<param name="imdg_pck_grp_cd" type="12" value="" out="N"/>
				<param name="imdg_lmt_qty_flg" type="12" value="" out="N"/>
				<param name="imdg_expt_qty_flg" type="12" value="" out="N"/>
				<param name="mrn_polut_flg" type="12" value="" out="N"/>
				<param name="flsh_pnt_cdo_temp" type="12" value="" out="N"/>
				<param name="prp_shp_nm" type="12" value="" out="N"/>
				<param name="hzd_desc" type="12" value="" out="N"/>
				<param name="dcgo_sts_cd" type="12" value="" out="N"/>
				<param name="meas_qty" type="6" value="" out="N"/>
				<param name="meas_tp_cd" type="12" value="" out="N"/>
				<param name="pck_qty" type="6" value="" out="N"/>
				<param name="pck_tp_cd" type="12" value="" out="N"/>
				<param name="clod_flg" type="12" value="" out="N"/>
				<param name="spcl_stwg_rqst_desc" type="12" value="" out="N"/>
				<param name="cgo_lcl_flg" type="12" value="" out="N"/>
				<param name="emer_rspn_gid_no" type="12" value="" out="N"/>
				<param name="emer_rspn_gid_chr_no" type="12" value="" out="N"/>
				<param name="emer_cntc_phn_no" type="12" value="" out="N"/>
				<param name="emer_cntc_pson_nm" type="12" value="" out="N"/>
				<param name="emer_temp_ctnt" type="12" value="" out="N"/>
				<param name="ctrl_temp_ctnt" type="12" value="" out="N"/>
				<param name="ems_no" type="12" value="" out="N"/>
				<param name="cmdt_desc" type="12" value="" out="N"/>
				<param name="ttl_dim_len" type="6" value="" out="N"/>
				<param name="ttl_dim_wdt" type="6" value="" out="N"/>
				<param name="ttl_dim_hgt" type="6" value="" out="N"/>
				<param name="fwrd_ovr_dim_len" type="6" value="" out="N"/>
				<param name="bkwd_ovr_dim_len" type="6" value="" out="N"/>
				<param name="hgt_ovr_dim_len" type="6" value="" out="N"/>
				<param name="lf_sd_ovr_dim_len" type="6" value="" out="N"/>
				<param name="rt_sd_ovr_dim_len" type="6" value="" out="N"/>
				<param name="void_slt_qty" type="6" value="" out="N"/>
				<param name="net_wgt" type="6" value="" out="N"/>
				<param name="grs_wgt" type="6" value="" out="N"/>
				<param name="wgt_ut_cd" type="12" value="" out="N"/>
				<param name="psa_no" type="12" value="" out="N"/>
				<param name="certi_no" type="12" value="" out="N"/>
				<param name="in_n1st_imdg_pck_qty" type="6" value="" out="N"/>
				<param name="in_n1st_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="in_n2nd_imdg_pck_qty" type="6" value="" out="N"/>
				<param name="in_n2nd_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="intmd_n1st_imdg_pck_qty" type="12" value="" out="N"/>
				<param name="intmd_n1st_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="intmd_n2nd_imdg_pck_qty" type="12" value="" out="N"/>
				<param name="intmd_n2nd_imdg_pck_cd" type="12" value="" out="N"/>
				<param name="spcl_cgo_cate_cd" type="12" value="" out="N"/>
				<param name="cntr_ref_no" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="auth_ofc_cd" type="12" value="" out="N"/>
				<param name="auth_usr_id" type="12" value="" out="N"/>
				<param name="cgo_opr_cd" type="12" value="" out="N"/>
				<param name="dcgo_ref_no" type="12" value="" out="N"/>
				<param name="imdg_amdt_no" type="12" value="" out="N"/>
				<param name="cfr_flg" type="12" value="" out="N"/>
				<param name="rsd_flg" type="12" value="" out="N"/>
				<param name="imdg_segr_grp_no" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="dcgo_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
