<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PartnerLinesDangerousCargoApprovalDBDAOScgPrnrAproBkgRefNoRSQL">
			<desc><![CDATA[BkgRefNo.의 중복체크]]></desc>
			<sql><![CDATA[
SELECT 	COUNT(1) 
FROM 	SCG_PRNR_APRO_RQST_CGO 	CGO
	, 	SCG_PRNR_APRO_RQST 		RQS
WHERE 	CGO.CRR_CD 				= RQS.CRR_CD 
AND 	CGO.BKG_REF_NO 			= RQS.BKG_REF_NO
AND 	CGO.SPCL_CGO_RQST_SEQ 	= RQS.SPCL_CGO_RQST_SEQ
AND 	CGO.PRNR_CGO_RQST_SEQ 	= RQS.PRNR_CGO_RQST_SEQ
AND		RQS.CRR_CD				= COM_ConstantMgr_PKG.COM_getCompanyCode_FNC()
AND 	CGO.BKG_REF_NO        	= @[bkg_ref_no]
AND 	CGO.CGO_OPR_CD 			= @[cgo_opr_cd]
AND 	CGO.SPCL_CGO_CATE_CD 	= @[spcl_cgo_cate_cd]
AND		RQS.VSL_CD				= @[vsl_cd]
AND		RQS.SKD_VOY_NO			= @[skd_voy_no]
AND		RQS.SKD_DIR_CD			= @[skd_dir_cd]

--AND 	(RQS.POL_CD 			= SUBSTR([pol_cd],1,5)
--		 OR
--		 RQS.POD_CD 			= SUBSTR([pod_cd],1,5)
--		)			]]></sql>
			<params>
				<param name="bkg_ref_no" type="12" value="" out="N"/>
				<param name="cgo_opr_cd" type="12" value="" out="N"/>
				<param name="spcl_cgo_cate_cd" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
