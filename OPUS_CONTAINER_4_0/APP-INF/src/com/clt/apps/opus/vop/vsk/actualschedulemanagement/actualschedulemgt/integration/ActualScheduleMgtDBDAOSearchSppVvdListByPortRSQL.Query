<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ActualScheduleMgtDBDAOSearchSppVvdListByPortRSQL">
			<desc><![CDATA[SearchSppVvdListByPort]]></desc>
			<sql><![CDATA[
SELECT  A.VSL_CD, A.SKD_VOY_NO, A.SKD_DIR_CD, CLPT_IND_SEQ, C.VSL_ENG_NM
    FROM    VSK_VSL_PORT_SKD A, VSK_VSL_SKD B, MDM_VSL_CNTR C, MDM_VSL_SVC_LANE D
    WHERE   A.VSL_CD        = B.VSL_CD
    AND     A.SKD_VOY_NO    = B.SKD_VOY_NO
    AND     A.SKD_DIR_CD    = B.SKD_DIR_CD
    AND     B.VSL_CD        = C.VSL_CD
    AND     B.SKD_STS_CD    = 'ACT'
    AND     A.VPS_PORT_CD    = @[vps_port_cd]
    AND     NVL(A.TURN_PORT_IND_CD, ' ') NOT IN ('D', 'V', 'F')
    AND     'S'             <> NVL(A.SKD_CNG_STS_CD, 'N')
    AND     B.VSL_SLAN_CD   = D.VSL_SLAN_CD
    AND     D.VSL_TP_CD     = 'C' /* 컨테이너선 */
    AND     DECODE(@[vsl_svc_tp_cd], NULL, 'ALL', 'A', 'A', DECODE(NVL(D.VSL_SVC_TP_CD, 'N'), 'O', 'O', 'T')) =
            DECODE(@[vsl_svc_tp_cd], NULL, 'ALL', 'A', 'A', 'F', 'O', 'T')
    AND     A.VPS_ETA_DT    BETWEEN SYSDATE - 7
                            AND     SYSDATE + 7
    ORDER BY 1, 2, 3			]]></sql>
			<params>
				<param name="vps_port_cd" type="12" value="" out="N"/>
				<param name="vsl_svc_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
