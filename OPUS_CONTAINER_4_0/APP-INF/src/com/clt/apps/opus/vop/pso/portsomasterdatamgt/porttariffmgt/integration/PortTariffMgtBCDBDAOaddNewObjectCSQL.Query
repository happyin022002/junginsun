<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PortTariffMgtBCDBDAOaddNewObjectCSQL">
			<desc><![CDATA[새로운 object를 추가한다]]></desc>
			<sql><![CDATA[
MERGE
  INTO PSO_OBJ_LIST t1 USING DUAL ON (t1.OBJ_LIST_NO = @[obj_list_no])
       WHEN MATCHED THEN
            UPDATE
               SET OBJ_LIST_NM = @[obj_list_nm]
                 , PSO_OBJ_LIST_TP_CD = @[pso_obj_list_tp_cd]
                 , PSO_OBJ_CD = @[pso_obj_cd]
                 , PSO_MEAS_UT_CD = @[pso_meas_ut_cd]
                 , OBJ_LIST_ABBR_NM = @[obj_list_abbr_nm]
                 , DFLT_CTNT = @[dflt_ctnt]
                 , DIFF_RMK = @[diff_rmk]
                 , UPD_USR_ID = @[cre_usr_id]
                 , UPD_DT = SYSDATE
             WHERE OBJ_LIST_NO = @[obj_list_no]
       WHEN NOT MATCHED THEN
            INSERT ( OBJ_LIST_NO 
                   , OBJ_LIST_NM 
                   , PSO_OBJ_LIST_TP_CD 
                   , PSO_OBJ_CD 
                   , PSO_MEAS_UT_CD 
                   , OBJ_LIST_ABBR_NM 
                   , DFLT_CTNT 
                   , DIFF_RMK 
                   , CRE_USR_ID 
                   , CRE_DT 
                   , UPD_USR_ID 
                   , UPD_DT ) VALUES ( 
                     @[obj_list_no]
                   , @[obj_list_nm]
                   , @[pso_obj_list_tp_cd]
                   , (SELECT NVL(MAX(TO_NUMBER(PSO_OBJ_CD)),0) + 1 FROM PSO_OBJ_LIST )
                   , @[pso_meas_ut_cd]
                   , @[obj_list_abbr_nm]
                   , @[dflt_ctnt]
                   , @[diff_rmk]
                   , @[cre_usr_id]
                   , SYSDATE
                   , @[cre_usr_id]
                   , SYSDATE )			]]></sql>
			<params>
				<param name="obj_list_no" type="12" value="" out="N"/>
				<param name="obj_list_nm" type="12" value="" out="N"/>
				<param name="pso_obj_list_tp_cd" type="12" value="" out="N"/>
				<param name="pso_obj_cd" type="12" value="" out="N"/>
				<param name="pso_meas_ut_cd" type="12" value="" out="N"/>
				<param name="obj_list_abbr_nm" type="12" value="" out="N"/>
				<param name="dflt_ctnt" type="12" value="" out="N"/>
				<param name="diff_rmk" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
