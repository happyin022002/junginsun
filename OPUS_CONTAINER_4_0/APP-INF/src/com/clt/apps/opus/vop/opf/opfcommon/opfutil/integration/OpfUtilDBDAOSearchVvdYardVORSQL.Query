<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OpfUtilDBDAOSearchVvdYardVORSQL">
			<desc><![CDATA[Search VvdYard]]></desc>
			<sql><![CDATA[
SELECT A.YD_CD AS VAL,
       A.YD_CD || '|' || B.YD_NM || '|' || 
           CASE WHEN A.SKD_CNG_STS_CD = 'S' THEN 'SKIP'
                WHEN C.LOC_CD  = 'EGSCA' THEN 'CANAL'
                WHEN C.LOC_CD  = 'PAPCA' THEN 'CANAL'
           END  AS NAME,
       A.CLPT_IND_SEQ,
       C.LOC_CD
  FROM VSK_VSL_PORT_SKD A,
       MDM_YARD B,
       MDM_LOCATION C
 WHERE A.VSL_CD = @[vsl_cd]
   AND A.SKD_VOY_NO = @[skd_voy_no]
   AND A.SKD_DIR_CD = @[skd_dir_cd]
   AND A.TURN_PORT_IND_CD NOT IN ('D',  'V')
   AND DECODE(A.TURN_PORT_IND_CD, 'F', DECODE(A.TURN_SKD_VOY_NO, 'N', 'N', 'F'), 'N') <> 'F'
   AND A.VT_ADD_CALL_FLG IS NULL
   AND A.YD_CD = B.YD_CD(+)
   AND A.VPS_PORT_CD = C.LOC_CD(+)
 ORDER BY CLPT_SEQ 			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
