<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TerminalInformationMgtDBDAOVskPortGntrCrnVORSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT
	a.yd_cd
,	b.yd_nm
,	a.grs_max_wgt
,	a.net_max_wgt
,	a.clr_btwn_leg_wdt
,	a.crn_rch_row_knt
,	a.cntr_tr_knt
,	a.ttl_gntr_crn_qty
,	a.vsl_gntr_crn_max_qty
,	a.gntr_rmk
,	a.cre_usr_id
,	a.upd_usr_id
,	to_char(a.UPD_DT, 'YYYY-MM-DD HH24:MI') as UPD_DT
FROM vsk_port_gntr_crn	a,
     mdm_yard b,
	(
                    
              SELECT    MX.LOC_CD
                     ,  (
                        SELECT    MAX(DECODE(MO.OFC_TP_CD, 'HQ', MO.OFC_CD))--  AS VAL    
                            FROM    MDM_ORGANIZATION MO
                            CONNECT BY   NOCYCLE PRIOR MO.PRNT_OFC_CD  = MO.OFC_CD
                            START WITH   MO.OFC_CD             = MX.SLS_OFC_CD
                        ) AS POR_RHQ
            FROM      MDM_LOCATION       MX 
          WHERE      MX.CALL_PORT_FLG    = 'Y'
          AND        MX.DELT_FLG       = 'N'

	)c
WHERE a.yd_cd = b.yd_cd
AND  b.loc_cd = c.loc_cd
#if (${loc_cd} != '') 
AND	b.loc_cd = @[loc_cd]
#end
#if (${por_rhq} != '%') 
AND	c.por_rhq = @[por_rhq]
#end
ORDER BY a.yd_cd			]]></sql>
			<params>
				<param name="loc_cd" type="12" value="" out="N"/>
				<param name="por_rhq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
