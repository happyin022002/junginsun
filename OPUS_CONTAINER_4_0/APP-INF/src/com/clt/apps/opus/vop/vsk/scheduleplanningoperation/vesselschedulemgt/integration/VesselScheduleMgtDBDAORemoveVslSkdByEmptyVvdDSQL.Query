<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselScheduleMgtDBDAORemoveVslSkdByEmptyVvdDSQL">
			<desc><![CDATA[Virtual Port로만 구성된 Port SKD 삭제이후 Empty VVD 삭제처리]]></desc>
			<sql><![CDATA[
DELETE    FROM   VSK_VSL_SKD X
WHERE            (X.VSL_CD,X.SKD_VOY_NO,X.SKD_DIR_CD)
                 IN
                 (
                 --------------------------------------------------
                  SELECT    VS.VSL_CD,VS.SKD_VOY_NO,VS.SKD_DIR_CD
                  FROM      VSK_VSL_SKD   VS
                  WHERE     NOT EXISTS    (SELECT   ''    
                                           FROM     VSK_VSL_PORT_SKD  PS
                                           WHERE    PS.VSL_CD         = VS.VSL_CD
                                           AND      PS.SKD_VOY_NO     = VS.SKD_VOY_NO
                                           AND      PS.SKD_DIR_CD     = VS.SKD_DIR_CD
                                           )
                  AND       VS.VSL_CD      = @[vsl_cd]
                  AND       VS.SKD_VOY_NO  = @[turn_skd_voy_no]
                  AND       VS.SKD_DIR_CD  = @[turn_skd_dir_cd]
                 --------------------------------------------------
                 )			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="turn_skd_voy_no" type="12" value="" out="N"/>
				<param name="turn_skd_dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
