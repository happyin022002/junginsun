<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PortRestrictionDBDAOSearchDgSummaryByPortClssRSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT    CASE WHEN A.IMDG_CLSS_CD IS NOT NULL THEN 'âˆš' END restric_regyn,
           AA.IMDG_CLSS_CD, AA.IMDG_CLSS_CD_DESC, 
           @[port_cd] PORT_CD,
           CASE WHEN A.PROHI_LOD_FLG    = 'N' THEN '' ELSE A.PROHI_LOD_FLG END PROHI_LOD_FLG,
           CASE WHEN A.PROHI_DCHG_FLG   = 'N' THEN '' ELSE A.PROHI_DCHG_FLG END PROHI_DCHG_FLG,           
           CASE WHEN A.PROHI_TS_FLG     = 'N' THEN '' ELSE A.PROHI_TS_FLG END PROHI_TS_FLG,
           CASE WHEN A.PROHI_PASS_FLG = 'N' THEN '' ELSE A.PROHI_PASS_FLG END PROHI_PASS_FLG,
           CASE WHEN A.PROHI_DY_TM_OP_FLG = 'N' THEN '' ELSE A.PROHI_DY_TM_OP_FLG END PROHI_DY_TM_OP_FLG,           
           CASE WHEN A.PROHI_DY_TM_INLND_TZ_FLG = 'N' THEN '' ELSE A.PROHI_DY_TM_INLND_TZ_FLG END PROHI_DY_TM_INLND_TZ_FLG,           
           CASE WHEN A.PROHI_PORT_FLG = 'N' THEN '' ELSE A.PROHI_PORT_FLG END PROHI_PORT_FLG,           
           CASE WHEN A.PROHI_NGT_FLG = 'N' THEN '' ELSE A.PROHI_NGT_FLG END PROHI_NGT_FLG
           ,(SELECT 'Y' FROM SCG_IMDG_PORT_RSTR  S1 
              WHERE S1.PORT_CD = A.PORT_CD AND S1.IMDG_CLSS_CD=A.IMDG_CLSS_CD  AND ROWNUM=1 AND S1.IMDG_UN_NO   IS NOT NULL
                AND INSTR(S1.PROHI_LOD_FLG||S1.PROHI_DCHG_FLG||S1.PROHI_TS_FLG||S1.PROHI_PASS_FLG||
                          S1.PROHI_DY_TM_OP_FLG||S1.PROHI_DY_TM_INLND_TZ_FLG||S1.PROHI_PORT_FLG||S1.PROHI_NGT_FLG, 'Y') > 0
             ) UNNO_EXIST_YN          
   FROM    (    
        SELECT    A.*
          FROM    SCG_IMDG_CLSS_CD A
         WHERE    A.DELT_FLG = 'N'
         ORDER BY A.IMDG_CLSS_CD
          ) AA, SCG_IMDG_PORT_RSTR A 
  WHERE
    
#if (${imdg_clss_cd} == '') 
           AA.IMDG_CLSS_CD   = A.IMDG_CLSS_CD(+)
    AND    A.PORT_CD(+)      =  @[port_cd]
    AND    A.IMDG_UN_NO(+)   IS  NULL
#else 
           AA.IMDG_CLSS_CD   = A.IMDG_CLSS_CD
    AND    A.PORT_CD      =  @[port_cd]
    AND    A.IMDG_UN_NO   IS  NULL
    AND    A.IMDG_CLSS_CD = @[imdg_clss_cd]
#end
ORDER BY AA.IMDG_CLSS_CD			]]></sql>
			<params>
				<param name="port_cd" type="12" value="KRPUS" out="N"/>
				<param name="imdg_clss_cd" type="12" value="1" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
