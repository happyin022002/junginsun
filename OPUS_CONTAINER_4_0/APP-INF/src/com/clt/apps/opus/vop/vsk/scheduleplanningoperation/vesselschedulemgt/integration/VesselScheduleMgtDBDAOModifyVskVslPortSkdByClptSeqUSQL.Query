<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselScheduleMgtDBDAOModifyVskVslPortSkdByClptSeqUSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
UPDATE  VSK_VSL_PORT_SKD 	XX
SET 	XX.CLPT_SEQ 			= 	(
                				SELECT 	T2.RNUM
                				FROM 	(
                        				SELECT 		T1.RID
												, 	ROWNUM 		AS RNUM
                        				FROM 		(
                                					SELECT 		ROWID 				AS RID 
													FROM 		VSK_VSL_PORT_SKD	PS
                                					WHERE 		PS.VSL_CD 			= @[vsl_cd]
                                					AND 		PS.SKD_VOY_NO 		= @[skd_voy_no]
                                					AND 		PS.SKD_DIR_CD 		= @[skd_dir_cd]
													--AND			PS.VT_ADD_CALL_FLG	IS NULL
                                					ORDER BY 	PS.CLPT_SEQ
                             						) T1
                     					) T2
                 				WHERE 	T2.RID 		= XX.ROWID
                				)
WHERE 	XX.VSL_CD 			= @[vsl_cd]
AND 	XX.SKD_VOY_NO 		= @[skd_voy_no]
AND 	XX.SKD_DIR_CD 		= @[skd_dir_cd]

AND		XX.VT_ADD_CALL_FLG	IS NULL			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
