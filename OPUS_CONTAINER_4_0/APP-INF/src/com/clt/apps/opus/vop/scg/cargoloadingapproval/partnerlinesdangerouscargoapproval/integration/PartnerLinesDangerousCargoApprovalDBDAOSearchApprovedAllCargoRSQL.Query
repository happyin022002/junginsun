<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PartnerLinesDangerousCargoApprovalDBDAOSearchApprovedAllCargoRSQL">
			<desc><![CDATA[All of the Cargo are approved or not]]></desc>
			<sql><![CDATA[
SELECT 
DECODE(COUNT(A.BKG_REF_NO),  (
								SELECT COUNT(B.BKG_REF_NO) FROM 
								SCG_PRNR_APRO_RQST_CGO B
								WHERE B.BKG_REF_NO = A.BKG_REF_NO 
                                AND   B.SPCL_CGO_RQST_SEQ = A.SPCL_CGO_RQST_SEQ
                                AND   B.PRNR_CGO_RQST_SEQ = A.PRNR_CGO_RQST_SEQ
								--AND   B.AUTH_STS_CD ='Y'
								AND   B.SPCL_CGO_CATE_CD = 'DG'
                              	), 'O', 'X'	                
		        				) AS ALL_APRO_STS_CD
					FROM SCG_PRNR_APRO_RQST_CGO A
                    WHERE CRR_CD = COM_ConstantMgr_PKG.COM_getCompanyCode_FNC()
                    AND	A.BKG_REF_NO = @[bkg_ref_no]
                    AND	A.SPCL_CGO_RQST_SEQ = @[spcl_cgo_rqst_seq]
                    --AND	A.SPCL_CNTR_SEQ = [spcl_cntr_seq]
                    --AND	A.SPCL_CGO_SEQ = [spcl_cgo_seq]
                    AND	A.PRNR_CGO_RQST_SEQ = @[prnr_cgo_rqst_seq]
					AND A.AUTH_STS_CD = 'Y'
					GROUP BY A.BKG_REF_NO, A.SPCL_CGO_RQST_SEQ, A.PRNR_CGO_RQST_SEQ			]]></sql>
			<params>
				<param name="bkg_ref_no" type="12" value="" out="N"/>
				<param name="spcl_cgo_rqst_seq" type="12" value="" out="N"/>
				<param name="prnr_cgo_rqst_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
