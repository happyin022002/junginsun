<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ReceiveQueueMdmCustAddrDBDDAOModifyBkgCustCdValAddrUSQL">
			<desc><![CDATA[Modify BkgCust Address]]></desc>
			<sql><![CDATA[
UPDATE BKG_CUST_CD_VAL                                                          
SET  VAL_CUST_ADDR = NVL((
							SELECT /*+ INDEX_DESC(ADDR XPKMDM_CUST_ADDR) */
                                       ADDR.BZET_ADDR
                                  FROM MDM_CUST_ADDR ADDR 
                                 WHERE ADDR.PRMRY_CHK_FLG = 'Y'
                                   AND ADDR.DELT_FLG = 'N'
                                   AND ADDR.CUST_CNT_CD = @[cust_cnt_cd] 
                                   AND ADDR.CUST_SEQ = @[cust_seq]
                                   AND ADDR.ADDR_TP_CD ='1'
                                   AND ROWNUM = 1 
					), VAL_CUST_ADDR ),
     UPD_USR_ID  = NVL(@[upd_usr_id], 'MDMCUST'),
 	 UPD_DT      = SYSDATE
WHERE CUST_CNT_CD = @[cust_cnt_cd]
AND   CUST_SEQ    = @[cust_seq]
			]]></sql>
			<params>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
