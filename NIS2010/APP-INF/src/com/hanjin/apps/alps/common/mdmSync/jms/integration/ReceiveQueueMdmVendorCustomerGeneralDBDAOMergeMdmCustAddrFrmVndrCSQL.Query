<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ReceiveQueueMdmVendorCustomerGeneralDBDAOMergeMdmCustAddrFrmVndrCSQL">
			<desc><![CDATA[vendor 입력시 mdm_cust_addr 정보를 insert / update 한다.]]></desc>
			<sql><![CDATA[
MERGE INTO mdm_cust_addr a										
 USING ( select @[cust_cnt_cd] cust_cnt_cd, @[cust_seq] cust_seq from dual ) b           
 ON (a.cust_cnt_cd = b.cust_cnt_cd and a.cust_seq = b.cust_seq )  
 WHEN MATCHED THEN                                                
 update                                                           
 set                                                              
 	PRMRY_CHK_FLG  = 'Y',                                           
 	upd_usr_id  = @[upd_usr_id],                                                
 	upd_dt      = to_date(@[upd_dt],'yyyymmddhh24miss'),                    
 	eai_evnt_dt = to_date(@[eai_evnt_dt],'yyyymmddhh24miss'),
	bzet_addr   = @[bzet_addr],                    
 	locl_addr1  = HJSEAI_PKG.h_decode(@[locl_addr1],'UTF8','UTF8'),             
 	locl_addr2  = HJSEAI_PKG.h_decode(@[locl_addr2],'UTF8','UTF8'),
 	locl_addr3  = HJSEAI_PKG.h_decode(@[locl_addr3],'UTF8','UTF8'),
 	locl_addr4  = HJSEAI_PKG.h_decode(@[locl_addr4],'UTF8','UTF8'),
    eai_if_id   = @[eai_if_id]
      
 WHEN NOT MATCHED THEN                                            
 insert                                                           
 (                                                                
 	cust_cnt_cd,                                                    
 	cust_seq,                                                       
 	addr_tp_cd,                                                     
 	addr_seq,                                                       
 	PRMRY_CHK_FLG,                                                  
 	bzet_nm,
	bzet_addr,
 	cre_usr_id,                                                     
 	cre_dt,                                                         
 	upd_usr_id,                                                     
 	upd_dt,                                                         
 	delt_flg,                                                       
 	eai_evnt_dt,                                                    
 	locl_addr1,                                                     
 	locl_addr2,                                                     
 	locl_addr3,                                                     
 	locl_addr4,
    eai_if_id                                                      
 )                                                                
 values                                                           
 (                                                                
 	@[cust_cnt_cd],                                              				
 	@[cust_seq],                                              				
 	'1',                                              				
 	@[cust_seq],                                                				
 	'Y',                                                				
 	HJSEAI_PKG.h_decode(@[bzet_nm],'UTF8','UTF8'),
 	@[bzet_addr],                  		
 	@[cre_usr_id],                                                     			
 	to_date(@[cre_dt],'yyyymmddhh24miss'),                                  
 	@[upd_usr_id],                                                     			
 	to_date(@[upd_dt],'yyyymmddhh24miss'), 					           		
 	'N',                                                            
 	to_date(@[eai_evnt_dt],'yyyymmddhh24miss'),                         			
 	HJSEAI_PKG.h_decode(@[locl_addr1],'UTF8','UTF8'),
	HJSEAI_PKG.h_decode(@[locl_addr2],'UTF8','UTF8'),                           
	HJSEAI_PKG.h_decode(@[locl_addr3],'UTF8','UTF8'),                           
	HJSEAI_PKG.h_decode(@[locl_addr4],'UTF8','UTF8'),
    @[eai_if_id]                            
 )			]]></sql>
			<params>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="upd_dt" type="12" value="" out="N"/>
				<param name="eai_evnt_dt" type="12" value="" out="N"/>
				<param name="bzet_addr" type="12" value="" out="N"/>
				<param name="locl_addr1" type="12" value="" out="N"/>
				<param name="locl_addr2" type="12" value="" out="N"/>
				<param name="locl_addr3" type="12" value="" out="N"/>
				<param name="locl_addr4" type="12" value="" out="N"/>
				<param name="eai_if_id" type="12" value="" out="N"/>
				<param name="bzet_nm" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="cre_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
