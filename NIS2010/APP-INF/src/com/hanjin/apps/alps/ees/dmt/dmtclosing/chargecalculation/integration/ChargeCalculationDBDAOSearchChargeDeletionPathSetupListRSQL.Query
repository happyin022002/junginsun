<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAOSearchChargeDeletionPathSetupListRSQL">
			<desc><![CDATA[ChargeCalculationDBDAOSearchChargeDeletionPathSetupListRSQL]]></desc>
			<sql><![CDATA[
SELECT  T1.CHG_DELT_PATH_STUP_SEQ
       ,TO_CHAR(T1.EFF_DT, 'YYYY-MM-DD')						AS EFF_DT
       ,TO_CHAR(T1.EXP_DT, 'YYYY-MM-DD')						AS EXP_DT
       ,T1.CHG_DELT_RHQ_CD
       ,(
			SELECT  WM_CONCAT(CHG_DELT_OFC_CD)
              FROM  DMT_CHG_DELT_OFC_STUP
             WHERE  CHG_DELT_PATH_STUP_SEQ = T1.CHG_DELT_PATH_STUP_SEQ
        )														AS CHG_DELT_OFC_CD 
	   ,DECODE(T1.DMDT_BRNC_OFC_OP_MGR_FLG, 'Y', '1', 'N', '0')	AS DMDT_BRNC_OFC_OP_MGR_FLG
       ,DECODE(T1.DMDT_BRNC_FLG,            'Y', '1', 'N', '0') AS DMDT_BRNC_FLG
       ,DECODE(T1.DMDT_RHQ_FLG,             'Y', '1', 'N', '0') AS DMDT_RHQ_FLG
       ,DECODE(T1.DMDT_HO_FLG,              'Y', '1', 'N', '0') AS DMDT_HO_FLG
       ,T1.CRE_USR_ID
       ,TO_CHAR(T1.CRE_DT, 'YYYY-MM-DD')						AS CRE_DT
       ,T1.CRE_OFC_CD
       ,T1.UPD_USR_ID
       ,TO_CHAR(T1.UPD_DT, 'YYYY-MM-DD')						AS UPD_DT
       ,T1.UPD_OFC_CD

  FROM  DMT_CHG_DELT_PATH_STUP  T1
 WHERE  EXISTS
		(
			SELECT  1
              FROM  DMT_CHG_DELT_OFC_STUP
             WHERE  CHG_DELT_PATH_STUP_SEQ = T1.CHG_DELT_PATH_STUP_SEQ
               AND  CHG_DELT_OFC_CD IN
					(
						#foreach( $chg_delt_ofc_cd in ${chg_delt_ofc_cd_list} )
							#if($velocityCount < $chg_delt_ofc_cd_list.size()) '$chg_delt_ofc_cd', #else '$chg_delt_ofc_cd' #end
						#end	
					)
		)
#if (${crnt_flg} == 'Y')
   AND  (
		--// 현재 데이터
		(T1.EFF_DT <= SYSDATE AND (T1.EXP_DT is null or T1.EXP_DT >= SYSDATE))
	#if (${tobe_flg} == 'Y')
		--// 미래 데이터
		or (T1.EFF_DT > to_date(TO_CHAR(SYSDATE, 'YYYYMMDD'), 'YYYYMMDD') + 0.99999 AND (T1.EXP_DT is null or T1.EXP_DT >= to_date(TO_CHAR(SYSDATE, 'YYYYMMDD'), 'YYYYMMDD')))
		
		#if (${exp_flg} == 'Y')
		--// 종료 데이터
		or (T1.EXP_DT <= SYSDATE)
		#end
	#else
		#if (${exp_flg} == 'Y')
		or (T1.EXP_DT <= SYSDATE)
		#end
	#end
		)
#else
   AND  (
	#if (${tobe_flg} == 'Y')
		--// 미래 데이터
		(T1.EFF_DT > to_date(TO_CHAR(SYSDATE, 'YYYYMMDD'), 'YYYYMMDD') + 0.99999 AND (T1.EXP_DT is null or T1.EXP_DT >= to_date(TO_CHAR(SYSDATE, 'YYYYMMDD'), 'YYYYMMDD')))
		#if (${exp_flg} == 'Y')
		--// 종료 데이터
		or (T1.EXP_DT <= SYSDATE)
		#end
	#else
		--// 종료 데이터
		(T1.EXP_DT <= SYSDATE)
	#end
		)
#end			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
