<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ScenarioDefaultManageDBDAOSearchEmptyRepoConstraintInfoRSQL">
			<desc><![CDATA[UI ID : EES_EQR_0124
Title : Cabotage & HJS Rule
Change History---------------------------------------------
CSR No             Modifier     Modified Date   Comments
R200806257580    장유정       2008.06-27        컨테이너의 종류를 화면에서 받아옵니다.]]></desc>
			<sql><![CDATA[
SELECT	 MAX(REPO_CNST_SEQ) AS REPO_CNST_SEQ
		,MAX(CNST_RULE_ID) AS CNST_RULE_ID
		,MAX(REPO_CNST_TP_CD) AS REPO_CNST_TP_CD
		,CASE WHEN MAX(RULE_EXPT_FLG) = 'Y' THEN 'EXCEPTION'  ELSE MAX(CNST_RULE_ID) END AS CNST_RULE_ID_2
		,MAX(REPO_CNST_DIR_CD) AS REPO_CNST_DIR_CD
		,CASE WHEN MAX(FM_LOC_GRP_CD) = 'N' THEN ''  ELSE MAX(FM_LOC_GRP_CD) END AS FM_LOC_GRP_CD
		,CASE WHEN MAX(FM_LOC_CD) = 'N/A' THEN ''  ELSE MAX(FM_LOC_CD) END AS FM_LOC_CD
		,CASE WHEN MAX(TO_LOC_GRP_CD) = 'N' THEN ''  ELSE MAX(TO_LOC_GRP_CD) END AS TO_LOC_GRP_CD
		,CASE WHEN MAX(TO_LOC_CD) = 'N/A' THEN ''  ELSE MAX(TO_LOC_CD) END AS TO_LOC_CD
		,CASE WHEN MAX(RULE_EXPT_FLG) = 'Y' THEN '1'  ELSE '0' END AS RULE_EXPT_FLG
		,MAX(EQ_TRSP_MOD_CD) AS EQ_TRSP_MOD_CD
		,'' AS CNST_CNTR_TPSZ_CD_ALL
		,MAX(UPD_USR_ID) AS UPD_USR_ID
		,MAX(TO_CHAR(UPD_DT, 'YYYYMMDD')) AS UPD_DT
	#foreach( $key in ${arrtpsz})
		,MAX(NVL(DECODE(CNST_CNTR_TPSZ_CD,'$key','1'),'0')) CNST_CNTR_TPSZ_CD${key}
	#end
FROM	(
		SELECT	REPO_CNST_SEQ
				,REPO_CNST_TP_CD
				,CNST_RULE_ID
				,REPO_CNST_DIR_CD
				,FM_LOC_GRP_CD
				,FM_LOC_CD
				,TO_LOC_GRP_CD
				,TO_LOC_CD
				,RULE_EXPT_FLG
				,EQ_TRSP_MOD_CD
				,CNST_CNTR_TPSZ_CD
				,UPD_USR_ID
				,UPD_DT
		FROM	EQR_REPO_CNST
		ORDER BY REPO_CNST_TP_CD
				,CNST_RULE_ID
				,RULE_EXPT_FLG
				,REPO_CNST_SEQ
		)

	#if (${cnsttype} != '') 
WHERE	REPO_CNST_TP_CD = '$cnsttype'
	#end
GROUP BY REPO_CNST_TP_CD
		,CNST_RULE_ID
		,RULE_EXPT_FLG
		,REPO_CNST_SEQ
ORDER BY REPO_CNST_TP_CD
		,CNST_RULE_ID
		,RULE_EXPT_FLG
		,REPO_CNST_SEQ			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
