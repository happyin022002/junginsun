<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerOnOffhireDBDAOsearchCntrReeferUnitInfoListRSQL">
			<desc><![CDATA[Reefer Unit Info Retrieve Query]]></desc>
			<sql><![CDATA[
SELECT 
        A.CNTR_NO
        ,A.CNTR_TPSZ_CD
        ,A.LSTM_CD
        ,TO_CHAR(A.ONH_DT, 'YYYY-MM-DD') ONH_DT
        ,AGMT_CTY_CD||TO_CHAR(AGMT_SEQ,'000000') AS AGMT_NO
        ,A.VNDR_SEQ
        ,DECODE(A.RF_MKR_SEQ, 0, '', A.RF_MKR_SEQ)AS RF_MKR_SEQ
        ,NVL(B.VNDR_ABBR_NM, B.VNDR_LGL_ENG_NM) AS  RF_MKR_NM
        ,A.RF_MDL_NM
        ,A.RF_RFR_NO
        ,A.MIN_TEMP
        ,A.MAX_TEMP        
        ,'' AS AEFlG
        ,'' AS BEFlG
        ,'' AS CEFlG
        ,'' AS DEFlG
        ,'' AS EEFlG
    FROM 
        MST_CONTAINER A, 
        MDM_VENDOR B
    WHERE  A.RF_MKR_SEQ  = B.VNDR_SEQ(+)
 	AND A.VNDR_SEQ = @[vndr_seq]
 #if (${lstm_cd} != '' && ${lstm_cd} != 'ALL')
    AND   A.LSTM_CD  IN ( #foreach($key IN ${arr_lstm_cd})
                                     #if($velocityCount < $arr_lstm_cd.size())
                                        '$key',
                                     #else
                                        '$key'
                                     #end
                                #end )
 #else
    AND A.LSTM_CD IN ('ST', 'LT')
 #end 
  #if (${agmt_cty_cd} != '' && ${agmt_seq} != '')
    AND A.AGMT_CTY_CD = @[agmt_cty_cd]
    AND A.AGMT_SEQ    = @[agmt_seq]			
 #end
 #if (${sts_flg} != '')
    AND A.ACIAC_DIV_CD = @[sts_flg]
 #end 
 #if (${mi_flg} == 'Y')
    AND NVL(A.RF_MKR_SEQ, 0) <> 0
 #elseif(${mi_flg} == 'N')
    AND NVL(A.RF_MKR_SEQ, 0) = 0
 #end  
 #if (${cntr_tpsz_cd} != '' && ${cntr_tpsz_cd} != 'ALL')
    AND   A.CNTR_TPSZ_CD  IN ( #foreach($key IN ${arr_cntr_tpsz_cd})
                                     #if($velocityCount < $arr_cntr_tpsz_cd.size())
                                        '$key',
                                     #else
                                        '$key'
                                     #end
                                #end )
 #else
    AND A.CNTR_TPSZ_CD LIKE 'R%'
 #end
 ORDER BY A.CNTR_NO


#if (${a} != '') 

#elseif (${a} != '') 

#else 

#end			]]></sql>
			<params>
				<param name="vndr_seq" type="12" value="1" out="N"/>
				<param name="agmt_cty_cd" type="12" value="HHO" out="N"/>
				<param name="agmt_seq" type="12" value="1" out="N"/>
				<param name="sts_flg" type="12" value="A" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
