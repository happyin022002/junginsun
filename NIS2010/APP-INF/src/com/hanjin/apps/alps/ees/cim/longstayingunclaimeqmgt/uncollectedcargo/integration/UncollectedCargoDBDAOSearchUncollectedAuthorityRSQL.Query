<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UncollectedCargoDBDAOSearchUncollectedAuthorityRSQL">
			<desc><![CDATA[Uncollected Creation 권한조회]]></desc>
			<sql><![CDATA[
SELECT CASE WHEN CNT = 0 THEN 0  -- 권한등록되지 않은 사용자
            WHEN CNT = 1 THEN CASE WHEN (SELECT COUNT(1) CNT FROM CIM_UC_CGO_AUTH WHERE UC_AUTH_USR_ID = AA.USR_ID AND UC_AUTH_OFC_CD ='SELCTY' ) = 1 THEN 2 ELSE 1 END  -- 권한등록된 사람 구분
       END AS ISAUTHORITY
    , (SELECT UC_AUTH_OFC_CD  FROM CIM_UC_CGO_AUTH WHERE UC_AUTH_USR_ID = AA.USR_ID group by UC_AUTH_OFC_CD ) AS UC_AUTH_OFC_CD
FROM   (
       SELECT COUNT(1) AS CNT
           , @[usr_id] AS USR_ID
       FROM CIM_UC_CGO_AUTH
       WHERE UC_AUTH_USR_ID = @[usr_id] 
       ) AA			]]></sql>
			<params>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
