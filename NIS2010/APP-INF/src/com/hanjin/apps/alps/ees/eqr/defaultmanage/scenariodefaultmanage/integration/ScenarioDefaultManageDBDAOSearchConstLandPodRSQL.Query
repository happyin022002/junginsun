<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ScenarioDefaultManageDBDAOSearchConstLandPodRSQL">
			<desc><![CDATA[UI ID : EES_EQR_0137
Title : Constraint by Lane/POD
Change History---------------------------------------------
CSR No             Modifier     Modified Date   Comments
N200802260006    채창호       2008-03-24        Lane/POD별 Discharging Bound 관리 기능 개발 건]]></desc>
			<sql><![CDATA[
SELECT	 VSL_LANE_CD AS LANE
		,VSL_LOC_CD	 AS POD
	#foreach( $key in ${arrtpsz}) 
		,MAX(DECODE(CNST_CNTR_TPSZ_CD, '$key',CNTR_VOL_QTY )) AS ${key}_QTY
	#end
FROM	(
		SELECT	 VSL_LANE_CD
				,VSL_LOC_CD
				,A.CNST_CNTR_TPSZ_CD
				,A.CNTR_VOL_QTY
				,ROW_NUMBER() OVER (PARTITION BY VSL_LANE_CD,VSL_LOC_CD ,CNST_CNTR_TPSZ_CD ORDER BY ROWNUM) RUMM
		FROM	EQR_PORT_DCHG_CNST A
				,(	SELECT	ECC_CD
					FROM	EQR_ECC_MST
					WHERE	1 = 1
			#if (${status} != '') 
					#if (${status} == 'R') 
						AND	RCC_CD IN (
					#end
					#if (${status} == 'L') 
						AND	LCC_CD IN (
					#end
					#if (${status} == 'E') 
						AND	ECC_CD IN (
					#end
					
					#foreach( $key in ${arrlocation}) 
						#if($velocityCount < $arrlocation.size()) 
							'$key', 
						#else 
							'$key' 
						#end 
					#end		
										)
			#end
										) C
		WHERE	A.VSL_LOC_CD	= C.ECC_CD
			#if ($arrlane.size() > 0) 
			AND	A.VSL_LANE_CD	IN (
				#foreach( $key in ${arrlane}) 
					#if($velocityCount < $arrlane.size()) 
						'$key', 
					#else 
						'$key' 
					#end 
				#end
						)
			#end
		)
GROUP BY	 VSL_LANE_CD
			,VSL_LOC_CD
ORDER BY	 VSL_LANE_CD
			,VSL_LOC_CD			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
