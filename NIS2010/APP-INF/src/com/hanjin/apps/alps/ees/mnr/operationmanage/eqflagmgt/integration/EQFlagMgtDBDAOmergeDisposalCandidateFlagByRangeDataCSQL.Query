<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="EQFlagMgtDBDAOmergeDisposalCandidateFlagByRangeDataCSQL">
			<desc><![CDATA[EQFlagMgtDBDAOmergeDisposalCandidateFlagByRangeDataCSQL]]></desc>
			<sql><![CDATA[
MERGE INTO MNR_EQ_RNG_STS
USING DUAL                                           
ON (LOT_EQ_PFX_CD = @[lot_eq_pfx_cd] AND                                           
FM_SER_NO = @[fm_ser_no] AND                                            
TO_SER_NO = @[to_ser_no] AND                                           
MNR_GRP_TP_CD = @[mnr_grp_tp_cd]                                   
)                                           
WHEN MATCHED THEN                                           
UPDATE                                           
SET MNR_DISP_SEL_FLG = DECODE(@[mnr_disp_sel_flg],'1','Y','N'),   
    MNR_DISP_SEL_FLG_DT = DECODE(@[mnr_disp_sel_flg],'1',SYSDATE,null),   
    UPD_USR_ID = @[cre_usr_id],                                           
    UPD_DT = SYSDATE                                           
WHERE LOT_EQ_PFX_CD = @[lot_eq_pfx_cd]                                           
AND FM_SER_NO = @[fm_ser_no]                                           
AND TO_SER_NO = @[to_ser_no]                                           
AND MNR_GRP_TP_CD = @[mnr_grp_tp_cd]                                           
WHEN NOT MATCHED THEN                                           
INSERT (                                           
LOT_EQ_PFX_CD                                           
,FM_SER_NO                                           
,TO_SER_NO                                           
,MNR_GRP_TP_CD                                           
,EQ_KND_CD                                           
,EQ_TPSZ_CD                                           
,EQ_MKR_NM                                           
,EQ_MDL_NM                                           
,MNR_DISP_SEL_FLG            
,MNR_DISP_SEL_FLG_DT                        
,FM_WARR_DT                                           
,TO_WARR_DT                                           
,WARR_RMK                                           
,MFT_YR                                           
,EQ_QTY                                           
,CRE_USR_ID                                           
,CRE_DT                                           
,UPD_USR_ID                                           
,UPD_DT                                           
) VALUES(                                           
@[lot_eq_pfx_cd]                                           
,@[fm_ser_no]                                           
,@[to_ser_no]                                           
,@[mnr_grp_tp_cd]                                           
,@[eq_knd_cd]                                           
,@[eq_tpsz_cd]                                           
,@[eq_mkr_nm]                                           
,@[eq_mdl_nm]                                           
,DECODE(@[mnr_disp_sel_flg],'1','Y','N')   
,DECODE(@[mnr_disp_sel_flg],'1',SYSDATE,null)   
,TO_DATE(@[fm_warr_dt], 'yyyy-mm-dd')                                           
,TO_DATE(@[to_warr_dt], 'yyyy-mm-dd')                                           
,@[warr_rmk]                                           
,@[mft_yr]                                           
,NVL(@[eq_qty],0)                                           
,@[cre_usr_id]                                           
,SYSDATE                                           
,@[upd_usr_id]                                           
,SYSDATE                                           
)			]]></sql>
			<params>
				<param name="lot_eq_pfx_cd" type="12" value="" out="N"/>
				<param name="fm_ser_no" type="12" value="" out="N"/>
				<param name="to_ser_no" type="12" value="" out="N"/>
				<param name="mnr_grp_tp_cd" type="12" value="" out="N"/>
				<param name="mnr_disp_sel_flg" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="eq_tpsz_cd" type="12" value="" out="N"/>
				<param name="eq_mkr_nm" type="12" value="" out="N"/>
				<param name="eq_mdl_nm" type="12" value="" out="N"/>
				<param name="fm_warr_dt" type="12" value="" out="N"/>
				<param name="to_warr_dt" type="12" value="" out="N"/>
				<param name="warr_rmk" type="12" value="" out="N"/>
				<param name="mft_yr" type="12" value="" out="N"/>
				<param name="eq_qty" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
