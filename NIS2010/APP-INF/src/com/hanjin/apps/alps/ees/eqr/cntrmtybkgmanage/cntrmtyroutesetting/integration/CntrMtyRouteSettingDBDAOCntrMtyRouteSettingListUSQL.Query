<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CntrMtyRouteSettingDBDAOCntrMtyRouteSettingListUSQL">
			<desc><![CDATA[CntrMtyRouteSettingDBDAOCntrMtyRouteSettingList]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_CTRL_ROUT_SET A
USING DUAL ON (A.LODG_DCHG_DIV_CD = @[lodg_dchg_div_cd]
               AND A.LOC_CD = @[loc_nm]
)
WHEN MATCHED
THEN UPDATE SET 
             A.MTY_BKG_DSABIL_FLG = @[mty_bkg_dsabil_flg]
            ,A.MTY_SPLIT_BKG_DSABIL_FLG = @[mty_split_bkg_dsabil_flg]
            ,A.UPD_DT = SYSDATE
            ,A.UPD_USR_ID = @[usr_id]             
     WHERE  1=1
       AND A.LODG_DCHG_DIV_CD = @[lodg_dchg_div_cd]
       AND A.LOC_CD = @[loc_nm]
WHEN NOT MATCHED
THEN INSERT (A.LODG_DCHG_DIV_CD
            ,A.LOC_CD
            ,A.RCC_CD
            ,A.MTY_BKG_DSABIL_FLG
            ,A.MTY_SPLIT_BKG_DSABIL_FLG
            ,A.UPD_DT
            ,A.UPD_USR_ID
            ,A.CRE_DT
            ,A.CRE_USR_ID
            )
     VALUES (@[lodg_dchg_div_cd]          
            ,@[loc_nm]
            ,(SELECT A.RCC_CD RCC
                FROM MDM_EQ_ORZ_CHT A, MDM_LOCATION B
               WHERE A.SCC_CD = B.SCC_CD
                AND B.LOC_CD = @[loc_nm])
            ,@[mty_bkg_dsabil_flg]
            ,@[mty_split_bkg_dsabil_flg]  
            ,SYSDATE        
            ,@[usr_id]                     
            ,SYSDATE              
            ,@[usr_id]                 
     )			]]></sql>
			<params>
				<param name="lodg_dchg_div_cd" type="12" value="" out="N"/>
				<param name="loc_nm" type="12" value="" out="N"/>
				<param name="mty_bkg_dsabil_flg" type="12" value="" out="N"/>
				<param name="mty_split_bkg_dsabil_flg" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
