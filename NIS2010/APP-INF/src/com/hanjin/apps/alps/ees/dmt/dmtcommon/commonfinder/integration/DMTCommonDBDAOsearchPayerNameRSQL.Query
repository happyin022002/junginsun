<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCommonDBDAOsearchPayerNameRSQL">
			<desc><![CDATA[PayerName을 조회한다.]]></desc>
			<sql><![CDATA[
#if (${s_cust_gubun} == '1')
SELECT	DELT_FLG, LPAD(VNDR_SEQ, 6, '0') AS CUST_CD, VNDR_LGL_ENG_NM AS CUST_NAME, LGS_FLG, '' NMD_CUST_FLG
FROM	MDM_VENDOR
WHERE	VNDR_SEQ      = (
                          CASE WHEN REGEXP_INSTR(@[s_cust_cd], '[[:alpha:]]', 1, 1) = 0 THEN
                             TO_NUMBER(@[s_cust_cd])
                          ELSE
                             -999999
                          END
                        ) -- 2013.03.27 (ALPS 통합 로그 Error) 숫자 컬럼에 문자 입력시 ORACLE Exception Error가 발생하지 않도록 처리함.
AND	    DELT_FLG     <> 'Y'
#elseif (${s_cust_gubun} == '2')
SELECT	DELT_FLG, CUST_CNT_CD||LPAD(CUST_SEQ, 6, '0') AS CUST_CD, CUST_LGL_ENG_NM AS CUST_NAME, '' LGS_FLG, NMD_CUST_FLG
FROM	MDM_CUSTOMER
WHERE	CUST_CNT_CD   = SUBSTR(@[s_cust_cd], 1, 2)
AND	    CUST_SEQ      = (
                          CASE WHEN REGEXP_INSTR(SUBSTR(@[s_cust_cd], 3, 6), '[[:alpha:]]', 1, 1) = 0 THEN
                             TO_NUMBER(SUBSTR(@[s_cust_cd], 3, 6) )
                          ELSE
                             -999999
                          END
                        ) -- 2013.03.27 (ALPS 통합 로그 Error) 숫자 컬럼에 문자 입력시 ORACLE Exception Error가 발생하지 않도록 처리함.
AND     DELT_FLG     <> 'Y'
#end			]]></sql>
			<params>
				<param name="s_cust_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
