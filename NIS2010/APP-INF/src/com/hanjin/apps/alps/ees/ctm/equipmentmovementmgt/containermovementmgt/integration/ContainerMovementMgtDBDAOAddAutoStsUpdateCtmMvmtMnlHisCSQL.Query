<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerMovementMgtDBDAOAddAutoStsUpdateCtmMvmtMnlHisCSQL">
			<desc><![CDATA[[CHM-201641731] VGM 항목 추가
 - 사용자에 의해 수정된 데이터 저장]]></desc>
			<sql><![CDATA[
INSERT INTO CTM_MVMT_MNL_HIS (
  CNTR_NO,
  CNMV_YR,
  CNMV_ID_NO,
  CNMV_HIS_SEQ,
  DAT_DIV_FLG,
  MODI_TP_FLG,
  INP_DIV_FLG,
  CNMV_SEQ,
  CNMV_SPLIT_NO,
  CNTR_TPSZ_CD,
  MVMT_STS_CD,
  BKG_CGO_TP_CD,
  CNMV_CYC_NO,
  CNMV_LVL_NO,
  CNMV_EVNT_DT,
  DEST_YD_CD,
  INP_YD_CD,
  ORG_YD_CD,
  CNT_CD,
  CRNT_VSL_CD,
  CRNT_SKD_VOY_NO,
  CRNT_SKD_DIR_CD,
  TRNK_VSL_CD,
  TRNK_SKD_VOY_NO,
  TRNK_SKD_DIR_CD,
  CHSS_NO,
  MGST_NO,
  CNTR_SEAL_NO,
  CNTR_DMG_FLG,
  FCNTR_FLG,
  OB_CNTR_FLG,
  BKG_RCV_TERM_CD,
  VNDR_SEQ,
  MVMT_TRSP_MOD_CD,
  LOC_CD,
  CNMV_RMK,
  CHSS_MGST_MVMT_RMK,
  USR_NM,
  MVMT_CRE_TP_CD,
  SUBST_RULE_CD,
  SPCL_CGO_FLG,
  BKG_NO,
  BKG_KNT,
  BL_NO,
  CNTR_HNGR_RCK_FLG,
  CNTR_HNGR_BAR_ATCH_KNT,
  CNTR_ACT_CD,
  CNTR_RFUB_FLG,
  CNTR_DISP_FLG,
  IMDT_EXT_FLG,
  CNTR_XCH_CD,
  INLND_TRSP_LIC_NO,
  CTRT_OFC_CTY_CD,
  CTRT_SEQ,
  MVMT_EDI_TP_CD,
  MVMT_EDI_MSG_TP_ID,
  MVMT_EDI_MSG_AREA_CD,
  MVMT_EDI_MSG_YRMONDY,
  MVMT_EDI_MSG_SEQ,
  WBL_NO,
  PKUP_NO,
  CNTR_STS_SEQ,
  CALL_SGN_NO,
  LLOYD_NO,
  MTY_REPO_VL_RMK,
  MVMT_INP_TP_CD,
  CNMV_CO_CD,
  SYS_AREA_GRP_ID,
  OFC_CD,
  PRE_STS_FLG,
  CNMV_CORR_RSN,
  ATCH_FILE_SAV_ID,
  VGM_MZD_TP_CD,
  VGM_WGT_UT_CD,
  VGM_WGT_QTY,
  VGM_VRFY_DT,
  VGM_SIG_CTNT,
  VGM_REF_NO,
  VGM_WGT_PTY_CTNT,
  VGM_VRFY_ORD_CTNT,
  GMT_DT,
  CRE_LOCL_DT,
  UPD_LOCL_DT,
  CRE_USR_ID,
  CRE_DT,
  UPD_USR_ID,
  UPD_DT
)
SELECT CNTR_NO,
  CNMV_YR,
  CNMV_ID_NO,
  @[cnmv_his_seq] AS CNMV_HIS_SEQ,
  @[dat_div_flg] AS DAT_DIV_FLG,
  @[modi_tp] AS MODI_TP_FLG,
  @[inp_div_flg] AS INP_DIV_FLG,
  CNMV_SEQ,
  CNMV_SPLIT_NO,
  CNTR_TPSZ_CD,
  MVMT_STS_CD,
  BKG_CGO_TP_CD,
  CNMV_CYC_NO,
  CNMV_LVL_NO,
  TO_DATE (@[cnmv_evnt_dt], 'YYYYMMDDHH24MI') AS CNMV_EVNT_DT,
  DEST_YD_CD,
  INP_YD_CD,
  ORG_YD_CD,
  CNT_CD,
  CRNT_VSL_CD,
  CRNT_SKD_VOY_NO,
  CRNT_SKD_DIR_CD,
  TRNK_VSL_CD,
  TRNK_SKD_VOY_NO,
  TRNK_SKD_DIR_CD,
  CHSS_NO,
  MGST_NO,
  CNTR_SEAL_NO,
  CNTR_DMG_FLG,
  FCNTR_FLG,
  OB_CNTR_FLG,
  BKG_RCV_TERM_CD,
  VNDR_SEQ,
  MVMT_TRSP_MOD_CD,
  LOC_CD,
  @[cnmv_rmk] AS CNMV_RMK,
  CHSS_MGST_MVMT_RMK,
  @[usr_nm] AS USR_NM,
  'N' AS MVMT_CRE_TP_CD,
  SUBST_RULE_CD,
  SPCL_CGO_FLG,
  BKG_NO,
  BKG_KNT,
  BL_NO,
  CNTR_HNGR_RCK_FLG,
  CNTR_HNGR_BAR_ATCH_KNT,
  CNTR_ACT_CD,
  CNTR_RFUB_FLG,
  CNTR_DISP_FLG,
  IMDT_EXT_FLG,
  CNTR_XCH_CD,
  INLND_TRSP_LIC_NO,
  CTRT_OFC_CTY_CD,
  CTRT_SEQ,
  MVMT_EDI_TP_CD,
  MVMT_EDI_MSG_TP_ID,
  MVMT_EDI_MSG_AREA_CD,
  MVMT_EDI_MSG_YRMONDY,
  MVMT_EDI_MSG_SEQ,
  WBL_NO,
  PKUP_NO,
  CNTR_STS_SEQ,
  CALL_SGN_NO,
  LLOYD_NO,
  MTY_REPO_VL_RMK,
  MVMT_INP_TP_CD,
  CNMV_CO_CD,
  SYS_AREA_GRP_ID,
  @[ofc_cd] AS OFC_CD,
  PRE_STS_FLG,
  NVL(@[cnmv_corr_rsn], ' ') AS CNMV_CORR_RSN,
  @[atch_file_sav_id] AS ATCH_FILE_SAV_ID,
  VGM_MZD_TP_CD,
  VGM_WGT_UT_CD,
  VGM_WGT_QTY,
  VGM_VRFY_DT,
  VGM_SIG_CTNT,
  VGM_REF_NO,
  VGM_WGT_PTY_CTNT,
  VGM_VRFY_ORD_CTNT,
  GMT_DT,
  CRE_LOCL_DT,
  GLOBALDATE_PKG.TIME_CONV_FNC ('KRPUS', SYSDATE, SUBSTR (@[org_yd_cd], 0, 5)) AS UPD_LOCL_DT,
  CRE_USR_ID,
  CRE_DT,
  UPD_USR_ID,
  SYSDATE AS UPD_DT
FROM CTM_MOVEMENT
WHERE CNTR_NO = @[cntr_no]
  AND CNMV_YR = @[cnmv_yr]
  AND CNMV_ID_NO = @[cnmv_id_no]			]]></sql>
			<params>
				<param name="cnmv_his_seq" type="12" value="" out="N"/>
				<param name="dat_div_flg" type="12" value="" out="N"/>
				<param name="modi_tp" type="12" value="" out="N"/>
				<param name="inp_div_flg" type="12" value="" out="N"/>
				<param name="cnmv_evnt_dt" type="12" value="" out="N"/>
				<param name="cnmv_rmk" type="12" value="" out="N"/>
				<param name="usr_nm" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="cnmv_corr_rsn" type="12" value="" out="N"/>
				<param name="atch_file_sav_id" type="12" value="" out="N"/>
				<param name="org_yd_cd" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="cnmv_yr" type="12" value="" out="N"/>
				<param name="cnmv_id_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
