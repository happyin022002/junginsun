<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InvoiceIssueCollectionMgtDBDAOSearchIndiaFiscalYearRSQL">
			<desc><![CDATA[InvoiceIssueCollectionMgtDBDAOSearchIndiaFiscalYearRSQL]]></desc>
			<sql><![CDATA[
SELECT  SUBSTR(CURR_YYYYMM, 3) AS CRNT_YR_MON
       ,CASE 
			WHEN CURR_YYYYMM BETWEEN FM_YYYYMM AND TO_YYYYMM THEN SUBSTR(FM_YYYYMM, 1, 4)
			WHEN CURR_YYYYMM < FM_YYYYMM THEN TO_CHAR(TO_DATE(FM_YYYYMM, 'YYYYMM') - (INTERVAL '1' YEAR), 'YYYY')
			WHEN CURR_YYYYMM > TO_YYYYMM THEN SUBSTR(TO_YYYYMM, 1, 4)
		END FSC_YR
  FROM  (
            SELECT  CURR_YYYYMM
                   ,TO_CHAR(TO_DATE(SUBSTR(CURR_YYYYMM, 1, 4) || '04', 'YYYYMM'), 'YYYYMM') AS FM_YYYYMM
                   ,TO_CHAR(TO_DATE(SUBSTR(CURR_YYYYMM, 1, 4) || '03', 'YYYYMM') + (INTERVAL '1' YEAR), 'YYYYMM') AS TO_YYYYMM
              FROM  (
                        SELECT  TO_CHAR(NVL(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]), SYSDATE), 'YYYYMM') AS CURR_YYYYMM
                          FROM  DUAL
                    )
		)			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
