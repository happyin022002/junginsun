<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChassisMgsetAgreementDBDAOSearchMGSAgreementLseRtDataRSQL">
			<desc><![CDATA[ChassisMgsetAgreementDB.SearchMGSAgreementLseRtData]]></desc>
			<sql><![CDATA[
SELECT
    NVL(SUM(ONH_INIT_VAL_AMT_CLG),0) AS ONH_INIT_VAL_AMT_CLG,
    NVL(SUM(ONH_INIT_VAL_AMT_UMG),0) AS ONH_INIT_VAL_AMT_UMG,
    NVL(SUM(MGST_LSE_FX_RT_AMT_CLG),0) AS MGST_LSE_FX_RT_AMT_CLG,
    NVL(SUM(MGST_LSE_FX_RT_AMT_UMG),0) AS MGST_LSE_FX_RT_AMT_UMG,
    NVL(SUM(MGST_BLDP_RT_AMT_CLG),0) AS MGST_BLDP_RT_AMT_CLG,
    NVL(SUM(MGST_BLDP_RT_AMT_UMG),0) AS MGST_BLDP_RT_AMT_UMG,
    NVL(SUM(MGST_POTC_SCG_RT_AMT_CLG),0) AS MGST_POTC_SCG_RT_AMT_CLG,
    NVL(SUM(MGST_POTC_SCG_RT_AMT_UMG),0) AS MGST_POTC_SCG_RT_AMT_UMG,
    NVL(SUM(MGST_PRTC_SCG_RT_AMT_CLG),0) AS MGST_PRTC_SCG_RT_AMT_CLG,
    NVL(SUM(MGST_PRTC_SCG_RT_AMT_UMG),0) AS MGST_PRTC_SCG_RT_AMT_UMG
FROM (
    SELECT
        CASE WHEN T1.EQ_TPSZ_CD = 'CLG' THEN T1.ONH_INIT_VAL_AMT END AS ONH_INIT_VAL_AMT_CLG,
        CASE WHEN T1.EQ_TPSZ_CD = 'UMG' THEN T1.ONH_INIT_VAL_AMT END AS ONH_INIT_VAL_AMT_UMG,
        CASE WHEN T1.EQ_TPSZ_CD = 'CLG' THEN T1.MGST_LSE_FX_RT_AMT END AS MGST_LSE_FX_RT_AMT_CLG,
        CASE WHEN T1.EQ_TPSZ_CD = 'UMG' THEN T1.MGST_LSE_FX_RT_AMT END AS MGST_LSE_FX_RT_AMT_UMG,
        CASE WHEN T1.EQ_TPSZ_CD = 'CLG' THEN T1.MGST_BLDP_RT_AMT END AS MGST_BLDP_RT_AMT_CLG,
        CASE WHEN T1.EQ_TPSZ_CD = 'UMG' THEN T1.MGST_BLDP_RT_AMT END AS MGST_BLDP_RT_AMT_UMG,
        CASE WHEN T1.EQ_TPSZ_CD = 'CLG' THEN T1.MGST_POTC_SCG_RT_AMT END AS MGST_POTC_SCG_RT_AMT_CLG,
        CASE WHEN T1.EQ_TPSZ_CD = 'UMG' THEN T1.MGST_POTC_SCG_RT_AMT END AS MGST_POTC_SCG_RT_AMT_UMG,
        CASE WHEN T1.EQ_TPSZ_CD = 'CLG' THEN T1.MGST_PRTC_SCG_RT_AMT END AS MGST_PRTC_SCG_RT_AMT_CLG,
        CASE WHEN T1.EQ_TPSZ_CD = 'UMG' THEN T1.MGST_PRTC_SCG_RT_AMT END AS MGST_PRTC_SCG_RT_AMT_UMG
    FROM
        (
        SELECT  B.EQ_TPSZ_CD, 
                B.ONH_INIT_VAL_AMT,
				B.MGST_LSE_FX_RT_AMT,
				B.MGST_BLDP_RT_AMT,
				B.MGST_POTC_SCG_RT_AMT,
				B.MGST_PRTC_SCG_RT_AMT
        FROM    CGM_AGREEMENT A, CGM_AGMT_LSE_RT B
        WHERE   A.AGMT_OFC_CTY_CD = B.AGMT_OFC_CTY_CD
                AND A.AGMT_SEQ = B.AGMT_SEQ
                AND A.AGMT_VER_NO = B.AGMT_VER_NO
                AND A.EQ_KND_CD = @[eq_knd_cd]
                AND A.AGMT_OFC_CTY_CD = @[agmt_ofc_cty_cd]
                AND A.AGMT_SEQ = @[agmt_seq]
				AND A.AGMT_VER_NO = @[agmt_ver_no]
        ) T1
)			]]></sql>
			<params>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="agmt_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="agmt_seq" type="2" value="" out="N"/>
				<param name="agmt_ver_no" type="2" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
