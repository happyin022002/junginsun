<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ContainerMovementMgtDBDAOsearchPolPodLccCdRSQL">
			<desc><![CDATA[POL / POD 의 LCC CODE를 조회한다]]></desc>
			<sql><![CDATA[
SELECT  POL_LCC.POL_LCC_CD, POD_LCC.POD_LCC_CD, POL_POD.POL_CD, POL_POD.POD_CD
FROM    
        (
        SELECT LCC_CD AS POL_LCC_CD FROM MDM_EQ_ORZ_CHT
        WHERE SCC_CD = (
        SELECT SCC_CD FROM MDM_LOCATION
        WHERE LOC_CD  = (   SELECT  POL_CD  FROM BKG_VVD
                            WHERE   BKG_NO  =   @[bkg_no]
                            AND     VSL_CD  =   SUBSTR(@[cntr_id], 1, 4)
                            AND     SKD_VOY_NO  =   SUBSTR(@[cntr_id], 5, 4)
                            AND     SKD_DIR_CD  =   SUBSTR(@[cntr_id], 9, 1)
                            ))
        )   POL_LCC,
        (
        SELECT LCC_CD  AS POD_LCC_CD FROM MDM_EQ_ORZ_CHT
        WHERE SCC_CD = (
        SELECT SCC_CD FROM MDM_LOCATION
        WHERE LOC_CD  = (   SELECT  POD_CD  FROM BKG_VVD
                            WHERE   BKG_NO  =   @[bkg_no]
                            AND     VSL_CD  =   SUBSTR(@[cntr_id], 1, 4)
                            AND     SKD_VOY_NO  =   SUBSTR(@[cntr_id], 5, 4)
                            AND     SKD_DIR_CD  =   SUBSTR(@[cntr_id], 9, 1)
                            ))
        )   POD_LCC,
        (
        SELECT  POL_CD, POD_CD  FROM BKG_BOOKING
                            WHERE   BKG_NO  =   @[bkg_no]
        )   POL_POD			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
