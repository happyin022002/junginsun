<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CodSimulateDBDAOSearchCODVskDataRSQL">
			<desc><![CDATA[EQR_SCNR_VSL_SKD 에서 특정 vvd의 VSL_LOC_CD, VSL_ETD_DT 를 검색]]></desc>
			<sql><![CDATA[
SELECT VSL_LOC_CD  																		
       ,TO_CHAR(VSL_ETD_DT,'YYYY-MM-DD HH24:MI:SS' ,'NLS_DATE_LANGUAGE=AMERICAN')  VSL_ETD_DT 	
-- CSR NO : N200903060090 의거 변경
       ,TO_CHAR(VSL_ETB_DT,'YYYY-MM-DD HH24:MI:SS','NLS_DATE_LANGUAGE=AMERICAN')  VSL_ETB_DT 
       ,YD_CD
       ,ROWNUM   																				
FROM EQR_SCNR_VSL_SKD     																	
	 WHERE SCNR_ID	 = ( SELECT SCNR_ID FROM EQR_EQ_REPO_PLN WHERE REPO_PLN_ID = @[repo_pln_id])  							
	 AND VSL_CD 		= @[vsl_cd]  																	
	 AND SKD_VOY_NO 	= @[skd_voy_no]
	 AND SKD_DIR_CD 	= @[skd_dir_cd]  																
	 AND VSL_SLAN_CD 	= @[vsl_lane_cd] 
	 #if (${vsl_loc_cd} != '') 
     AND VSL_LOC_CD  = @[vsl_loc_cd] 
	 #end  																
	 #if (${poscol} == 'fm') 
     AND TO_CHAR(VSL_ETD_DT ,'YYYYMMDD') >= (SELECT WK_ST_DT FROM EQR_WK_PRD WHERE PLN_YR || PLN_WK = @[pln_yrwk] ) 
ORDER BY  VSL_ETD_DT
    #else 
     AND TO_CHAR(VSL_ETB_DT ,'YYYYMMDD') >= TO_CHAR(TO_DATE( @[pln_yrwk],'YYYY-MM-DD') ,'YYYYMMDD') 
ORDER BY  VSL_ETB_DT
	#end			]]></sql>
			<params>
				<param name="repo_pln_id" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="vsl_lane_cd" type="12" value="" out="N"/>
				<param name="vsl_loc_cd" type="12" value="" out="N"/>
				<param name="pln_yrwk" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
