<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ExpensePlanDBDAOExpensePlanCSQL">
			<desc><![CDATA[CNTR/CHSS에 대한 년간 사업계획 자료를 저장한다.]]></desc>
			<sql><![CDATA[
MERGE INTO LSE_EQ_EXPN_PLN A
USING   (SELECT  @[pln_yr]        AS PLN_YR,
                 @[pln_seq]       AS PLN_SEQ,
                 @[ver_seq]       AS VER_SEQ,
                 @[eq_knd_cd]     AS EQ_KND_CD,
                 @[eq_term_nm]    AS EQ_TERM_NM,
                 @[expn_mon_cd]   AS EXPN_MON_CD,
                 @[expn_amt]      AS EXPN_AMT,
                 @[cre_usr_id]    AS CRE_USR_ID,
                 @[upd_usr_id]    AS UPD_USR_ID
         FROM    DUAL) B
ON      (A.PLN_YR = B.PLN_YR
AND      A.PLN_SEQ = B.PLN_SEQ
AND      A.VER_SEQ = B.VER_SEQ)                 
WHEN MATCHED THEN        
        UPDATE 	SET                 
                A.EQ_KND_CD   = B.EQ_KND_CD, 
                A.EQ_TERM_NM  = B.EQ_TERM_NM,
                A.EXPN_MON_CD = B.EXPN_MON_CD,
                A.EXPN_AMT    = B.EXPN_AMT,
                A.UPD_USR_ID  = B.UPD_USR_ID,
                A.UPD_DT      = SYSDATE
        WHERE 	A.PLN_YR  = B.PLN_YR 
        AND     A.PLN_SEQ = B.PLN_SEQ
        AND     A.VER_SEQ = B.VER_SEQ        
WHEN NOT MATCHED THEN
        INSERT 	(A.PLN_YR, A.PLN_SEQ, A.VER_SEQ, A.EQ_KND_CD, 
                 A.EQ_TERM_NM, A.EXPN_MON_CD, A.EXPN_AMT, 
                 A.CRE_USR_ID, A.CRE_DT, A.UPD_USR_ID, A.UPD_DT)
        VALUES 	(B.PLN_YR, B.PLN_SEQ, B.VER_SEQ, B.EQ_KND_CD, 
                 B.EQ_TERM_NM, B.EXPN_MON_CD, B.EXPN_AMT, 
                 B.CRE_USR_ID, SYSDATE, B.UPD_USR_ID, SYSDATE)			]]></sql>
			<params>
				<param name="pln_yr" type="12" value="" out="N"/>
				<param name="pln_seq" type="2" value="" out="N"/>
				<param name="ver_seq" type="2" value="" out="N"/>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="eq_term_nm" type="12" value="" out="N"/>
				<param name="expn_mon_cd" type="12" value="" out="N"/>
				<param name="expn_amt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
