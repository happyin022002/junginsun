<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ReeferSparePartMgtDBDAOcheckVesselSparePartInventoryMaxDataRSQL">
			<desc><![CDATA[조회]]></desc>
			<sql><![CDATA[
SELECT to_char(sysdate, 'YYYY')
    || '-' 
    ||@[ofc_cd]
    || '-' 
    ||LPAD(    NVL( (
                        SELECT MAX(to_number(substr(SPR_PRT_INVT_NO, -3)) ) + 1 AS SPR_PRT_INVT_SEQ
                        FROM MNR_VSL_SPR_PRT_INVT
                        WHERE SPR_PRT_INVT_NO LIKE to_char(sysdate, 'YYYY')|| '-' || @[ofc_cd] || '-' || '%'
                     ), 1 
                    ), 3, 0
          ) AS SPR_PRT_INVT_NO
FROM DUAL 			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
