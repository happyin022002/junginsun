<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RepoThresholdManageDBDAOMergeRepoPlanRLADTLThresholdCSQL">
			<desc><![CDATA[EQR_REPO_PLN_RED_LGT_ALT_DTL 테이블의 데이터 수정/입력]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_REPO_PLN_RED_LGT_ALT_DTL I
USING
(
    SELECT
        @[rcc_cd] AS RCC_CD
        ,@[adhr_itm_cd] AS ADHR_ITM_CD
        ,@[cntr_tpsz_cd] AS CNTR_TPSZ_CD
    FROM DUAL
) M
ON
(
    I.RCC_CD       = M.RCC_CD
    AND I.ADHR_ITM_CD  = M.ADHR_ITM_CD
    AND I.CNTR_TPSZ_CD = M.CNTR_TPSZ_CD
)
WHEN MATCHED THEN
    UPDATE
    SET I.ADHR_BSE_CD   = @[adhr_bse_cd],
    I.ADHR_RTO      = @[adhr_rto],
    I.ADHR_VOL_QTY  = @[adhr_vol_qty],
    I.UPD_USR_ID    = @[upd_usr_id],
    I.UPD_DT    	= SYSDATE
WHEN NOT MATCHED THEN
    INSERT
    (
        I.RCC_CD,
        I.ADHR_ITM_CD,
        I.CNTR_TPSZ_CD,
        I.ADHR_BSE_CD,
        I.ADHR_RTO,
        I.ADHR_VOL_QTY,
        I.CRE_USR_ID,
        I.CRE_DT,
        I.UPD_USR_ID,
        I.UPD_DT
    )
    VALUES (
        @[rcc_cd],
        @[adhr_itm_cd],
        @[cntr_tpsz_cd],
        @[adhr_bse_cd],
        @[adhr_rto],
        @[adhr_vol_qty],
        @[upd_usr_id],
        SYSDATE,
        @[upd_usr_id],
        SYSDATE
    )			]]></sql>
			<params>
				<param name="rcc_cd" type="12" value="" out="N"/>
				<param name="adhr_itm_cd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="adhr_bse_cd" type="12" value="" out="N"/>
				<param name="adhr_rto" type="6" value="" out="N"/>
				<param name="adhr_vol_qty" type="2" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
