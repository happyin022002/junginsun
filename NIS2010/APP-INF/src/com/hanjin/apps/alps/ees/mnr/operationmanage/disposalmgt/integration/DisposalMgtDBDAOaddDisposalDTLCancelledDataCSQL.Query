<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DisposalMgtDBDAOaddDisposalDTLCancelledDataCSQL">
			<desc><![CDATA[addDisposalDTLCancelledData]]></desc>
			<sql><![CDATA[
INSERT INTO MNR_DISP_CXL_DTL(
	DISP_NO          
	, CXL_INV_SEQ
	, DISP_DTL_SEQ
	, DISP_UT_TP_CD
	, EQ_NO
	, EQ_TPSZ_CD
	, DISP_YD_CD
	, DISP_QTY
	, DISP_SOLD_DT
	, DISP_TRKR_NM
	, DISP_RLSE_NO
	, DISP_UT_PRC
	, DISP_RSN_CD
	, PART_AMT
	, INV_AMT
	, FILE_SEQ
	, INV_NO
	, RCV_INV_SEQ
	, MNR_DISP_DTL_RMK
	, MNR_PRNR_CNT_CD
	, MNR_PRNR_SEQ
	, DISP_TRF_UT_PRC
	, DISP_VRFY_TP_CD
	, NIS_PRNR_CNT_CD
	, NIS_PRNR_VNDR_SEQ
	, NIS_PRNR_VNDR_ABBR_NM
	, CRE_USR_ID
	, CRE_DT
	, UPD_USR_ID
	, UPD_DT
)(
SELECT
	DISP_NO          
	, (SELECT NVL(MAX(B.CXL_INV_SEQ), 0)+1 
		FROM MNR_DISP_CXL_DTL B
		WHERE B.DISP_NO = A.DISP_NO
		      AND B.DISP_DTL_SEQ = A.DISP_DTL_SEQ)
	, DISP_DTL_SEQ
	, DISP_UT_TP_CD
	, EQ_NO
	, EQ_TPSZ_CD
	, DISP_YD_CD
	, DISP_QTY
	, DISP_SOLD_DT
	, DISP_TRKR_NM
	, DISP_RLSE_NO
	, DISP_UT_PRC
	, DISP_RSN_CD
	, PART_AMT
	, INV_AMT
	, FILE_SEQ
	, INV_NO
	, RCV_INV_SEQ
	, MNR_DISP_DTL_RMK
	, MNR_PRNR_CNT_CD
	, MNR_PRNR_SEQ
	, DISP_TRF_UT_PRC
	, DISP_VRFY_TP_CD
	, NIS_PRNR_CNT_CD
	, NIS_PRNR_VNDR_SEQ
	, NIS_PRNR_VNDR_ABBR_NM
	, CRE_USR_ID
	, CRE_DT
	, UPD_USR_ID
	, UPD_DT
FROM 
    MNR_DISP_DTL A
WHERE
    RCV_INV_SEQ = @[rcv_inv_seq]
)    			]]></sql>
			<params>
				<param name="rcv_inv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
