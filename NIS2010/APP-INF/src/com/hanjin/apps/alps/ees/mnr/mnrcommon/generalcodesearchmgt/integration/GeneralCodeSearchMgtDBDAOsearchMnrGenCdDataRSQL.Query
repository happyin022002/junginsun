<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralCodeSearchMgtDBDAOsearchMnrGenCdDataRSQL">
			<desc><![CDATA[MNR 공통 코드 정보를 조회 한다.

2011.08.30 나상보 [CHM-201113102] ALPS MNR-Disposal-Disposal Inquiry화면에 조회 Status 추가 개발 요청]]></desc>
			<sql><![CDATA[
SELECT
#if (${searchcon} == 'CUSTOM3') 
		 A.EQ_KND_CD AS CD_ID
		,A.MNR_CD_DP_DESC AS CD_DESC
#elseif (${searchcon} == 'CUSTOM1' ||  ${searchcon} == 'CUSTOM8' )
         A.MNR_CD_ID AS CD_ID
 		,A.MNR_CD_DESC AS CD_DESC	
#elseif (${searchcon} == 'CUSTOM10')
         A.MNR_CD_DP_DESC AS CD_ID
 		,A.MNR_CD_DESC AS CD_DESC		
#else
         A.MNR_CD_ID AS CD_ID
 		,A.MNR_CD_DP_DESC AS CD_DESC		
#end
FROM MNR_GEN_CD A
#if (${searchcon} == 'COMMON' || ${searchcon} == 'CUSTOM3' ||  ${searchcon} == 'CUSTOM8' ||  ${searchcon} == 'CUSTOM10' ||  ${searchcon} == 'CUSTOM11') 
	#if (${searchkey} == 'AG' || ${searchkey} == 'A,U,Z,GG')
	WHERE A.PRNT_CD_ID IN ('UG','GG','ZG')
	#elseif (${searchkey} == 'U,ZG')
	WHERE A.PRNT_CD_ID IN ('UG','ZG')
	#elseif (${searchkey} == 'U,GG')
	WHERE A.PRNT_CD_ID IN ('UG','GG')
	#elseif (${searchkey} == 'Z,GG')
	WHERE A.PRNT_CD_ID IN ('ZG','GG')
	#else
	WHERE A.PRNT_CD_ID = @[searchkey]
	#end
	#if (${searchcon} == 'CUSTOM11')
	AND A.MNR_CD_GRP_NO = '3'
	AND A.MNR_CD_GRP_TP_CD = 'OT'
	AND MNR_CD_ID <> 'HD'
	#end
#elseif (${searchcon} == 'CUSTOM1') 
	WHERE A.MNR_CD_GRP_NO = @[searchkey]
#elseif (${searchcon} == 'CUSTOM2') 
	WHERE A.PRNT_CD_ID||A.EQ_KND_CD = @[searchkey]
#elseif (${searchcon} == 'CUSTOM4')   
	WHERE A.PRNT_CD_ID IN 
	(
  		SELECT B.MNR_CD_ID
  		FROM MNR_GEN_CD B
 		 WHERE 
  		B.PRNT_CD_ID = SUBSTRB(@[searchkey],0,2) 
  		AND SUBSTRB(B.MNR_CD_ID,LENGTH(B.MNR_CD_ID) - 1,LENGTH(B.MNR_CD_ID)) = SUBSTRB(@[searchkey],3,4) 
 	)
#elseif (${searchcon} == 'CUSTOM5')   
WHERE A.PRNT_CD_ID = SUBSTRB(@[searchkey],0,2)
AND SUBSTRB(A.MNR_CD_ID,5,6) = SUBSTRB(@[searchkey],3,4)
#elseif (${searchcon} == 'CUSTOM6') 
WHERE MNR_ORD_TP_CD = 'QT'
AND  DELT_FLG = 'N'
AND  PRNT_CD_ID = @[searchkey]||'G'
#elseif (${searchcon} == 'CUSTOM7') 
WHERE MNR_ORD_TP_CD = 'TS'
AND  DELT_FLG = 'N'
AND  PRNT_CD_ID = @[searchkey]||'G'
#elseif (${searchcon} == 'CUSTOM9') 
WHERE
PRNT_CD_ID = 'CD00002' 
#end
#if (${searchkey} == 'CD00004') 
ORDER BY A.MNR_CD_DP_DESC
#else
ORDER BY A.MNR_CD_DP_SEQ
#end			]]></sql>
			<params>
				<param name="searchkey" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
