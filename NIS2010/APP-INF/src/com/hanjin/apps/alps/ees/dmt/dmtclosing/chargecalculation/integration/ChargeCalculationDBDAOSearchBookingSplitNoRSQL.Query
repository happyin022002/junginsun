<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAOSearchBookingSplitNoRSQL">
			<desc><![CDATA[Booking & Container 를 이용하여 Dem/Det Charge가 생성된 Booking No를 조회한다.
Ex) SUB300333300~1이 소수점으로 Container Q'ty를 쪼개지만, DMT에서 Movement 중심으로 어느 한쪽 Booking으로 Charge를 생성한다.]]></desc>
			<sql><![CDATA[
SELECT  T1.BKG_NO
FROM    BKG_CONTAINER       T1,
        DMT_CHG_BKG_CNTR    T2
WHERE   1=1
AND     T1.BKG_NO   = T2.BKG_NO
AND     T1.CNTR_NO  = T2.CNTR_NO
AND     T1.CNTR_NO  = @[cntr_no]
AND     T1.BKG_NO   LIKE SUBSTR(@[bkg_no], 1, 11) ||'%'
AND     1           = NVL2(@[bkg_no], 1, 0)          -- BKG_NO가 null 일 경우 Query 결과가 없도록 한다. null인 경우 위 LIKE 조건에 문제가 생기 때문에... 
AND     ROWNUM      = 1			]]></sql>
			<params>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
