<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCommonDBDAOCurrencyVORSQL">
			<desc><![CDATA[searchCurrencyList]]></desc>
			<sql><![CDATA[
SELECT  /* MDM CURRENCY를 다양한 국가에서 사용하게 될 경우에 문제가 된다. */
        /* 만약, 화폐와 국가 관계가 1 : N 관계일 경우 Harding을 함.     */ 
        'XOF'             AS CURR_CD
      , 'CFA FRANC BCEAO' AS CURR_NM
      , 1                 AS IDX
FROM    DUAL
WHERE   'Y' = ( SELECT 'Y' FROM DMT_HRD_CDG_CTNT WHERE HRD_CDG_ID = 'AFRICA_CURR' AND ATTR_CTNT1 = @[cnt_cd] )
UNION
SELECT  CURR_CD
      , CURR_NM
#if(${use_rt_curr} == 'Y')
      , DECODE(CURR_CD, @[rt_curr_cd], 1, 2) AS IDX
#else
      , DECODE(CNT_CD, @[cnt_cd], 1, 2) AS IDX
#end
FROM    MDM_CURRENCY
WHERE   DELT_FLG = 'N'
#if(${rt_curr_cd} != '')
AND    (CURR_CD = @[rt_curr_cd] OR CNT_CD IN (@[cnt_cd], 'US', 'EU'))
#else
AND    CNT_CD IN (@[cnt_cd], 'US', 'EU')
#end
ORDER BY IDX, CURR_CD ASC			]]></sql>
			<params>
				<param name="cnt_cd" type="12" value="" out="N"/>
				<param name="rt_curr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
