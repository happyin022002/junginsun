<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SurplusAreaDBDAOCheckYardSurplusAreaAuthRSQL">
			<desc><![CDATA[MT Inventory Simulation by Yard 화면에 대한 수정 권한을 체크한다.
- CHM-201537079, 2015-08-10, 신용찬, 표준코드 변환]]></desc>
			<sql><![CDATA[
SELECT
NVL((
SELECT
CASE
WHEN EXISTS (
    SELECT
    CASE
    WHEN B.SCC_CD IS NOT NULL
    THEN 'N'
    ELSE 'Y'
    END AUTH_CHK
    FROM MDM_LOCATION A, MDM_EQ_ORZ_CHT B
    WHERE 1 = 1
    AND M.LOC_CD = A.LOC_CD
    AND A.SCC_CD = B.SCC_CD
    AND NVL(M.DELT_FLG,'N') <> 'Y'
    AND NVL(A.DELT_FLG,'N') <> 'Y'
    AND NVL(B.DELT_FLG,'N') <> 'Y'
    --AND M.AR_HD_QTR_OFC_CD = 'SINWA'
    AND M.AR_HD_QTR_OFC_CD = 'SINRS'  --CHM-201537079, 2015-08-10, 신용찬, 표준코드 변환
    AND B.RCC_CD = 'SGSIN'
    AND ((B.LCC_CD = 'AEDXB' AND B.ECC_CD IN ('BHKBS','KWKWI','QADOH')) OR (B.LCC_CD IN ('IDJKT','MYPKG','PHMNL','SGSIN','THBKK','VNSGN')))
    )
THEN 'N'
ELSE 'Y'
END AUTH_CHK
FROM MDM_ORGANIZATION M
WHERE 1 = 1
AND M.OFC_CD = UPPER(TRIM(@[ofc_cd]))
AND NVL(M.DELT_FLG,'N') <> 'Y'
),'X') AUTH_CHK
FROM DUAL			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
