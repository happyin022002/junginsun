<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PlanMgtDBDAOsearchOfficeCodeListRSQL">
			<desc><![CDATA[select]]></desc>
			<sql><![CDATA[
#if (${ofc_cd} == 'NOTHQ') 

	 SELECT a.OFC_CD 
	 FROM MDM_ORGANIZATION a
	 WHERE 1=1 
	 AND a.OFC_CD IN ( 
	 SELECT a.OFC_CD 
	 FROM 
	 ( 
	     SELECT m.OFC_CD from  MDM_ORGANIZATION m 
	     WHERE m.OFC_CD <> m.AR_HD_QTR_OFC_CD 
	 ) ) 
	 AND a.DELT_FLG = 'N' 
	 ORDER BY a.OFC_CD


#else

    #if(${ofclevelcd} == 'RHQ')
		 SELECT  B.OFC_CD, B.OFC_ENG_NM  
		 FROM (  
		 	select distinct m.ar_hd_qtr_ofc_cd HQ_OFC   
		 	from mdm_organization m   
			
			#if(${boolhoofc} == 'true')
				 UNION ALL    
				 SELECT mnr_cd_id HQ_OFC 
				 FROM mnr_gen_cd 
				 WHERE prnt_cd_id = 'HOOFC' 
				 AND ROWNUM = 1 
			#end
						
		  ) a , mdm_organization B 
		 WHERE B.ofc_cd  = HQ_OFC 
		 AND   B.DELT_FLG = 'N' 
		 ORDER BY B.OFC_CD 
		
	#else
	    SELECT  a.OFC_CD, a.OFC_ENG_NM , a.LOC_CD  
		FROM  MDM_ORGANIZATION  a
		WHERE a.ar_hd_qtr_ofc_cd LIKE '%'|| nvl(@[ofc_cd],'') ||'%'
		AND a.DELT_FLG = 'N' 
        ORDER BY a.OFC_CD 
	#end

#end			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
