<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChassisMgsetInvoiceDBDAOSearchCHSCoPoolChargeDtlDataRSQL">
			<desc><![CDATA[ChassisMgsetInvoiceDB.SearchCHSCoPoolChargeDtlData]]></desc>
			<sql><![CDATA[
SELECT 
    T1.INTG_CD_VAL_DP_DESC,
    T1.DTL_POOL_COST_ITM_CD,
    T2.PAY_INV_SEQ,
    T2.POOL_BSRT_AMT,
    T2.COST_BIL_DYS,
    NVL(T2.COST_AMT,0) AS COST_AMT
FROM (	  
    	SELECT  A.INTG_CD_VAL_DP_DESC,
            	A.INTG_CD_VAL_CTNT AS DTL_POOL_COST_ITM_CD
    	FROM  COM_INTG_CD_DTL A
    	WHERE A.INTG_CD_ID = 'CD01934'
			  AND A.INTG_CD_VAL_CTNT LIKE 'C%'
    	ORDER BY A.INTG_CD_VAL_CTNT
     ) T1,
     (
        SELECT A.PAY_INV_SEQ,
               A.DTL_POOL_COST_ITM_CD,	               
	           A.POOL_BSRT_AMT,
	           A.COST_BIL_DYS,
	           NVL(A.COST_AMT,0) AS COST_AMT
        FROM CGM_PAY_INV_POOL_DTL A
        WHERE PAY_INV_SEQ = (SELECT PAY_INV_SEQ FROM CGM_PAY_INV 
                             WHERE INV_NO = @[inv_no]
								   AND EQ_KND_CD = 'Z'
				                   AND CHSS_MGST_INV_KND_CD = @[chss_mgst_inv_knd_cd]
                                   AND ROWNUM = 1)
     ) T2
WHERE T1.DTL_POOL_COST_ITM_CD = T2.DTL_POOL_COST_ITM_CD(+)			]]></sql>
			<params>
				<param name="inv_no" type="12" value="" out="N"/>
				<param name="chss_mgst_inv_knd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
