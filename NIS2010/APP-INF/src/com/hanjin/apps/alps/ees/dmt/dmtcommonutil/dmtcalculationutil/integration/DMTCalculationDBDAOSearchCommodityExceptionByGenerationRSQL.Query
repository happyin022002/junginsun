<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCalculationDBDAOSearchCommodityExceptionByGenerationRSQL">
			<desc><![CDATA[searchCommodityExceptionByGeneration]]></desc>
			<sql><![CDATA[
SELECT 		A.CMDT_TRF_SEQ 		DCR_SEQ
      		,A.XCLD_SAT_FLG 	EXCL_SAT
      		,A.XCLD_SUN_FLG 	EXCL_SUN
      		,A.XCLD_HOL_FLG 	EXCL_HOLI
      		,A.CMDT_ADD_DYS 	ADD_DAY
      		,A.CMDT_TTL_DYS 	TTL_DAY
	FROM	DMT_CMDT_GRP	A,
			DMT_TRF_RGN		B
	WHERE	A.SYS_AREA_GRP_ID   =   B.SYS_AREA_GRP_ID
	AND		A.DMDT_TRF_CD		=	B.DMDT_TRF_CD
	AND		A.TRF_SEQ			=	B.TRF_SEQ
	AND		A.SYS_AREA_GRP_ID	=	@[svr_id]
	AND		A.DMDT_TRF_CD		=	@[dtt_code]
	AND		A.TRF_SEQ			=	@[dtn_seq]
	AND		A.CMDT_CD			=	@[cmdt_cd]
	AND		A.DELT_FLG			=	'N'
	AND		B.CFM_FLG			=	'Y'
	AND 	B.SUTH_CHN_USE_FLG 	= 	'N'
	AND		(
				( A.EFF_DT <= TO_DATE(@[efft_dt], 'YYYYMMDD') AND A.EXP_DT IS NULL )
				OR
				( A.EFF_DT <= TO_DATE(@[efft_dt], 'YYYYMMDD') AND A.EXP_DT >= TO_DATE(@[efft_dt], 'YYYYMMDD') )
			)

			]]></sql>
			<params>
				<param name="svr_id" type="12" value="" out="N"/>
				<param name="dtt_code" type="12" value="" out="N"/>
				<param name="dtn_seq" type="12" value="" out="N"/>
				<param name="cmdt_cd" type="12" value="" out="N"/>
				<param name="efft_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
