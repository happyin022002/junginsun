<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeAmountDiscountMgtDBDAOModifyAfterBookingExptClrRqstUSQL">
			<desc><![CDATA[ChargeAmountDiscountMgtDBDAOModifyAfterBookingExptClrRqst]]></desc>
			<sql><![CDATA[
MERGE INTO DMT_AFT_BKG_EXPT_CLR_RQST
  USING DUAL
  ON (      AFT_EXPT_DAR_NO          =   @[aft_expt_dar_no]
     AND    BKG_NO =   @[bkg_no]
     AND    CNTR_NO =   @[cntr_no]
     )
  WHEN MATCHED THEN
    UPDATE
      SET CGOR_DT      =   TO_DATE(@[cgor_dt],'YYYYMMDD')
        , MCNTR_RTN_DT      =   TO_DATE(@[mcntr_rtn_dt],'YYYYMMDD')
        , UPD_USR_ID    =   @[upd_usr_id]
        , UPD_DT        =   sysdate
  WHEN NOT MATCHED THEN
    INSERT (AFT_EXPT_DAR_NO
          , BKG_NO
          , CNTR_NO
          , DMDT_CHG_STS_CD
          , CGOR_DT
          , MCNTR_RTN_DT
          , CRE_USR_ID
          , CRE_DT
          , UPD_USR_ID
          , UPD_DT )
    VALUES (
    		@[aft_expt_dar_no]
    	   ,@[bkg_no]
    	   ,@[cntr_no]
    	   ,@[dmdt_chg_sts_cd]
    	   ,TO_DATE(@[cgor_dt],'YYYYMMDD')
    	   ,TO_DATE(@[mcntr_rtn_dt],'YYYYMMDD')
    	   ,@[upd_usr_id]
    	   ,sysdate
    	   ,@[upd_usr_id]
    	   ,sysdate
   )
			]]></sql>
			<params>
				<param name="aft_expt_dar_no" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="cgor_dt" type="12" value="" out="N"/>
				<param name="mcntr_rtn_dt" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="dmdt_chg_sts_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
