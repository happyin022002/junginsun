<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChassisMgsetOnOffhireDBDAOsearchMGSOwnMasterDataRSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT A.EQ_PFX_CD||A.FM_SER_NO||'-'||A.EQ_PFX_CD||A.TO_SER_NO||' '||(A.TO_SER_NO - A.FM_SER_NO + 1) AS MGSET_RANGE,
       A.EQ_PFX_CD,
       A.FM_SER_NO,
       A.TO_SER_NO,
       (A.TO_SER_NO - FM_SER_NO + 1) AS UNITS,
       A.EQ_LOT_NO,
       A.DE_YRMON,
       B.EQ_SPEC_NO,
	   B.EQ_TPSZ_CD,
       B.VNDR_SEQ AS VNDR_SEQ_EQSPEC,
       (SELECT D.VNDR_LGL_ENG_NM
          FROM MDM_VENDOR D
         WHERE B.VNDR_SEQ = D.VNDR_SEQ) AS VNDR_LGL_ENG_NM_EQSPEC,
       B.MGST_VLTG_CAPA,
       B.MGST_FUEL_CAPA,
       B.CHSS_TARE_WGT,
       B.EQ_TPSZ_CD,
       C.AGMT_OFC_CTY_CD||C.AGMT_SEQ AS AGREEMENT_NO,
       C.AGMT_OFC_CTY_CD,
       C.AGMT_SEQ,
       C.AGMT_LSTM_CD,
       C.AGMT_ISS_OFC_CD,
       TO_CHAR(C.CRE_DT, 'yyyy-MM-dd') AS CRE_DT,
	   A.FINC_VNDR_SEQ AS VNDR_SEQ_AGREE,
		(SELECT D.VNDR_LGL_ENG_NM
			FROM MDM_VENDOR D
			WHERE A.FINC_VNDR_SEQ = D.VNDR_SEQ) AS VNDR_LGL_ENG_NM_AGREE
FROM CGM_EQ_LOT A, CGM_EQ_SPEC B, CGM_AGREEMENT C
WHERE A.EQ_KND_CD = @[eq_knd_cd]
AND A.EQ_SPEC_NO = B.EQ_SPEC_NO(+)
AND A.AGMT_OFC_CTY_CD = C.AGMT_OFC_CTY_CD(+)
AND A.AGMT_SEQ = C.AGMT_SEQ(+)
/* AND A.AGMT_VER_NO = C.AGMT_VER_NO */
AND C.LST_VER_FLG(+) ='Y'
AND A.EQ_LOT_NO = @[eq_lot_no_tmp]			]]></sql>
			<params>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="eq_lot_no_tmp" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
