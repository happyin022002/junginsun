<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ScenarioDefaultManageDBDAOMergeYearNewVanPlanCSQL">
			<desc><![CDATA[EQR_NEW_VAN_LONG_TERM 테이블 수정/입력]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_NEW_VAN_LONG_TERM I                                  
USING                                                               
    (                                                                   
    SELECT 
        @[pln_yrmon] AS PLN_YRMON                                           
        ,@[co_cd] AS CO_CD                                               
        ,@[ecc_cd] AS ECC_CD                                              
        ,@[cntr_lstm_cd] AS CNTR_LSTM_CD                                        
        ,@[cntr_tpsz_cd] AS CNTR_TPSZ_CD 								        
        ,@[vndr_cnt_cd] AS VNDR_CNT_CD 								        
        ,@[vndr_seq] AS VNDR_SEQ 									        
        ,@[cntr_de_sts_cd] AS CNTR_DE_STS_CD								        
    FROM DUAL                                                       
    ) M                                                                 
ON                                                                  
    (                                                                   
    I.PLN_YRMON     = M.PLN_YRMON                                
    AND I.CO_CD 		= M.CO_CD                                   
    AND I.ECC_CD        = M.ECC_CD                                  
    AND I.CNTR_LSTM_CD  = M.CNTR_LSTM_CD                            
    AND I.CNTR_TPSZ_CD  = M.CNTR_TPSZ_CD                            
    AND I.VNDR_CNT_CD   = M.VNDR_CNT_CD                             
    AND I.VNDR_SEQ      = M.VNDR_SEQ                                
    AND I.CNTR_DE_STS_CD= M.CNTR_DE_STS_CD                                  
    )                                                                   
WHEN MATCHED THEN                                  			        
    UPDATE                                         			        
    SET I.CNTR_VOL_QTY    = @[cntr_vol_qty],                     			        
    I.UPD_USR_ID      = @[user_id],                     			        
    I.UPD_DT    	  = SYSDATE		           			        
WHEN NOT MATCHED THEN                                               
    INSERT  (                                                               
        I.PLN_YRMON                                                       
        ,I.CO_CD                                                        
        ,I.ECC_CD                                                       
        ,I.CNTR_LSTM_CD                                                 
        ,I.CNTR_TPSZ_CD                                                 
        ,I.VNDR_CNT_CD                                                  
        ,I.VNDR_SEQ                                                     
        ,I.CNTR_DE_STS_CD                                               
        ,I.CNTR_VOL_QTY                                                 
        ,I.VNDR_ABBR_NM                                                 
        ,I.CRE_USR_ID                                                   
        ,I.CRE_DT                                                       
        ,I.UPD_USR_ID                                                   
        ,I.UPD_DT                                                       
    )  VALUES (
        @[pln_yrmon] , 
        @[co_cd] , 
        @[ecc_cd] , 
        @[cntr_lstm_cd] , 
        @[cntr_tpsz_cd] , 
        @[vndr_cnt_cd] , 
        @[vndr_seq] , 
        @[cntr_de_sts_cd] , 
        @[cntr_vol_qty], 
        @[vndr_abbr_nm], 
        @[user_id], 
        SYSDATE, 
        @[user_id],
        SYSDATE
    )			]]></sql>
			<params>
				<param name="pln_yrmon" type="12" value="" out="N"/>
				<param name="co_cd" type="12" value="" out="N"/>
				<param name="ecc_cd" type="12" value="" out="N"/>
				<param name="cntr_lstm_cd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="vndr_cnt_cd" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="cntr_de_sts_cd" type="12" value="" out="N"/>
				<param name="cntr_vol_qty" type="12" value="" out="N"/>
				<param name="user_id" type="12" value="" out="N"/>
				<param name="vndr_abbr_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
