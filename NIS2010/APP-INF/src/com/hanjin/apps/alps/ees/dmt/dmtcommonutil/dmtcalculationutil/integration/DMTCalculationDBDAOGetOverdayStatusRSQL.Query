<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCalculationDBDAOGetOverdayStatusRSQL">
			<desc><![CDATA[GetOverdayStatus]]></desc>
			<sql><![CDATA[
SELECT
#if (${type} == '1') 
		TO_CHAR(NVL(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]), SYSDATE), 'YYYYMMDD') prm_to_date, SUBSTR(@[ftime_end], 1, 8) prm_ftime_end
#elseif (${type} == '2') 
		SUBSTR(@[to_date], 1,	8) prm_to_date, SUBSTR(@[ftime_end], 1, 8) prm_ftime_end
#elseif (${type} == '3') 
		TO_DATE(@[to_date],'YYYYMMDD') - TO_DATE(@[ftime_end],'YYYYMMDD') check_num
#elseif (${type} == '4') 
		TO_DATE(@[to_date],'YYYYMMDD') - TO_DATE(@[ftime_end],'YYYYMMDD') - @[cstop_total rtn_over_day] rtn_over_day
#elseif (${type} == '5')  
		NVL(TO_DATE(@[to_date], 'YYYYMMDD'), TO_DATE(TO_CHAR(NVL(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]), SYSDATE),'YYYYMMDD'), 'YYYYMMDD')) - TO_DATE(@[mt_date],'YYYYMMDD') check_grace
#elseif (${type} == '6')  
		TO_CHAR(TO_DATE(SUBSTR(@[to_date],1,8), 'YYYYMMDD') + DECODE(SIGN(TO_DATE(SUBSTR(@[to_date],1,10), 'YYYYMMDDHH24') - TO_DATE(substr(@[to_date],1,8)||NVL(@[end_hr],'00'), 'YYYYMMDDHH24')),-1,-1,0),'YYYYMMDD') prm_to_date
#end
	FROM	DUAL			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="ftime_end" type="12" value="" out="N"/>
				<param name="to_date" type="12" value="" out="N"/>
				<param name="cstop_total rtn_over_day" type="12" value="" out="N"/>
				<param name="mt_date" type="12" value="" out="N"/>
				<param name="end_hr" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
