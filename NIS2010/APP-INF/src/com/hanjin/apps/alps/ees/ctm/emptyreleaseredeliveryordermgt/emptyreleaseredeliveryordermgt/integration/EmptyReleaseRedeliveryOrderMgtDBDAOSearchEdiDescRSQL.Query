<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="EmptyReleaseRedeliveryOrderMgtDBDAOSearchEdiDescRSQL">
			<desc><![CDATA[EDI에 필요한 각종 Description 정보를 조회한다]]></desc>
			<sql><![CDATA[
SELECT YD.YD_NM MTY_CY_DESC
  	  ,VSL.CALL_SGN_NO VSL_CALL
      ,VSL.VSL_ENG_NM VSL_NAME
      ,POL.LOC_NM POL_DESC
      ,POD.LOC_NM POD_DESC
	  ,ETD.VPS_ETD_DT VVD_ETD
      ,ETA.VPS_ETA_DT VVD_ETA
  FROM (
       SELECT YD_NM
         FROM MDM_YARD
        WHERE YD_CD = @[empty_cy]
       ) YD
	  ,(
       SELECT CALL_SGN_NO
             ,VSL_ENG_NM
         FROM MDM_VSL_CNTR
        WHERE VSL_CD = SUBSTR(@[vvd], 0, 4)
       ) VSL
      ,(
       SELECT LOC_NM
         FROM MDM_LOCATION
        WHERE LOC_CD = @[pol]
       ) POL
      ,(
       SELECT LOC_NM
         FROM MDM_LOCATION
        WHERE LOC_CD = @[pod]
       ) POD
	  ,(
       SELECT TO_CHAR(VPS_ETD_DT, 'YYYYMMDDHHMM') VPS_ETD_DT
         FROM VSK_VSL_PORT_SKD 
        WHERE VSL_CD = SUBSTR('YUNI0031E', 0, 4)
          AND SKD_VOY_NO = SUBSTR('YUNI0031E', 5, 4)
          AND SKD_DIR_CD = SUBSTR('YUNI0031E', 9, 1)
          AND VPS_PORT_CD = 'BEANR'
       ) ETD
      ,(
       SELECT TO_CHAR(VPS_ETA_DT, 'YYYYMMDDHHMM') VPS_ETA_DT
         FROM VSK_VSL_PORT_SKD 
        WHERE VSL_CD = SUBSTR('YUNI0031E', 0, 4)
          AND SKD_VOY_NO = SUBSTR('YUNI0031E', 5, 4)
          AND SKD_DIR_CD = SUBSTR('YUNI0031E', 9, 1)
          AND VPS_PORT_CD = 'CNSHA'
       ) ETA			]]></sql>
			<params>
				<param name="empty_cy" type="12" value="" out="N"/>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="pol" type="12" value="" out="N"/>
				<param name="pod" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
