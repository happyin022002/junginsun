<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CntrSafetyStockManageDBDAOMergeCntrSafetyStockCSQL">
			<desc><![CDATA[EES_EQR_0026 : Safty Stock
	- EQR_SCNR_ECC_SFT_STK  테이블 데이터 수정/입력]]></desc>
			<sql><![CDATA[
MERGE INTO EQR_SCNR_ECC_SFT_STK I
USING
(
    SELECT @[scnr_id] AS SCNR_ID
          ,@[ecc_cd] AS ECC_CD
          ,@[cntr_tpsz_cd] AS CNTR_TPSZ_CD
    FROM DUAL
) M
ON
(
	    I.SCNR_ID     	= M.SCNR_ID
	AND I.ECC_CD 		= M.ECC_CD
	AND I.CNTR_TPSZ_CD  = M.CNTR_TPSZ_CD
)
WHEN MATCHED THEN
    UPDATE
    SET I.UPD_USR_ID	= @[upd_usr_id],
    	I.UPD_DT		= SYSDATE,
    	I.SFSTK_LVL_CD	= @[sfstk_lvl_cd],
    	I.SFSTK_VOL_QTY	= @[sfstk_vol_qty]
WHEN NOT MATCHED THEN
    INSERT
	(
		I.SCNR_ID
       ,I.ECC_CD
       ,I.CNTR_TPSZ_CD
       ,I.SFSTK_LVL_CD
       ,I.SFSTK_VOL_QTY
       ,I.CRE_USR_ID
       ,I.CRE_DT
       ,I.UPD_USR_ID
       ,I.UPD_DT
    )
    VALUES
	(
		 @[scnr_id]
		,@[ecc_cd]
		,@[cntr_tpsz_cd]
		,@[sfstk_lvl_Cd]
		,@[sfstk_vol_qty]
		,@[cre_usr_id]
		,SYSDATE
		,@[upd_usr_id]
		,SYSDATE
	)			]]></sql>
			<params>
				<param name="scnr_id" type="12" value="" out="N"/>
				<param name="ecc_cd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="sfstk_lvl_cd" type="12" value="" out="N"/>
				<param name="sfstk_vol_qty" type="12" value="" out="N"/>
				<param name="sfstk_lvl_Cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
