<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ScenarioManageDBDAOSearchScenarioIDListRSQL">
			<desc><![CDATA[Inquire Scenario ID List
 - EQR_SCNR_MST 조회]]></desc>
			<sql><![CDATA[
SELECT	 SUBSTR(A.SCNR_ID,5,4)||'-'||SUBSTR(A.SCNR_ID,9,2) WEEK
		,A.SCNR_ID
		,A.SCNR_RMK
		,A.UPD_USR_ID
		,TO_CHAR(A.UPD_DT,'YYYY-MM-DD')||' '||TO_CHAR(A.UPD_DT,'HH24:MI')UPD_DT
		,TO_CHAR(A.CRE_DT,'YYYY-MM-DD')||' '||TO_CHAR(A.CRE_DT,'HH24:MI')CRE_DT
		,DECODE (A.REPO_PLN_DTRB_FLG, 'Y', 0, 1) REPO_PLN_DTRB_FLG
		,DECODE (A.REPO_PLN_CRE_FLG, 'Y', 0, 1) REPO
		,DECODE (A.SCNR_AUTO_GEN_FLG, 'Y', 0, 1) AUTO
		,DECODE (A.SCNR_AUTO_GEN_FLG, 'N', 0, 1) MANUAL
FROM	EQR_SCNR_MST A
WHERE	A.DELT_FLG = 'N'
	#if (${scnrsyrwk} != '') 
		AND SUBSTR (A.SCNR_ID, 5, 6) BETWEEN @[scnrsyrwk] AND @[scnreyrwk] 
	#end
	#if (${status} == 'D')
		AND A.REPO_PLN_DTRB_FLG = 'Y'
	#elseif (${status} == 'R')
		AND A.REPO_PLN_CRE_FLG = 'Y'
	#elseif (${status} == 'A')
		AND A.SCNR_AUTO_GEN_FLG = 'Y'
	#elseif (${status} == 'M')
		AND A.SCNR_AUTO_GEN_FLG = 'N'
	#end
	#if (${scnrweek} != '') 
		AND A.SCNR_ID =  '${scnrweek}'
	#end
	#if (${cre_usr_id} != '') 
		AND A.UPD_USR_ID =  '${cre_usr_id}'
	#end
ORDER BY WEEK
		,A.SCNR_ID			]]></sql>
			<params>
				<param name="scnrsyrwk" type="12" value="" out="N"/>
				<param name="scnreyrwk" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
