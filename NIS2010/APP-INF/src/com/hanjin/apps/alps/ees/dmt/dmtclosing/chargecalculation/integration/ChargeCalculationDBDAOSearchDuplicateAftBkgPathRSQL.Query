<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAOSearchDuplicateAftBkgPathRSQL">
			<desc><![CDATA[ChargeCalculationDBDAOSearchDuplicateAftBkgPathRSQL]]></desc>
			<sql><![CDATA[
SELECT CASE WHEN COUNT(1) > 0 THEN 'Y' ELSE 'N' END DUPL_FLG
FROM DMT_AFT_BKG_PATH_OFC_STUP
WHERE DELT_FLG = 'N'
    AND RHQ_CD = @[rhq_cd]
    AND EFF_DT = TO_DATE(@[eff_dt], 'YYYYMMDD') + .0
	AND FM_DC_AMT = TO_NUMBER(@[fm_dc_amt])
#if (${exp_dt} != '')
	AND EXP_DT = TO_DATE(@[exp_dt], 'YYYYMMDD') + 0.99999
#end
#if (${to_dc_amt} != '')
    AND TO_DC_AMT = TO_NUMBER(@[@to_dc_amt])
#end
#if (${ofc_cd} != '')
    AND OFC_CD = @[ofc_cd]
#end
    AND BRNC_OFC_PIC_CHK_FLG = DECODE(@[brnc_ofc_pic_chk_flg], '0', 'N', '1', 'Y')
    AND BRNC_OFC_MGR_APRO_FLG = DECODE(@[brnc_ofc_mgr_apro_flg],  '0', 'N', '1', 'Y')
    AND RHQ_PIC_CHK_FLG = DECODE(@[rhq_pic_chk_flg],   '0', 'N', '1', 'Y')
    AND RHQ_MGR_APRO_FLG = DECODE(@[rhq_mgr_apro_flg],   '0', 'N', '1', 'Y')
    AND HO_PIC_CHK_FLG = DECODE(@[ho_pic_chk_flg],   '0', 'N', '1', 'Y')
    AND HO_MGR_APRO_FLG = DECODE(@[ho_mgr_apro_flg],   '0', 'N', '1', 'Y')
#if(${ibflag}=='U')
	AND AFT_BKG_PATH_STUP_SEQ <> @[aft_bkg_path_stup_seq]
#end			]]></sql>
			<params>
				<param name="rhq_cd" type="12" value="HAMRU" out="N"/>
				<param name="eff_dt" type="12" value="20140101" out="N"/>
				<param name="fm_dc_amt" type="12" value="1" out="N"/>
				<param name="exp_dt" type="12" value="" out="N"/>
				<param name="@to_dc_amt" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="brnc_ofc_pic_chk_flg" type="12" value="1" out="N"/>
				<param name="brnc_ofc_mgr_apro_flg" type="12" value="1" out="N"/>
				<param name="rhq_pic_chk_flg" type="12" value="0" out="N"/>
				<param name="rhq_mgr_apro_flg" type="12" value="0" out="N"/>
				<param name="ho_pic_chk_flg" type="12" value="0" out="N"/>
				<param name="ho_mgr_apro_flg" type="12" value="0" out="N"/>
				<param name="aft_bkg_path_stup_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
