<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AssetsAuditMgtDBDAOSearchEqManufacturePlanListRSQL">
			<desc><![CDATA[HJS 신조 장비 제작  Serial Range를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT 
	   PLN_YR,
       EQ_TP_CD,
       EQ_TPSZ_CD,
	   PLN_SEQ,
       DECODE(EQ_TP_CD,'U',DECODE(CNTR_HNGR_RCK_CD,'O',1,0)) AS CNTR_HNGR_RCK_CD,
       CNTR_FLR_MTRL_CD,
       RF_TP_CD,
       LOT_CNTR_PFX_CD,
       FM_SER_NO,
       '-' AS SER_TMP,
       TO_SER_NO,
       CNTR_QTY,
       CRE_USR_ID,
       CRE_DT,
       UPD_USR_ID,
       UPD_DT
FROM   MST_EQ_MFT_PLN
#if (${pln_yr2} == '') 
WHERE PLN_YR = @[pln_yr]
#elseif (${pln_yr2} != '') 
WHERE PLN_YR BETWEEN @[pln_yr] AND @[pln_yr2]
#end
AND EQ_TP_CD = @[eq_tp_cd]

#if (${eq_tpsz_cd} != '') 
AND EQ_TPSZ_CD = @[eq_tpsz_cd]
#end
#if (${cntr_hngr_rck_cd} != '') 
AND NVL(CNTR_HNGR_RCK_CD,'N') = DECODE(@[cntr_hngr_rck_cd],'Y','O','N')
#end
#if (${cntr_flr_mtrl_cd} != '' && ${cntr_flr_mtrl_cd} != 'All') 
AND CNTR_FLR_MTRL_CD = @[cntr_flr_mtrl_cd]
#end
#if (${rf_tp_cd} != '' && ${rf_tp_cd} != 'All') 
AND RF_TP_CD = @[rf_tp_cd]
#end
ORDER BY PLN_YR,
       EQ_TP_CD,
       EQ_TPSZ_CD,
	   PLN_SEQ			]]></sql>
			<params>
				<param name="pln_yr" type="12" value="" out="N"/>
				<param name="pln_yr2" type="12" value="" out="N"/>
				<param name="eq_tp_cd" type="12" value="" out="N"/>
				<param name="eq_tpsz_cd" type="12" value="" out="N"/>
				<param name="cntr_hngr_rck_cd" type="12" value="" out="N"/>
				<param name="cntr_flr_mtrl_cd" type="12" value="" out="N"/>
				<param name="rf_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
