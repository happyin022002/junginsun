<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WriteOffMgtDBDAOsearchWriteOffNoListDataRSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT C.PRE_WRTF_NO||
       DECODE(LENGTH(C.POST_WRTF_NO),1,'00'||C.POST_WRTF_NO
                                       ,2,'0'||C.POST_WRTF_NO
                                       ,C.POST_WRTF_NO)
       AS WRTF_NO
  FROM (
        SELECT B.PRE_WRTF_NO
             , TO_CHAR(NVL(MAX(TO_NUMBER(SUBSTR(MWRH.WRTF_NO,LENGTH(MWRH.WRTF_NO)-2))),0)+1) AS POST_WRTF_NO
          FROM MNR_WRTF_RQST_HDR MWRH
             , (SELECT @[pre_wrtf_no]||'-'||'W'||'-'||TO_CHAR(SYSDATE,'YYYYMM')||'-' AS PRE_WRTF_NO 
                  FROM DUAL) B
         WHERE MWRH.WRTF_NO LIKE B.PRE_WRTF_NO||'%'
       ) C			]]></sql>
			<params>
				<param name="pre_wrtf_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
