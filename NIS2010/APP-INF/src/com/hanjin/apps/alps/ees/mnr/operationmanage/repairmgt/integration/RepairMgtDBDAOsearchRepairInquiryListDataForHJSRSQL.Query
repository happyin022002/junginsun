<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RepairMgtDBDAOsearchRepairInquiryListDataForHJSRSQL">
			<desc><![CDATA[CHM-201534670 - Repair History 기능 문의
Repair Inquiry LIST SQL을 4개의 화면(EES_MNR_0027, EES_MNR_S027, EES_MNR_0028, EES_MNR_S028)에서 같이 쓰던것을
Repair Inquiry(EES_MNR_0028) 화면만 분리 적용
2015.03.03 박정민
------------------------------------------------------------------------------------------
2015.03.12 박정민
Repair Inquiry 검색시 MNR_ORD_HDR TABLE을 메인으로 검색해서 MNR_RPR_RQST_HDR 테이블 내용을 검색못함
WORK ORDER TYPE : EST인 경우 MNR_RPR_RQST_HDR = MNR_ORD_HDR(+) 조건검색
나머지 TYPE의 경우 MNR_ORD_HDR TABLE만 조회 해서 UNION방식으로 변경]]></desc>
			<sql><![CDATA[
#if(${wo_type} == 'ALL' || ${wo_type} == 'EST')
SELECT   RST.VNDR_SEQ
       , RST.VNDR_NM
       , RST.MNR_WO_TP_CD
       , RST.MNR_WO_TP_NM
       , RST.WO_NO
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.ISS_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS ISS_DT
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.MNR_ORD_SND_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS MNR_ORD_SND_DT
       , RST.INV_NO
       , RST.INV_AMT
       , RST.ORD_HDR_RMK
       , RST.EQ_KND_CD
       , RST.TRSM_MOD_CD
       , RST.MNR_ORD_OFC_CTY_CD
       , RST.MNR_ORD_SEQ
       , RST.COST_CD
       , RST.MNR_WRK_AMT
       , RST.VVD
       , RST.SPR_PRT_SPL_YD_CD
       , RST.COST_CD_NM
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.EST_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS EST_DT
       , RST.CURR_CD
       , RST.N3PTY_FLG
       , RST.TOTAL_AMT
       , RST.MNR_VRFY_TP_CD
       , RST.RQST_EQ_NO
       , RST.RPR_RQST_SEQ
       , RST.RPR_RQST_VER_NO
       , RST.RPR_RQST_LST_VER_FLG
       , RST.EQ_TPSZ_CD
       , RST.RPR_STS_CD
       , RST.RQST_REF_NO
       , RST.COST_OFC_CD
       , RST.AGMT_OFC_CD
       , RST.DMG_FLAG
       , RST.CRE_DT
       , CASE WHEN SIGN(LENGTH(RST.INV_NO)) = 1 THEN 'IP'
              WHEN SIGN(LENGTH(RST.MNR_ORD_SND_DT)) = 1 THEN 'WS'
              WHEN SIGN(LENGTH(RST.ORD_INPUT_DT)) = 1 THEN 'WC'
              WHEN RST.RPR_STS_CD = 'HR' AND RST.COST_OFC_CD = RST.APRO_OFC_CD THEN RST.RPR_STS_CD
              WHEN RST.RPR_STS_CD = 'HR' THEN 'HU'
              WHEN RST.RPR_STS_CD = 'SS' THEN 'HS'
              WHEN RST.RPR_STS_CD = 'SR' THEN 'HR'
              WHEN RST.RPR_STS_CD = 'SC' THEN 'HC'
              ELSE RST.RPR_STS_CD
         END AS STATUS
    #if (${wo_type} == 'EST')
       , MNR_COMMON_PKG.MNR_GET_USR_NM_FNC(RST.EST_CRE_USR_ID) AS CRE_USR_ID
    #else
       , MNR_COMMON_PKG.MNR_GET_USR_NM_FNC(RST.ORD_CRE_USR_ID) AS CRE_USR_ID
    #end
FROM     (
           SELECT   /*+ LEADING(MAH)  USE_NL(MRH MVR MSV MOH)  */
		            NVL(MSV.DMG_FLAG,'N') AS DMG_FLAG
                  , MRH.EQ_KND_CD
                  , MAH.AGMT_OFC_CD
                  , MVR.VNDR_SEQ
                  , MVR.VNDR_LGL_ENG_NM VNDR_NM
                  , MRH.COST_OFC_CD
                  , MRH.CURR_CD
                  , 'EST' MNR_WO_TP_CD
                  , 'Estimate' MNR_WO_TP_NM
                  , MRH.MNR_ORD_OFC_CTY_CD || MRH.MNR_ORD_SEQ AS WO_NO
                  , MOH.UPD_DT ISS_DT
                  , MOH.MNR_ORD_SND_DT MNR_ORD_SND_DT
                  , (
                      SELECT   MAX(MOD.INV_NO)
                      FROM     MNR_ORD_DTL MOD
                      WHERE    1 = 1
                      AND      MOD.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD
                      AND      MOD.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ
                    ) AS INV_NO
                  , (
                      SELECT   SUM(MOD.INV_AMT)
                      FROM     MNR_ORD_DTL MOD
                      WHERE    1 = 1
                      AND      MOD.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD
                      AND      MOD.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ
                    ) INV_AMT
                  , MOH.ORD_HDR_RMK
                  , MOH.TRSM_MOD_CD
                  , MOH.CRE_DT AS ORD_INPUT_DT
                  , MOH.MNR_ORD_OFC_CTY_CD
                  , MOH.MNR_ORD_SEQ
                  , MOH.COST_CD
                  , MOH.MNR_WRK_AMT
                  , (MOH.VSL_CD || MOH.SKD_VOY_NO || MOH.SKD_DIR_CD) AS VVD
                  , MOH.SPR_PRT_SPL_YD_CD
                  , MOH.CRE_USR_ID ORD_CRE_USR_ID
                  , (
                      SELECT   MNR_CD_DESC
                      FROM     MNR_GEN_CD
                      WHERE    1 = 1
                      AND      MNR_CD_ID = MOH.COST_CD
                      AND      ROWNUM = 1
                    ) AS COST_CD_NM
                  , MRH.RQST_DT AS EST_DT
                  , MRH.N3PTY_FLG
                  , (
                      SELECT   SUM(MRD.MNR_WRK_AMT)
                      FROM     MNR_RPR_RQST_DTL MRD
                      WHERE    1 = 1
                      AND      MRD.RQST_EQ_NO = MRH.RQST_EQ_NO
                      AND      MRD.RPR_RQST_SEQ = MRH.RPR_RQST_SEQ
                      AND      MRD.RPR_RQST_VER_NO = MRH.RPR_RQST_VER_NO
                    ) AS TOTAL_AMT
                  , (
                      SELECT   MAX(DECODE(MRD.MNR_VRFY_TP_CD, 'AA', 'SS', MRD.MNR_VRFY_TP_CD))
                      FROM     MNR_RPR_RQST_DTL MRD
                      WHERE    1 = 1
                      AND      MRD.RQST_EQ_NO = MRH.RQST_EQ_NO
                      AND      MRD.RPR_RQST_SEQ = MRH.RPR_RQST_SEQ
                      AND      MRD.RPR_RQST_VER_NO = MRH.RPR_RQST_VER_NO
                    ) AS MNR_VRFY_TP_CD
                  , MRH.RQST_EQ_NO
                  , MRH.RPR_RQST_SEQ
                  , MRH.RPR_RQST_VER_NO
                  , MRH.RPR_RQST_LST_VER_FLG
                  , MRH.EQ_TPSZ_CD
                  , MRH.APRO_OFC_CD
                  , MRH.RPR_STS_CD
                  , MRH.RQST_REF_NO
                  , MRH.CRE_DT
                  , MRH.CRE_USR_ID AS EST_CRE_USR_ID
           FROM     MNR_RPR_RQST_HDR MRH
                  , MDM_VENDOR MVR
                  , MNR_AGMT_HDR MAH
                  , MNR_EQ_STS_V MSV
                  , MNR_ORD_HDR MOH
           WHERE    1 = 1
           AND      MRH.VNDR_SEQ = MVR.VNDR_SEQ(+)
           AND      MRH.AGMT_OFC_CTY_CD = MAH.AGMT_OFC_CTY_CD(+)
           AND      MRH.AGMT_SEQ = MAH.AGMT_SEQ(+)
           AND      MRH.AGMT_VER_NO = MAH.AGMT_VER_NO(+)
           AND      MRH.RQST_EQ_NO = MSV.EQ_NO(+)
           AND      MRH.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD(+)
           AND      MRH.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ(+)
           AND      MRH.RPR_RQST_LST_VER_FLG = 'Y'
    #if (${status_cd} == 'ALL')
           AND RTRIM(MRH.RPR_STS_CD) IN ('HS','HJ','HR','HA','HC','SS','SR','SC')
    #else
        #if (${status_cd} != 'HU' && ${status_cd} != 'WC' && ${status_cd} != 'WS' && ${status_cd} != 'IP')
           AND      RTRIM(MRH.RPR_STS_CD) IN (@[status_cd],'S'||SUBSTR(@[status_cd],2,1))
        #end
    #end

    #if(${rqst_eq_no} != '')
           AND      MRH.RQST_EQ_NO IN (
        #foreach ($user_eq_no IN ${eqNos})
            #if($velocityCount < $eqNos.size())
         '$user_eq_no',
            #else
         '$user_eq_no'
            #end
        #end
                    )
    #end
    
    #if (${wo_no} == '' && ${rqst_eq_no} == '' && ${rqst_ref_no} == '') 	
        #if (${cost_ofc_cd} != '')
           AND      RTRIM(MRH.COST_OFC_CD) IN (
            #foreach ($user_cost_ofc_cd IN ${costOfcCds})
                #if($velocityCount < $costOfcCds.size())
                      '$user_cost_ofc_cd',
                #else
                      '$user_cost_ofc_cd'
                #end
            #end
           )
        #end
           AND      MRH.CRE_DT BETWEEN GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[cur_ofc_cd],TO_DATE(REPLACE(@[fm_est_dt],'-',''), 'yyyymmdd'),MNR_COMMON_PKG.MNR_GET_HOOFC_FNC()) AND GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[cur_ofc_cd],TO_DATE(REPLACE(@[to_est_dt],'-',''), 'yyyymmdd') + 0.99999,MNR_COMMON_PKG.MNR_GET_HOOFC_FNC())
    #end
    
    #if (${wo_no} != '')
           AND      (MRH.MNR_ORD_OFC_CTY_CD, MRH.MNR_ORD_SEQ) IN
                    (
        #foreach ($user_wo_no IN ${woNos})
            #if($velocityCount < $woNos.size())
				(SUBSTR('$user_wo_no', 1, 3), SUBSTR('$user_wo_no', 4)) ,
			#else
				(SUBSTR('$user_wo_no', 1, 3), SUBSTR('$user_wo_no', 4))
			#end
		#end	
                    )
    #end
   
    #if (${tpb_only} == 'Y')
           AND      MRH.N3PTY_FLG = 'Y'
    #end
    #if (${vndr_seq} != '')
           AND MRH.VNDR_SEQ = TO_NUMBER(@[vndr_seq])
    #end
    #if (${eq_knd_cd} != 'ALL')
           AND MRH.EQ_KND_CD = @[eq_knd_cd]
    #end
    #if (${rqst_ref_no} != '')
           AND MRH.RQST_REF_NO IN (
        #foreach ($user_ref_no IN ${rqstRefNos})
            #if($velocityCount < $rqstRefNos.size())
	     '$user_ref_no',
            #else
	     '$user_ref_no'
            #end
        #end
   		   )
    #end
         ) RST
WHERE    1 = 1

    #if (${status_cd} == 'IP')
AND      RST.INV_NO IS NOT NULL
    #elseif (${status_cd} == 'WS')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NOT NULL
    #elseif (${status_cd} == 'WC')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NOT NULL
    #elseif (${status_cd} == 'HS' || ${status_cd} == 'HR' || ${status_cd} == 'HJ' || ${status_cd} == 'HC' || ${status_cd} == 'HA' || ${status_cd} == 'SS' || ${status_cd} == 'SR')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NULL
AND      RST.MNR_ORD_OFC_CTY_CD IS NULL
    #elseif (${status_cd} == 'HU')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NULL
AND      RST.MNR_ORD_OFC_CTY_CD IS NULL
AND      RST.RPR_STS_CD = 'HR'
AND      RST.COST_OFC_CD <> RST.APRO_OFC_CD
    #end
#end

#if(${wo_type} == 'ALL')
UNION ALL
#end
#if(${wo_type} == 'ALL' || ${wo_type} != 'EST')
SELECT   RST.VNDR_SEQ
       , RST.VNDR_NM
       , RST.MNR_WO_TP_CD
       , RST.MNR_WO_TP_NM
       , RST.WO_NO
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.ISS_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS ISS_DT
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.MNR_ORD_SND_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS MNR_ORD_SND_DT
       , RST.INV_NO
       , RST.INV_AMT
       , RST.ORD_HDR_RMK
       , RST.EQ_KND_CD
       , RST.TRSM_MOD_CD
       , RST.MNR_ORD_OFC_CTY_CD
       , RST.MNR_ORD_SEQ
       , RST.COST_CD
       , RST.MNR_WRK_AMT
       , RST.VVD
       , RST.SPR_PRT_SPL_YD_CD
       , RST.COST_CD_NM
       , TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(),RST.EST_DT,@[cur_ofc_cd]),'YYYY-MM-DD') AS EST_DT
       , RST.CURR_CD
       , RST.N3PTY_FLG
       , RST.TOTAL_AMT
       , RST.MNR_VRFY_TP_CD
       , RST.RQST_EQ_NO
       , RST.RPR_RQST_SEQ
       , RST.RPR_RQST_VER_NO
       , RST.RPR_RQST_LST_VER_FLG
       , RST.EQ_TPSZ_CD
       , RST.RPR_STS_CD
       , RST.RQST_REF_NO
       , RST.COST_OFC_CD
       , RST.AGMT_OFC_CD
       , RST.DMG_FLAG
       , RST.CRE_DT
       , CASE WHEN SIGN(LENGTH(RST.INV_NO)) = 1 THEN 'IP'
              WHEN SIGN(LENGTH(RST.MNR_ORD_SND_DT)) = 1 THEN 'WS'
              WHEN SIGN(LENGTH(RST.ORD_INPUT_DT)) = 1 THEN 'WC'
              WHEN RST.RPR_STS_CD = 'HR' AND RST.COST_OFC_CD = RST.APRO_OFC_CD THEN RST.RPR_STS_CD
              WHEN RST.RPR_STS_CD = 'HR' THEN 'HU'
              WHEN RST.RPR_STS_CD = 'SS' THEN 'HS'
              WHEN RST.RPR_STS_CD = 'SR' THEN 'HR'
              WHEN RST.RPR_STS_CD = 'SC' THEN 'HC'
              ELSE RST.RPR_STS_CD
         END AS STATUS
    #if (${wo_type} == 'EST')
       , MNR_COMMON_PKG.MNR_GET_USR_NM_FNC(RST.EST_CRE_USR_ID) AS CRE_USR_ID
    #else
       , MNR_COMMON_PKG.MNR_GET_USR_NM_FNC(RST.ORD_CRE_USR_ID) AS CRE_USR_ID
    #end
FROM     (
           SELECT   'N' AS DMG_FLAG
                  , MOH.EQ_KND_CD
                  , '' AS AGMT_OFC_CD
                  , MOH.VNDR_SEQ
                  , MOH.COST_OFC_CD
                  , MOH.CURR_CD
                  , (SELECT MV.VNDR_LGL_ENG_NM FROM MDM_VENDOR MV WHERE MOH.VNDR_SEQ = MV.VNDR_SEQ AND ROWNUM = 1) AS VNDR_NM
                  , MOH.MNR_WO_TP_CD
                  , (
                      SELECT   A.MNR_CD_DP_DESC
                      FROM     MNR_GEN_CD A
                      WHERE    1 = 1
                      AND      A.PRNT_CD_ID = 'CD00020'
                      AND      MNR_CD_ID = NVL(MOH.MNR_WO_TP_CD, 'EST')
                    ) AS MNR_WO_TP_NM
                  , MOH.MNR_ORD_OFC_CTY_CD || MOH.MNR_ORD_SEQ AS WO_NO
                  , MOH.UPD_DT AS ISS_DT
                  , MOH.MNR_ORD_SND_DT AS MNR_ORD_SND_DT
                  , (
                      SELECT   MAX(MOD.INV_NO)
                      FROM     MNR_ORD_DTL MOD
                      WHERE    1 = 1
                      AND      MOD.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD
                      AND      MOD.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ
                    ) AS INV_NO
                  , (
                      SELECT   SUM(MOD.INV_AMT)
                      FROM     MNR_ORD_DTL MOD
                      WHERE    1 = 1
                      AND      MOD.MNR_ORD_OFC_CTY_CD = MOH.MNR_ORD_OFC_CTY_CD
                      AND      MOD.MNR_ORD_SEQ = MOH.MNR_ORD_SEQ
                    ) AS INV_AMT
                  , MOH.ORD_HDR_RMK
                  , MOH.TRSM_MOD_CD
                  , MOH.CRE_DT AS ORD_INPUT_DT
                  , MOH.MNR_ORD_OFC_CTY_CD
                  , MOH.MNR_ORD_SEQ
                  , MOH.COST_CD
                  , MOH.MNR_WRK_AMT
                  , (MOH.VSL_CD || MOH.SKD_VOY_NO || MOH.SKD_DIR_CD) AS VVD
                  , MOH.SPR_PRT_SPL_YD_CD
                  , MOH.CRE_USR_ID AS ORD_CRE_USR_ID
                  , (
                      SELECT   MNR_CD_DESC
                      FROM     MNR_GEN_CD
                      WHERE    1 = 1
                      AND      MNR_CD_ID = MOH.COST_CD
                      AND      ROWNUM = 1
                    ) AS COST_CD_NM
                  , NULL AS EST_DT
                  , NULL N3PTY_FLG
                  , 0 TOTAL_AMT
                  , NULL MNR_VRFY_TP_CD
                  , NULL RQST_EQ_NO
                  , NULL RPR_RQST_SEQ
                  , NULL RPR_RQST_VER_NO
                  , NULL RPR_RQST_LST_VER_FLG
                  , NULL EQ_TPSZ_CD
                  , NULL APRO_OFC_CD
                  , NULL RPR_STS_CD
                  , NULL RQST_REF_NO
                  , MOH.CRE_DT
                  , NULL EST_CRE_USR_ID
           FROM     MNR_ORD_HDR MOH
           WHERE    1 = 1  
           AND      MOH.MNR_WO_TP_CD IN ('SPL', 'EXT', 'RFS')
    #if (${rqst_ref_no} != '')
           AND      1 = 2
    #end
    #if (${wo_no} == '' && ${rqst_eq_no} == '' && ${rqst_ref_no} == '') 	
        #if (${cost_ofc_cd} != '')	
           AND      RTRIM(MOH.COST_OFC_CD) IN (
            #foreach ($user_cost_ofc_cd IN ${costOfcCds})
                #if($velocityCount < $costOfcCds.size())
								'$user_cost_ofc_cd',
                #else
								'$user_cost_ofc_cd'
                #end
            #end
                    )
        #end
        #if (${fm_est_dt} != '' && ${to_est_dt} != '')
           AND      MOH.CRE_DT BETWEEN GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[cur_ofc_cd],TO_DATE(REPLACE(@[fm_est_dt],'-',''), 'yyyymmdd'),MNR_COMMON_PKG.MNR_GET_HOOFC_FNC()) AND GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[cur_ofc_cd],TO_DATE(REPLACE(@[to_est_dt],'-',''), 'yyyymmdd') + 0.99999,MNR_COMMON_PKG.MNR_GET_HOOFC_FNC())
        #end
    #end	
    #if (${vndr_seq} != '')
           AND      RTRIM(MOH.VNDR_SEQ) = TO_NUMBER(@[vndr_seq])
    #end
    #if (${eq_knd_cd} != 'ALL')
           AND      MOH.EQ_KND_CD = @[eq_knd_cd]
    #end
    #if (${rqst_eq_no} != '')
           AND      EXISTS
                    (
                      SELECT   'X'
                      FROM     MNR_ORD_DTL MODTL
                      WHERE    1 = 1
                      AND      MOH.MNR_ORD_SEQ = MODTL.MNR_ORD_SEQ
                      AND      MOH.MNR_ORD_OFC_CTY_CD = MODTL.MNR_ORD_OFC_CTY_CD
                      AND      MODTL.EQ_NO IN
                               (
        #foreach ($user_eq_no IN ${eqNos})
            #if($velocityCount < $eqNos.size())
						'$user_eq_no',
            #else
						'$user_eq_no'
            #end
        #end
                               )
                    )
    #end
    #if (${wo_no} != '')
		   AND      ( MOH.MNR_ORD_OFC_CTY_CD, MOH.MNR_ORD_SEQ ) IN
		            ( 
        #foreach ($user_wo_no IN ${woNos})
            #if($velocityCount < $woNos.size())
                      (SUBSTR('$user_wo_no', 1, 3), SUBSTR('$user_wo_no', 4)),
            #else
                      (SUBSTR('$user_wo_no', 1, 3), SUBSTR('$user_wo_no', 4))
            #end
        #end	
		            )
    #end
    #if (${wo_type} != '' && ${wo_type} != 'ALL')
		   AND      RTRIM(MOH.MNR_WO_TP_CD) = @[wo_type]
    #end
         ) RST
WHERE    1 = 1
    #if (${status_cd} == 'IP')
AND      RST.INV_NO IS NOT NULL
    #elseif (${status_cd} == 'WS')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NOT NULL
    #elseif (${status_cd} == 'WC')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NOT NULL
    #elseif (${status_cd} == 'HS' || ${status_cd} == 'HR' || ${status_cd} == 'HJ' || ${status_cd} == 'HC' || ${status_cd} == 'HA' || ${status_cd} == 'SS' || ${status_cd} == 'SR')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NULL
AND      RST.MNR_ORD_OFC_CTY_CD IS NULL
    #elseif (${status_cd} == 'HU')
AND      RST.INV_NO IS NULL
AND      RST.MNR_ORD_SND_DT IS NULL
AND      RST.ORD_INPUT_DT IS NULL
AND      RST.MNR_ORD_OFC_CTY_CD IS NULL
AND      RST.RPR_STS_CD = 'HR'
AND      RST.COST_OFC_CD <> RST.APRO_OFC_CD
    #end
#end			]]></sql>
			<params>
				<param name="cur_ofc_cd" type="12" value="" out="N"/>
				<param name="status_cd" type="12" value="" out="N"/>
				<param name="fm_est_dt" type="12" value="" out="N"/>
				<param name="to_est_dt" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="eq_knd_cd" type="12" value="" out="N"/>
				<param name="wo_type" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
