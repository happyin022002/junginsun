<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RepairMgtDBDAOsearchWONoInquiryListDataRSQL">
			<desc><![CDATA[searchWONoInquiryListData select]]></desc>
			<sql><![CDATA[
SELECT
   A.MNR_WO_TP_CD AS MNR_GRP_TP_CD 
#if (${currofccd} != '') 
,   GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(), A.MNR_ORD_SND_DT, @[currofccd])  AS SendDt
#else
,   A.MNR_ORD_SND_DT  AS SendDt
#end
,  CONCAT(A.MNR_ORD_OFC_CTY_CD, A.MNR_ORD_SEQ) AS WONo
, (SELECT VNDR_LGL_ENG_NM FROM MDM_VENDOR WHERE VNDR_SEQ = A.VNDR_SEQ AND ROWNUM=1) AS VNDR_LGL_ENG_NM
,  MNR_COMMON_PKG.MNR_CONV_AGMT_NO_FNC(A.AGMT_OFC_CTY_CD, A.AGMT_SEQ) AS AGMT_SEQ
,  (SELECT MNR_CD_DESC FROM MNR_GEN_CD WHERE PRNT_CD_ID= 'CD00016' AND MNR_CD_ID=A.TRSM_MOD_CD AND ROWNUM=1) AS TRSM_MOD_NM
,  GLOBALDATE_PKG.TIME_CONV_OFC_FNC(MNR_COMMON_PKG.MNR_GET_HOOFC_FNC(), A.CRE_DT,@[currofccd]) AS CRE_DT
,  A.MNR_WRK_AMT
,  MNR_COMMON_PKG.MNR_CONV_PARTNER_CD_FNC(A.VNDR_SEQ) AS VNDR_SEQ
,  A.EQ_KND_CD
FROM MNR_ORD_HDR A
where 1=1
#if (${wotype} != '%') 
AND RTRIM(A.MNR_WO_TP_CD) = @[wotype]
#end
#if (${eqtype} != '%') 
AND A.EQ_KND_CD =  @[eqtype]
#end
AND A.CRE_DT BETWEEN GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[currofccd],TO_DATE(@[fromcal], 'YYYY-MM-DD'),MNR_COMMON_PKG.MNR_GET_HOOFC_FNC()) AND GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[currofccd],TO_DATE(@[tocal], 'YYYY-MM-DD'),MNR_COMMON_PKG.MNR_GET_HOOFC_FNC())+0.99999
#if (${currofccd} != '') 
AND RTRIM(A.COST_OFC_CD) = @[currofccd]
#end			]]></sql>
			<params>
				<param name="currofccd" type="12" value="" out="N"/>
				<param name="wotype" type="12" value="" out="N"/>
				<param name="eqtype" type="12" value="" out="N"/>
				<param name="fromcal" type="12" value="" out="N"/>
				<param name="tocal" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
