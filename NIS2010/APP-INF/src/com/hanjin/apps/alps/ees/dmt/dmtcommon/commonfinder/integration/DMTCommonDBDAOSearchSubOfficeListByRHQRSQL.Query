<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DMTCommonDBDAOSearchSubOfficeListByRHQRSQL">
			<desc><![CDATA[DMTCommonDBDAOSearchSubOfficeListByRHQRSQL]]></desc>
			<sql><![CDATA[
SELECT  T1.OFC_CD
       ,T1.OFC_ENG_NM
  FROM  MDM_ORGANIZATION T1
 WHERE  T1.DELT_FLG = 'N'
-- 3101(OFC Transfer) 화면에서 RHQ 포함 목록 보이기 위해 조건 추가
#if (${jspno} == '' || ${jspno}!='3101')
   AND  T1.OFC_CD <> @[rhq_ofc_cd]
#end
   AND  EXISTS
		(
			SELECT  1 
			  FROM  MDM_YARD
			 WHERE  DMDT_OFC_CD = T1.OFC_CD
			   AND  DELT_FLG = 'N'
		)
START WITH T1.OFC_CD = @[rhq_ofc_cd]
CONNECT BY PRIOR T1.OFC_CD = T1.PRNT_OFC_CD
ORDER BY T1.OFC_CD			]]></sql>
			<params>
				<param name="rhq_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
