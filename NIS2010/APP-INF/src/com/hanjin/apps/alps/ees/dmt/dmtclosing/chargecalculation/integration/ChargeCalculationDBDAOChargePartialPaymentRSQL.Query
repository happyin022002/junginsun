<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChargeCalculationDBDAOChargePartialPaymentRSQL">
			<desc><![CDATA[ChargeCalculationDBDAOChargePartialPaymentRSQL.Query]]></desc>
			<sql><![CDATA[
SELECT   B.BKG_NO
		,B.BL_NO
        ,B.VSL_CD
        ,B.SKD_VOY_NO
        ,B.SKD_DIR_CD          
        ,C.CUST_CNT_CD
        ,C.CUST_SEQ
        ,C.ACT_CNT_CD    
        ,C.ACT_CUST_SEQ
        ,SUBSTR(@[dmdt_trf_cd], 3, 1) AS IO_BND_CD
        ,@[fm_mvmt_dt] || TO_CHAR(C.FM_MVMT_DT, 'HH24MI') AS FM_MVMT_DT
	    ,@[to_mvmt_dt] || DECODE(NVL(@[to_mvmt_dt],'N'),'N','',NVL(@[to_mvmt_dt_time],'0001')) AS TO_MVMT_DT
        ,NVL(C.OFC_TRNS_FLG, 'N') OFC_TRNS_FLG
        ,C.WEB_IND_FLG
FROM    DMT_CHG_BKG_CNTR    B
       ,DMT_CHG_CALC        C
WHERE 	C.SYS_AREA_GRP_ID	= @[svr_id]
AND		C.CNTR_NO			= @[cntr_no]
AND		C.CNTR_CYC_NO		= @[cntr_cyc_no]
AND		C.DMDT_TRF_CD		= @[dmdt_trf_cd]
AND		C.DMDT_CHG_LOC_DIV_CD = @[dmdt_chg_loc_div_cd]
AND		C.CHG_SEQ			= @[chg_seq]
AND		B.SYS_AREA_GRP_ID	= C.SYS_AREA_GRP_ID  
AND		B.CNTR_NO           = C.CNTR_NO
AND		B.CNTR_CYC_NO       = C.CNTR_CYC_NO			]]></sql>
			<params>
				<param name="dmdt_trf_cd" type="12" value="" out="N"/>
				<param name="fm_mvmt_dt" type="12" value="" out="N"/>
				<param name="to_mvmt_dt" type="12" value="" out="N"/>
				<param name="to_mvmt_dt_time" type="12" value="" out="N"/>
				<param name="svr_id" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="cntr_cyc_no" type="12" value="" out="N"/>
				<param name="dmdt_chg_loc_div_cd" type="12" value="" out="N"/>
				<param name="chg_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
