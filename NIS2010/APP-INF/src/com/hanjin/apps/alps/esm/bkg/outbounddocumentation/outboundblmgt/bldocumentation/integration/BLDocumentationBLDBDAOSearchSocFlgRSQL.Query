<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationBLDBDAOSearchSocFlgRSQL">
			<desc><![CDATA[SOC FLAG를 조회 한다.]]></desc>
			<sql><![CDATA[
#if (${ca_flg} == 'Y')
SELECT 'Y' as SOC_FLG  
FROM BKG_BKG_HIS BK 
WHERE 1=1
AND BK.BKG_NO = @[bkg_no] 
AND BK.CORR_NO = 'TMP0000001'
AND 'Y' = (SELECT MIN(SOC_FLG) FROM BKG_QTY_DTL_HIS WHERE BKG_NO = BK.BKG_NO AND BK.CORR_NO = 'TMP0000001')
#else
SELECT 'Y' as SOC_FLG  
FROM BKG_BOOKING BK 
WHERE 1=1
AND BK.BKG_NO = @[bkg_no] 
AND 'Y' = (SELECT MIN(SOC_FLG) FROM BKG_QTY_DTL WHERE BKG_NO = BK.BKG_NO)
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
