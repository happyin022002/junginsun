<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingMasterMgtDBDAOSearchChargeCodeRSQL">
			<desc><![CDATA[booking에서 사용되는  MDM Charge Code를 조회한다]]></desc>
			<sql><![CDATA[
SELECT 
 (SELECT COUNT(*) FROM MDM_CHARGE WHERE DELT_FLG = 'N'
   #if (${chg_cd} != '') 
   AND CHG_CD LIKE UPPER(@[chg_cd])||'%' 
  #end
  #if (${chg_nm} != '') 
   AND CHG_NM  LIKE UPPER(@[chg_nm])||'%' 
  #end ) totcnt,
 m.*
 FROM (  
  SELECT 
  ROWNUM RN
  ,CHG_CD
  ,CHG_NM
  FROM MDM_CHARGE
  WHERE DELT_FLG = 'N'
  #if (${chg_cd} != '') 
   AND CHG_CD LIKE '%'||UPPER(@[chg_cd])||'%' 
  #end
  #if (${chg_nm} != '') 
   AND CHG_NM  LIKE '%'||UPPER(@[chg_nm])||'%' 
  #end
  AND ROWNUM <= @[ipage] * @[onepagerows]
  ORDER BY 2 
 ) m
WHERE RN > @[ipage] * @[onepagerows] - @[onepagerows]			]]></sql>
			<params>
				<param name="chg_cd" type="12" value="" out="N"/>
				<param name="chg_nm" type="12" value="" out="N"/>
				<param name="ipage" type="12" value="" out="N"/>
				<param name="onepagerows" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
