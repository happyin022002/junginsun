<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BlRatingDBDAOModifyChgRateUSQL">
			<desc><![CDATA[BKG_CHG_RT Data에 해당하는 정보를 수정한다]]></desc>
			<sql><![CDATA[
#if (${caflag} == 'Y') 
UPDATE 
	BKG_CHG_RT_HIS 
SET    
	CHG_CD            = @[chg_cd],
    DP_SEQ = (SELECT A.DP_SEQ FROM MDM_CHARGE A WHERE A.CHG_CD=@[chg_cd] AND DELT_FLG='N'),
	TRF_ITM_NO        = @[trf_itm_no],
	CURR_CD           = @[curr_cd],
	CHG_UT_AMT        = @[chg_ut_amt],
	RAT_AS_QTY        = @[rat_as_qty],
	RAT_UT_CD         = @[rat_ut_cd],
	CHG_AMT           = @[chg_amt],
	FRT_INCL_XCLD_DIV_CD = @[incl_oft_flg],
	FRT_TERM_CD       = @[frt_term_cd],
	N3PTY_RCV_OFC_CD  = @[n3pty_rcv_ofc_cd],
	N3PTY_CUST_CNT_CD = @[n3pty_cust_cnt_cd],
	N3PTY_CUST_SEQ    = @[n3pty_cust_seq],
	CGO_CATE_CD       = @[cgo_cate_cd],
	SOC_FLG           = @[soc_flg],
	RCV_TERM_CD       = @[rcv_term_cd],
	DE_TERM_CD        = @[de_term_cd],
	IMDG_CLSS_CD      = @[imdg_clss_cd],
	AUTO_RAT_CD       = @[auto_rat_cd],
	#if (${prn_hdn_flg} == '1') 
	PRN_HDN_FLG       = 'Y',
	#else 
	PRN_HDN_FLG       = 'N',
	#end
	NOTE_RT_SEQ		= @[note_rt_seq],
	PROP_NO			= @[prop_no],
	AMDT_SEQ		= @[amdt_seq],
	SVC_SCP_CD			= @[svc_scp_cd],
	GEN_SPCL_RT_TP_CD	= @[gen_spcl_rt_tp_cd],
	CMDT_HDR_SEQ		= @[cmdt_hdr_seq],
	ROUT_SEQ		= @[rout_seq],
	FX_RT_FLG		= @[fx_rt_flg],
	UPD_USR_ID        = @[upd_usr_id],
	UPD_DT            = sysdate
WHERE  
	BKG_NO            = @[bkg_no]
	AND    RT_SEQ     = @[rt_seq]
	AND    CORR_NO = 'TMP0000001'
#else 
UPDATE 
	BKG_CHG_RT 
SET    
	CHG_CD            = @[chg_cd],
    DP_SEQ = (SELECT A.DP_SEQ FROM MDM_CHARGE A WHERE A.CHG_CD=@[chg_cd] AND DELT_FLG='N'),
	TRF_ITM_NO        = @[trf_itm_no],
	CURR_CD           = @[curr_cd],
	CHG_UT_AMT        = @[chg_ut_amt],
	RAT_AS_QTY        = @[rat_as_qty],
	RAT_UT_CD         = @[rat_ut_cd],
	CHG_AMT           = @[chg_amt],
	FRT_INCL_XCLD_DIV_CD      = @[incl_oft_flg],
	FRT_TERM_CD       = @[frt_term_cd],
	N3PTY_RCV_OFC_CD  = @[n3pty_rcv_ofc_cd],
	N3PTY_CUST_CNT_CD = @[n3pty_cust_cnt_cd],
	N3PTY_CUST_SEQ    = @[n3pty_cust_seq],
	CGO_CATE_CD       = @[cgo_cate_cd],
	SOC_FLG           = @[soc_flg],
	RCV_TERM_CD       = @[rcv_term_cd],
	DE_TERM_CD        = @[de_term_cd],
	IMDG_CLSS_CD      = @[imdg_clss_cd],
	AUTO_RAT_CD       = @[auto_rat_cd],
	#if (${prn_hdn_flg} == '1') 
	PRN_HDN_FLG       = 'Y',
	#else 
	PRN_HDN_FLG       = 'N',
	#end
	NOTE_RT_SEQ		= @[note_rt_seq],
	PROP_NO			= @[prop_no],
	AMDT_SEQ		= @[amdt_seq],
	SVC_SCP_CD		= @[svc_scp_cd],
	GEN_SPCL_RT_TP_CD	= @[gen_spcl_rt_tp_cd],
	CMDT_HDR_SEQ		= @[cmdt_hdr_seq],
	ROUT_SEQ		= @[rout_seq],
	FX_RT_FLG		= @[fx_rt_flg],
	UPD_USR_ID        = @[upd_usr_id],
	UPD_DT            = sysdate
WHERE  
	BKG_NO            = @[bkg_no]
	AND    RT_SEQ     = @[rt_seq]
#end			]]></sql>
			<params>
				<param name="chg_cd" type="12" value="" out="N"/>
				<param name="trf_itm_no" type="12" value="" out="N"/>
				<param name="curr_cd" type="12" value="" out="N"/>
				<param name="chg_ut_amt" type="12" value="" out="N"/>
				<param name="rat_as_qty" type="12" value="" out="N"/>
				<param name="rat_ut_cd" type="12" value="" out="N"/>
				<param name="chg_amt" type="12" value="" out="N"/>
				<param name="incl_oft_flg" type="12" value="" out="N"/>
				<param name="frt_term_cd" type="12" value="" out="N"/>
				<param name="n3pty_rcv_ofc_cd" type="12" value="" out="N"/>
				<param name="n3pty_cust_cnt_cd" type="12" value="" out="N"/>
				<param name="n3pty_cust_seq" type="12" value="" out="N"/>
				<param name="cgo_cate_cd" type="12" value="" out="N"/>
				<param name="soc_flg" type="12" value="" out="N"/>
				<param name="rcv_term_cd" type="12" value="" out="N"/>
				<param name="de_term_cd" type="12" value="" out="N"/>
				<param name="imdg_clss_cd" type="12" value="" out="N"/>
				<param name="auto_rat_cd" type="12" value="" out="N"/>
				<param name="note_rt_seq" type="12" value="" out="N"/>
				<param name="prop_no" type="12" value="" out="N"/>
				<param name="amdt_seq" type="12" value="" out="N"/>
				<param name="svc_scp_cd" type="12" value="" out="N"/>
				<param name="gen_spcl_rt_tp_cd" type="12" value="" out="N"/>
				<param name="cmdt_hdr_seq" type="12" value="" out="N"/>
				<param name="rout_seq" type="12" value="" out="N"/>
				<param name="fx_rt_flg" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="rt_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
