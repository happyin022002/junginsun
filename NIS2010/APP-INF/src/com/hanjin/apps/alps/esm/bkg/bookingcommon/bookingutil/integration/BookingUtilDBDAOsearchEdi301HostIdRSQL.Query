<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingUtilDBDAOsearchEdi301HostIdRSQL">
			<desc><![CDATA[searchEdi301HostId]]></desc>
			<sql><![CDATA[
#if (${sndr_tp_cd} == 'CUST') 
    SELECT mchn_trd_prnr_id HOST_TP_ID
      FROM bkg_edi_grp
     WHERE cust_trd_prnr_id  = @[rcv_id]
       AND esvc_grp_delt_flg = 'N'
       AND rownum            = 1
#else
    SELECT SNDR_TRD_PRNR_ID HOST_TP_ID
      FROM BKG_EDI_TRD_PRNR_SUB_LNK EY
			, BKG_EDI_SUB_LNK_MSG MSG
     WHERE EY.TRD_PRNR_SUB_LNK_SEQ = MSG.TRD_PRNR_SUB_LNK_SEQ
       AND EY.RCVR_TRD_PRNR_ID = @[rcv_id]
       AND EDI_MSG_TP_ID <> 'COPRAR'
       AND MSG_TP_DESC   = '1'
       AND rownum        = 1
#end			]]></sql>
			<params>
				<param name="rcv_id" type="12" value="TRAPACI " out="N"/>
			</params>
		</query>
	</querys>
</sqls>
