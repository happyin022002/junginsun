<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOSearchEdiSeanaccsBlInfoByTransRSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT RPAD(DECODE(NVL(BKGM.BL_NO,' '),' ',' ','SMLM'||BKGM.BL_NO),35,' ')||CHR(13)||CHR(10)||
       RPAD(NVL(NVL(BDO.JP_DO_ID, BDO.DO_NO),' '),10,' ')||CHR(13)||CHR(10)||                																																																																													
       RPAD(NVL(NVL(DREF.CY_OP_CD,BJBL.CY_OPR_ID),' '),5,' ')||CHR(13)||CHR(10)||             																																																																													
       DECODE( NVL(DREF.INFO_CGO_FLG,' '), 'N',' ','Y')||CHR(13)||CHR(10)																																																																													
FROM ( SELECT BKG_NO
             ,RLSE_SEQ
       FROM BKG_JP_DO_IF
       WHERE JP_DO_GRP_NO =  @[grp_no] -- 전송 대상 그룹핑으로 묶인 B/L
       AND   JP_DO_SND_STS_CD = 'T'
) SUB_MAIN
, BKG_BOOKING     BKGM
, BKG_DO          BDO
, BKG_DO_REF      DREF
, BKG_CSTMS_JP_BL BJBL
WHERE SUB_MAIN.BKG_NO = BKGM.BKG_NO
AND BDO.BKG_NO        = SUB_MAIN.BKG_NO
AND BDO.RLSE_SEQ      = SUB_MAIN.RLSE_SEQ
AND DREF.BKG_NO(+)    = BDO.BKG_NO  
AND BJBL.BL_NO(+)     = BKGM.BL_NO			]]></sql>
			<params>
				<param name="grp_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
