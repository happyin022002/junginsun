<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AGTCustomerAgreementInfoDBDAOAgtScsAgmtRtVOCSQL">
			<desc><![CDATA[[ESM_AGT_0057]Brokerage Agreement Rate Creation]]></desc>
			<sql><![CDATA[
INSERT
      INTO AGT_CMPN_AGMT_RT
         (
           AR_OFC_CD,
           CMPN_CNT_CD,
           CUST_SEQ,
           CMPN_RT_SEQ,
           SHPR_CNT_CD,
           SHPR_SEQ,
           POR_GRP_TP_CD,
           POR_ROUT_CD,
           POL_GRP_TP_CD,
           POL_ROUT_CD,
           POD_GRP_TP_CD,
           POD_ROUT_CD,
           FM_EFF_DT,
           TO_EFF_DT,
           SC_NO,
           RFA_NO,
           CMDT_TP_CD,
           CMDT_CD,
           CMPN_DIV_CD,
           CMPN_TP_CD,
           CMPN_BKG_RT,
           CMPN_BX_RT,
           CMPN_TEU_RT,
           CMPN_FEU_RT,
           CMPN_RF_RT,
		   CMPN_RF_TEU_RT,
		   CMPN_RF_FEU_RT,
           CMPN_CHG_CTNT,
           CMPN_KND_CD,
           INTER_MDAL_FLG,
           CRE_USR_ID,
           UPD_USR_ID,
           CRE_DT,
           UPD_DT )
    SELECT
           @[ar_ofc_cd]                     AS AR_OFC_CD,
           @[brog_cnt_cd]                   AS CMPN_CNT_CD,
           @[brog_cust_seq]                 AS CUST_SEQ,
         (     SELECT
                      NVL(MAX(CMPN_RT_SEQ),0) + 1
                 FROM AGT_CMPN_AGMT_RT
                WHERE CMPN_CNT_CD   = @[brog_cnt_cd]
	              AND CUST_SEQ = @[brog_cust_seq]
         )                                  AS CMPN_RT_SEQ,
           @[shpr_cnt_cd]                   AS SHPR_CNT_CD,
           @[shpr_seq]                      AS SHPR_SEQ,
           @[por_grp_tp_cd]                 AS POR_GRP_TP_CD,
           NVL(@[por_rout_cd],'*')          AS POR_ROUT_CD,
           @[pol_grp_tp_cd]                 AS POL_GRP_TP_CD,
           NVL(@[pol_rout_cd],'*')          AS POL_ROUT_CD,
           @[pod_grp_tp_cd]                 AS POD_GRP_TP_CD,
           NVL(@[pod_rout_cd],'*')          AS POD_ROUT_CD,
      CASE @[fm_eff_dt]
      WHEN ''
      THEN '20000101'
      ELSE @[fm_eff_dt]
       END                                  AS FM_EFF_DT,
      CASE @[to_eff_dt]
      WHEN ''
      THEN '29991231'
      ELSE @[to_eff_dt]
       END                                  AS TO_EFF_DT,
           NVL(@[sc_no],'*')                AS SC_NO,
           NVL(@[rfa_no],'*')               AS RFA_NO,
           NVL(@[cmdt_tp_cd],'*')           AS CMDT_TP_CD,
           DECODE(@[cmdt_tp_cd],'*','*',NVL(@[cmdt_cd],'*'))AS CMDT_CD,
           @[brog_div_cd]                   AS CMPN_DIV_CD,
           @[brog_tp_cd]                    AS CMPN_TP_CD,
           @[bkg_brog_rt]                   AS CMPN_BKG_RT,
           @[brog_bx_rt]                    AS CMPN_BX_RT,
           @[brog_teu_rt]                   AS CMPN_TEU_RT,
           @[brog_feu_rt]                   AS CMPN_FEU_RT,
           @[brog_rf_rt]                    AS CMPN_RF_RT,
		   @[brog_rteu_rt]                    AS CMPN_RF_TEU_RT,
		   @[brog_rfeu_rt]                    AS CMPN_RF_FEU_RT,
           @[brog_chg_ctnt]                 AS CMPN_CHG_CTNT,
           @[brog_knd_cd]                   AS CMPN_KND_CD,
           'n'                              AS INTER_MDAL_FLG,
           @[cre_usr_id]                    AS CRE_USR_ID,
           @[upd_usr_id]                    AS UPD_USR_ID,
           SYSDATE                          AS CRE_DT,
           SYSDATE                          AS UPD_DT
      FROM DUAL			]]></sql>
			<params>
				<param name="ar_ofc_cd" type="12" value="" out="N"/>
				<param name="brog_cnt_cd" type="12" value="" out="Y"/>
				<param name="brog_cust_seq" type="12" value="" out="Y"/>
				<param name="shpr_cnt_cd" type="12" value="" out="Y"/>
				<param name="shpr_seq" type="12" value="" out="Y"/>
				<param name="por_grp_tp_cd" type="12" value="" out="Y"/>
				<param name="por_rout_cd" type="12" value="" out="Y"/>
				<param name="pol_grp_tp_cd" type="12" value="" out="Y"/>
				<param name="pol_rout_cd" type="12" value="" out="Y"/>
				<param name="pod_grp_tp_cd" type="12" value="" out="Y"/>
				<param name="pod_rout_cd" type="12" value="" out="Y"/>
				<param name="fm_eff_dt" type="12" value="" out="Y"/>
				<param name="to_eff_dt" type="12" value="" out="Y"/>
				<param name="sc_no" type="12" value="" out="Y"/>
				<param name="rfa_no" type="12" value="" out="Y"/>
				<param name="cmdt_tp_cd" type="12" value="" out="Y"/>
				<param name="cmdt_cd" type="12" value="" out="Y"/>
				<param name="brog_div_cd" type="12" value="" out="Y"/>
				<param name="brog_tp_cd" type="12" value="" out="Y"/>
				<param name="bkg_brog_rt" type="12" value="" out="Y"/>
				<param name="brog_bx_rt" type="12" value="" out="Y"/>
				<param name="brog_teu_rt" type="12" value="" out="Y"/>
				<param name="brog_feu_rt" type="12" value="" out="Y"/>
				<param name="brog_rf_rt" type="12" value="" out="Y"/>
				<param name="brog_rteu_rt" type="12" value="" out="N"/>
				<param name="brog_rfeu_rt" type="12" value="" out="N"/>
				<param name="brog_chg_ctnt" type="12" value="" out="Y"/>
				<param name="brog_knd_cd" type="12" value="" out="Y"/>
				<param name="cre_usr_id" type="12" value="" out="Y"/>
				<param name="upd_usr_id" type="12" value="" out="Y"/>
			</params>
		</query>
	</querys>
</sqls>
