<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AGNCommAgreementDBDAOSearchAcmFfAgmtNoDataRSQL">
			<desc><![CDATA[SearchAcmFfAgmtNoData]]></desc>
			<sql><![CDATA[
SELECT NEW_AGMT_NO
FROM (
    SELECT FF_CNT_CD||LPAD(FF_SEQ,6,'0') NEW_AGMT_NO
    FROM ACM_FF_AGMT 
    WHERE 1=1
    AND FF_CNT_CD         = SUBSTR(@[agmt_no],1,2)
    AND TO_CHAR(FF_SEQ)   = SUBSTR(@[agmt_no],3,6)
    AND DELT_FLG          = 'N'
    UNION ALL
    SELECT FF_CNT_CD||LPAD(FF_SEQ,6,'0') 
    FROM ACM_FAC_AGMT 
    WHERE 1=1
    AND FF_CNT_CD         = SUBSTR(@[agmt_no],1,2)
    AND TO_CHAR(FF_SEQ)   = SUBSTR(@[agmt_no],3,6)
    AND DELT_FLG          = 'N'
    UNION ALL
    SELECT CUST_CNT_CD||LPAD(CUST_SEQ,6,'0') 
    FROM ACM_SPCL_AGMT
    WHERE 1=1
    AND CUST_CNT_CD       = SUBSTR(@[agmt_no],1,2)
    AND TO_CHAR(CUST_SEQ) = SUBSTR(@[agmt_no],3,6)
    AND DELT_FLG          = 'N'
)
WHERE ROWNUM = 1			]]></sql>
			<params>
				<param name="agmt_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
