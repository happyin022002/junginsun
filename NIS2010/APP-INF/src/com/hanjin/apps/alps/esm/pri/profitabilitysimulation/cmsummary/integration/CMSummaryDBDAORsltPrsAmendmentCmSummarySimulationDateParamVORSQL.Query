<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CMSummaryDBDAORsltPrsAmendmentCmSummarySimulationDateParamVORSQL">
			<desc><![CDATA[DATE Parameter를 조회한다.

* History
2015.06.26 CHM-201536492 Split05-주간 MAS Open에 따른 타모듈 프로그램 적용 요청]]></desc>
			<sql><![CDATA[
SELECT 
	MIN(CASE WHEN (COST_YR = @[frm_ctrt_eff_yr] AND COST_WK = @[frm_ctrt_eff_wk]) OR (COST_YR = @[frm_ctrt_exp_yr] AND COST_WK =  @[frm_ctrt_exp_wk]) THEN SLS_FM_DT END) AS  C_SLS_FM_DT
	,MAX(CASE WHEN (COST_YR = @[frm_ctrt_eff_yr] AND COST_WK = @[frm_ctrt_eff_wk]) OR (COST_YR = @[frm_ctrt_exp_yr] AND COST_WK =  @[frm_ctrt_exp_wk]) THEN SLS_TO_DT END) AS C_SLS_TO_DT
	,MIN(CASE WHEN (COST_YR = @[frm_smr_eff_yr] AND COST_WK = @[frm_smr_eff_wk]) OR (COST_YR = @[frm_smr_exp_yr] AND COST_WK =  @[frm_smr_exp_wk]) THEN SLS_FM_DT END) AS  S_SLS_FM_DT
	,MAX(CASE WHEN (COST_YR = @[frm_smr_eff_yr] AND COST_WK = @[frm_smr_eff_wk]) OR (COST_YR = @[frm_smr_exp_yr] AND COST_WK =  @[frm_smr_exp_wk]) THEN SLS_TO_DT END) AS S_SLS_TO_DT
	,MIN(CASE WHEN (COST_YR = @[frm_rfrc_eff_yr] AND COST_WK = @[frm_rfrc_eff_wk]) OR (COST_YR = @[frm_rfrc_exp_yr] AND COST_WK = @[frm_rfrc_exp_wk]) THEN SLS_FM_DT END) AS  R_SLS_FM_DT
	,MAX(CASE WHEN (COST_YR = @[frm_rfrc_eff_yr] AND COST_WK = @[frm_rfrc_eff_wk]) OR (COST_YR = @[frm_rfrc_exp_yr] AND COST_WK = @[frm_rfrc_exp_wk]) THEN SLS_TO_DT END) AS  R_SLS_TO_DT
	,MIN(CASE WHEN (COST_YR = @[frm_rfrc_eff_yr] AND COST_WK = @[frm_rfrc_eff_wk]) OR (COST_YR = @[frm_rfrc_exp_yr] AND COST_WK = @[frm_rfrc_exp_wk]) THEN COST_YR||COST_WK END) AS R_FM_YRWK
	,MAX(CASE WHEN (COST_YR = @[frm_rfrc_eff_yr] AND COST_WK = @[frm_rfrc_eff_wk]) OR (COST_YR = @[frm_rfrc_exp_yr] AND COST_WK = @[frm_rfrc_exp_wk]) THEN COST_YR||COST_WK END) AS R_TO_YRWK
FROM MAS_WK_PRD 
WHERE ((COST_YR = @[frm_ctrt_eff_yr] AND COST_WK = @[frm_ctrt_eff_wk]) OR (COST_YR = @[frm_ctrt_exp_yr] AND COST_WK = @[frm_ctrt_exp_wk])) -- VW_CONTRACT_DT  
	OR ((COST_YR = @[frm_smr_eff_yr] AND COST_WK = @[frm_smr_eff_wk]) OR (COST_YR = @[frm_smr_exp_yr] AND COST_WK =  @[frm_smr_exp_wk])) --  VW_SUMMARY_DT 
	OR ((COST_YR = @[frm_rfrc_eff_yr] AND COST_WK = @[frm_rfrc_eff_wk]) OR (COST_YR = @[frm_rfrc_exp_yr] AND COST_WK = @[frm_rfrc_exp_wk])) -- VW_REFERENCE_DT, VW_REFERENCE_WEEK
			]]></sql>
			<params>
				<param name="frm_ctrt_eff_yr" type="12" value="" out="N"/>
				<param name="frm_ctrt_eff_wk" type="12" value="" out="N"/>
				<param name="frm_ctrt_exp_yr" type="12" value="" out="N"/>
				<param name="frm_ctrt_exp_wk" type="12" value="" out="N"/>
				<param name="frm_smr_eff_yr" type="12" value="" out="N"/>
				<param name="frm_smr_eff_wk" type="12" value="" out="N"/>
				<param name="frm_smr_exp_yr" type="12" value="" out="N"/>
				<param name="frm_smr_exp_wk" type="12" value="" out="N"/>
				<param name="frm_rfrc_eff_yr" type="12" value="" out="N"/>
				<param name="frm_rfrc_eff_wk" type="12" value="" out="N"/>
				<param name="frm_rfrc_exp_yr" type="12" value="" out="N"/>
				<param name="frm_rfrc_exp_wk" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
