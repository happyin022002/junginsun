<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOsearchTrunkVvdFromPrdRSQL">
			<desc><![CDATA[prd_prod_ctl_mst에서 trunk vvd를 조회한다]]></desc>
			<sql><![CDATA[
select TRNK_VSL_CD        VSL_CD
		, TRNK_SKD_VOY_NO SKD_VOY_NO
		, TRNK_SKD_DIR_CD SKD_DIR_CD
		, POR_CD
		, POR_NOD_CD
		, POL_CD
		, POL_NOD_CD
		, POD_CD
		, POD_NOD_CD
		, DEL_CD
		, DEL_NOD_CD
		, (select VSL_CD||SKD_VOY_NO||SKD_DIR_CD 
             from prd_prod_ctl_rout_dtl dtl
            where dtl.pctl_no = MST.PCTL_NO
              and DTL.pctl_seq    = (select min(pctl_seq)
                           		       from prd_prod_ctl_rout_dtl SEQ
                                	  where SEQ.pctl_no        = DTL.PCTL_NO
                                        and SEQ.TRSP_MOD_CD    in ('VD','WD')
                                   	    and SEQ.PCTL_IO_BND_CD = 'T')) first_vvd
		, (SELECT SKD.VSL_SLAN_CD 
			 FROM VSK_VSL_SKD SKD
			WHERE SKD.VSL_CD     = MST.TRNK_VSL_CD
			  AND SKD.SKD_VOY_NO = MST.TRNK_SKD_VOY_NO
 			  AND SKD.SKD_DIR_CD = MST.TRNK_SKD_DIR_CD) TRNK_SLAN_CD
  from prd_prod_ctl_mst MST
 where pctl_no = @[pctl_no]			]]></sql>
			<params>
				<param name="pctl_no" type="12" value="N2010000000001082061" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
