<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PerformanceReportDBDAOBkgEmlAcctStupVOCSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
MERGE  INTO BKG_EML_ACCT_STUP A
USING DUAL ON (BKG_OFC_CD = @[bkg_ofc_cd] AND EML_ACCT_SEQ = @[eml_acct_seq] AND DELT_FLG = 'Y')
WHEN MATCHED THEN
	UPDATE SET 
    	VBS_CTNT = @[vbs_ctnt]
    ,	EML_CPY_TO_EML = @[eml_cpy_to_eml]
    ,	EML_PRIO_NO = @[eml_prio_no]
    ,	INCL_SUB_OFC_FLG = DECODE(@[incl_sub_ofc_flg],'1','Y','N')
    ,	DPCS_EML_SVC_KND_CD = @[dpcs_eml_svc_knd_cd]
    ,	DPCS_EML_STND_GRP_TP_CD = @[dpcs_eml_stnd_grp_tp_cd]
    ,	POL_DPCS_EML_LOC_GRP_TP_CD = @[pol_dpcs_eml_loc_grp_tp_cd]
    ,	POL_CD = @[pol_cd]
    ,	DEL_DPCS_EML_LOC_GRP_TP_CD = @[del_dpcs_eml_loc_grp_tp_cd]
    ,	DEL_CD = @[del_cd]
    ,	UPD_USR_ID = @[upd_usr_id]
    ,	UPD_DT = SYSDATE
	,	RGN_OFC_CD = @[rgn_ofc_cd]
    WHERE	EML_ACCT_SEQ = @[eml_acct_seq]
    AND		BKG_OFC_CD = @[bkg_ofc_cd]
WHEN NOT MATCHED THEN
	INSERT (
    	VBS_CTNT
    ,	EML_CPY_TO_EML
    ,	EML_ACCT_SEQ
    ,	BKG_OFC_CD
    ,	EML_PRIO_NO
    ,	INCL_SUB_OFC_FLG
    ,	DPCS_EML_SVC_KND_CD
    ,	DPCS_EML_STND_GRP_TP_CD
    ,	POL_DPCS_EML_LOC_GRP_TP_CD
    ,	POL_CD
    ,	DEL_DPCS_EML_LOC_GRP_TP_CD
    ,	DEL_CD
    ,	DELT_FLG
    ,	CRE_USR_ID
    ,	CRE_DT
    ,	UPD_USR_ID
    ,	UPD_DT
	,	RGN_OFC_CD
    ) VALUES( 
    	@[vbs_ctnt]
    ,	@[eml_cpy_to_eml]
    ,	(SELECT NVL(MAX(EML_ACCT_SEQ),0)+1 AS EML_ACCT_SEQ FROM BKG_EML_ACCT_STUP WHERE BKG_OFC_CD = @[bkg_ofc_cd])
    ,	@[bkg_ofc_cd]
    ,	@[eml_prio_no]
    ,	DECODE(@[incl_sub_ofc_flg],'1','Y','N')
    ,	@[dpcs_eml_svc_knd_cd]
    ,	@[dpcs_eml_stnd_grp_tp_cd]
    ,	@[pol_dpcs_eml_loc_grp_tp_cd]
    ,	@[pol_cd]
    ,	@[del_dpcs_eml_loc_grp_tp_cd]
    ,	@[del_cd]
    ,	'N'
    ,	@[upd_usr_id]
    ,	SYSDATE
    ,	@[upd_usr_id]
    ,	SYSDATE
	,	@[rgn_ofc_cd]
    )			]]></sql>
			<params>
				<param name="bkg_ofc_cd" type="12" value="" out="N"/>
				<param name="eml_acct_seq" type="12" value="" out="N"/>
				<param name="vbs_ctnt" type="12" value="" out="N"/>
				<param name="eml_cpy_to_eml" type="12" value="" out="N"/>
				<param name="eml_prio_no" type="12" value="" out="N"/>
				<param name="incl_sub_ofc_flg" type="12" value="" out="N"/>
				<param name="dpcs_eml_svc_knd_cd" type="12" value="" out="N"/>
				<param name="dpcs_eml_stnd_grp_tp_cd" type="12" value="" out="N"/>
				<param name="pol_dpcs_eml_loc_grp_tp_cd" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="del_dpcs_eml_loc_grp_tp_cd" type="12" value="" out="N"/>
				<param name="del_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="rgn_ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
