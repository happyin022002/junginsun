<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PerformanceReportDBDAOSearchQueueDetailReturnReasonCdListRSQL">
			<desc><![CDATA[PerformanceReportDBDAOSearchQueueDetailReturnRSQL]]></desc>
			<sql><![CDATA[
SELECT COM.INTG_CD_VAL_CTNT CODE
      ,COM.INTG_CD_VAL_DP_DESC NAME
      ,RSN.SR_KND_CD
      ,RSN.SR_NO
      ,RSN.BKG_NO
      ,RSN.SR_HIS_SEQ
      ,RSN.SR_RTN_RSN_CD
      ,RSN.CRE_USR_ID
      ,RSN.CRE_DT
      ,RSN.UPD_USR_ID
      ,RSN.UPD_DT
      ,'' REASON_TYPE
      ,RSN.SR_KND_CD AS SRC_CD
      ,CASE WHEN RSN.SR_RTN_RSN_CD IS NOT NULL THEN '1' ELSE '0' END AS  SEL
FROM   BKG_SR_RTN_RSN  RSN
RIGHT JOIN (SELECT * FROM COM_INTG_CD_DTL COM 
WHERE 1=1 
AND   INTG_CD_ID = 'CD02805' 
#if (${reason_type} != '') 
AND   INTG_CD_VAL_CTNT LIKE @[reason_type] || '%' 
#end
AND   (APLY_ST_DT < TO_CHAR(SYSDATE, 'YYYYMMDD') AND		APLY_END_DT > TO_CHAR(SYSDATE, 'YYYYMMDD')) ) COM
ON  	1=1

#if (${src_cd} != '') 
AND   RSN.SR_KND_CD = @[src_cd]
#end

#if (${sr_no} != '') 
AND   RSN.SR_NO = @[sr_no]
#end

#if (${bkg_no} != '') 
AND   RSN.BKG_NO = @[bkg_no]
#end
#if (${sr_his_seq} != '') 
AND   RSN.SR_HIS_SEQ  = @[sr_his_seq]
#else
AND   RSN.SR_HIS_SEQ  = '0'
#end
AND   RSN.SR_RTN_RSN_CD = COM.INTG_CD_VAL_CTNT
ORDER BY COM.INTG_CD_VAL_DP_SEQ			]]></sql>
			<params>
				<param name="reason_type" type="12" value="" out="N"/>
				<param name="src_cd" type="12" value="" out="N"/>
				<param name="sr_no" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="sr_his_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
