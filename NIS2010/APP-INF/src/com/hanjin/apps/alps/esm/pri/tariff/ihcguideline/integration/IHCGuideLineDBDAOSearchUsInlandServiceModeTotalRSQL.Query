<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="IHCGuideLineDBDAOSearchUsInlandServiceModeTotalRSQL">
			<desc><![CDATA[Search US Inland Service Mode Total]]></desc>
			<sql><![CDATA[
#if(${cost_cnt_cd} == 'US')
    SELECT (SELECT INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL CD_DTL WHERE CD_DTL.INTG_CD_ID = 'CD03121' AND INTG_CD_VAL_CTNT = RT.USA_COST_TRF_SVC_MOD_CD) USA_COST_TRF_SVC_MOD_NM
         , RT.USA_COST_TRF_SVC_MOD_CD
         , COUNT(RT.USA_COST_TRF_SVC_MOD_CD) TOTAL_COUNT
         , TO_CHAR(MAX(RT.UPD_DT),'YYYY-MM-DD HH24:MI') AS UPD_DT
         , MAX(RT.UPD_USR_ID) AS UPD_USR_ID
     FROM PRI_TRF_IHC_RT RT
    WHERE 1=1
      AND RT.SVC_SCP_CD = @[svc_scp_cd]
      AND RT.ORG_DEST_TP_CD = @[org_dest_tp_cd]
      AND RT.IHC_TRF_NO = @[ihc_trf_no]
      AND RT.AMDT_SEQ = @[amdt_seq]
      AND RT.IHC_CGO_TP_CD  = @[ihc_cgo_tp_cd]
      AND RT.OPTM_TRSP_MOD_FLG = 'Y'
    GROUP BY USA_COST_TRF_SVC_MOD_CD
    ORDER BY USA_COST_TRF_SVC_MOD_CD DESC    
#end
#if(${cost_cnt_cd} == 'CA')
    SELECT 'Canada Inland' USA_COST_TRF_SVC_MOD_NM
         , COUNT(RT.IHC_TRF_NO) TOTAL_COUNT
         , TO_CHAR(MAX(RT.UPD_DT),'YYYY-MM-DD HH24:MI') AS UPD_DT
         , MAX(RT.UPD_USR_ID) AS UPD_USR_ID
     FROM PRI_TRF_IHC_RT RT
    WHERE 1=1
      AND RT.SVC_SCP_CD = @[svc_scp_cd]
      AND RT.ORG_DEST_TP_CD = @[org_dest_tp_cd]
      AND RT.IHC_TRF_NO = @[ihc_trf_no]
      AND RT.AMDT_SEQ = @[amdt_seq]
      AND RT.IHC_CGO_TP_CD  = @[ihc_cgo_tp_cd]
      AND RT.OPTM_TRSP_MOD_FLG = 'Y'
#end			]]></sql>
			<params>
				<param name="svc_scp_cd" type="12" value="" out="N"/>
				<param name="org_dest_tp_cd" type="12" value="" out="N"/>
				<param name="ihc_trf_no" type="12" value="" out="N"/>
				<param name="amdt_seq" type="12" value="" out="N"/>
				<param name="ihc_cgo_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
