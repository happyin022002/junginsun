<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLInformationMgtDBDAOSearchCaGeneralRSQL">
			<desc><![CDATA[search]]></desc>
			<sql><![CDATA[
SELECT ITEM_HDR, HIS_CATE_NM, PRE_CTNT, CRNT_CTNT
FROM (
SELECT  (SELECT ATTR_CTNT2 
           FROM BKG_HRD_CDG_CTNT
          WHERE HRD_CDG_ID = 'HIST_UI_NAME' 
            AND ATTR_CTNT1 = MST.BKG_HIS_ISS_UI_ID) ITEM_HDR, 
        CASE
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_05' THEN ''
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_08' THEN ''
        ELSE DTL.HIS_CATE_NM
        END HIS_CATE_NM,
        CASE
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_05' THEN ''
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_08' THEN ''
        ELSE DTL.PRE_CTNT
        END PRE_CTNT,
        CASE
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_05' THEN 'SEE CUSTOMER INFORMATION TAB'
        WHEN BKG_HIS_ISS_UI_ID = 'ESM_BKG_0079_08' THEN 'SEE FREIGHT & CHARGE TAB'
        ELSE DTL.CRNT_CTNT
        END CRNT_CTNT
  FROM BIS_HIS_MST MST
     , BIS_HIS_DTL DTL
 WHERE MST.BKG_NO  = DTL.BKG_NO
   AND MST.HIS_SEQ = DTL.HIS_SEQ
   AND MST.BKG_NO  = @[bkg_no]
   AND MST.CORR_NO = @[ca_no] )
GROUP BY ITEM_HDR, HIS_CATE_NM, PRE_CTNT, CRNT_CTNT			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="ca_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
