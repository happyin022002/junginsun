<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JapanCustomsReportDBDAOsearchJpcusReceiveLogRSQL">
			<desc><![CDATA[searchJpcusReceiveLog]]></desc>
			<sql><![CDATA[
#if( ${jp_msg_tp_cd} == 'SATD' || ${jp_msg_tp_cd} == 'SCMR' ||${jp_msg_tp_cd} == 'SAS111'||${jp_msg_tp_cd} == 'SAS108'||${jp_msg_tp_cd} == 'SAMR')

SELECT 
	RCV_SEQ RCV_DTL_SEQ,
	EDI_RCV_MSG_CTNT EDI_RCV_MSG
FROM BKG_CSTMS_ADV_JP_RCV_LOG
WHERE	JP_MSG_TP_ID = @[jp_msg_tp_cd]
AND	RCV_DT = TO_DATE(@[rcv_dt],'YYYYMMDDHH24MISS')
#if(${vsl_cd} != '')
AND	VSL_CD = @[vsl_cd]
#end
#if(${skd_voy_no} != '')
AND SKD_VOY_NO = @[skd_voy_no]
#end
#if(${skd_dir_cd} != '')
AND SKD_DIR_CD = @[skd_dir_cd]
#end
#if(${pol_cd} != '')
AND POL_CD = @[pol_cd]
#end
#if(${bkg_no} != '')
AND BKG_NO = @[bkg_no]
#end
AND	RCV_SEQ = 1
AND ROWNUM = 1

#else

SELECT 
	RCV_DTL_SEQ,
	EDI_RCV_MSG
FROM BKG_CSTMS_JP_RCV_LOG_DTL
WHERE	JP_MSG_TP_ID = @[jp_msg_tp_cd]
AND	RCV_DT = TO_DATE(@[rcv_dt],'YYYYMMDDHH24MISS')
AND	RCV_SEQ = @[rcv_seq]

#end			]]></sql>
			<params>
				<param name="jp_msg_tp_cd" type="12" value="" out="N"/>
				<param name="rcv_dt" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="rcv_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
