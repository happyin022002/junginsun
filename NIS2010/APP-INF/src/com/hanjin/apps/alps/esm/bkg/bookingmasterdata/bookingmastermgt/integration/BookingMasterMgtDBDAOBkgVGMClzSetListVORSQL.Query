<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingMasterMgtDBDAOBkgVGMClzSetListVORSQL">
			<desc><![CDATA[VGM CCT 조회를 위한 쿼리]]></desc>
			<sql><![CDATA[
SELECT 
	VSL_SLAN_CD
,	CONTI_CD
,   LOC_CD
,	DECODE(YD_CD,'*','ALL',YD_CD) YD_CD
,	DEST_CNT_CD
,	VGM_CLZ_TP_CD
,	VGM_ITVAL_HRS
,	XCLD_HOL_FLG
,	DECODE(NVL(XCLD_HOL_FLG,' '),'Y','1','0') HOL_CHK
,	DELT_FLG
,	A.CRE_USR_ID
,	A.CRE_DT
,	A.UPD_USR_ID
,	TO_CHAR(A.UPD_DT,'YYYY-MM-DD') UPD_DT
,	'Hour' HOUR 
,	DECODE(NVL(VGM_CLZ_TP_CD,' '),'A','1','0') ETA
,	DECODE(NVL(VGM_CLZ_TP_CD,' '),'B','1','0') ETB
,	DECODE(NVL(VGM_CLZ_TP_CD,' '),'D','1','0') ETD
,	DECODE(NVL(VGM_CLZ_TP_CD,' '),'Y','1','0') DAY
,	'' CHK_OP
,	(SELECT USR_NM FROM COM_USER WHERE USR_ID = CRE_USR_ID) USR_NM
,	COM.OFC_CD
,	VGM_CLZ_DY_CD
,	concat(lpad(trunc(VGM_CLZ_DY_HRS / 60),2,'0'),lpad(mod(VGM_CLZ_DY_HRS , 60),2,'0')) VGM_CLZ_DY_HRS
,	DECODE(VVD_CD,'*','ALL',VVD_CD) VVD_CD
FROM BKG_VRFD_WGT_CLZ_SET A, COM_USER COM
WHERE LOC_CD LIKE '%' || @[loc_cd] || '%'
#if (${yd_cd} != '') 
AND	YD_CD = DECODE(@[yd_cd],'ALL','*',@[yd_cd])
#end
#if (${vsl_slan_cd} != '') 
AND	VSL_SLAN_CD = @[vsl_slan_cd]
#end
#if (${dest_cnt_cd} != '') 
AND	DEST_CNT_CD = @[dest_cnt_cd]
#end
#if (${conti_cd} != '') 
AND	CONTI_CD = @[conti_cd]
#end
#if (${vvd_cd} != '') 
AND	VVD_CD = DECODE(@[vvd_cd],'ALL','*',@[vvd_cd])
#end
#if (${chk_op} == 'Y') 
AND NVL(DELT_FLG,'N') = 'N'
AND A.UPD_USR_ID = COM.USR_ID
#end			]]></sql>
			<params>
				<param name="loc_cd" type="12" value="" out="N"/>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="vsl_slan_cd" type="12" value="" out="N"/>
				<param name="dest_cnt_cd" type="12" value="" out="N"/>
				<param name="conti_cd" type="12" value="" out="N"/>
				<param name="vvd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
