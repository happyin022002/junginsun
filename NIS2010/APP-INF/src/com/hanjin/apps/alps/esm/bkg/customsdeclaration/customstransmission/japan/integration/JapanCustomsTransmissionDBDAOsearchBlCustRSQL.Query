<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JapanCustomsTransmissionDBDAOsearchBlCustRSQL">
			<desc><![CDATA[searchBlCust]]></desc>
			<sql><![CDATA[
SELECT
	RPAD(' ',12,' ') DATA1, --16 Shipper Code  (12)   C                   
	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(A.CUST_NM,' '),CHR(13)||CHR(10),' '),'#',' '),1,175),175,' ') CUST_NM1,
	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(A.CUST_ADDR,' '),CHR(13)||CHR(10),' '),'#',' '),1,105),105,' ') CUST_ADDR1,

    RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(A.CUST_NM, ' '), 'J'), 1, 175),175,' ') CUST_NM1,
    RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(A.CUST_ADDR, ' '), 'J'),1,105),105,' ') CUST_ADDR1,

	RPAD(' ',70,' ') DATA2, --19 화물 발송인 주소 1/4(Street and number/P.O.Box)  (70)   C                    
	RPAD(' ',35,' ') DATA3, --20 화물 발송인 주소 2/4(Street and number/P.O.Box)  (35)   C                    
	RPAD(' ',35,' ') DATA4, --21 화물 발송인 주소 3/4(City name)  (35)   C                     
	RPAD(' ',35,' ') DATA5, --22 화물 발송인 주소 4/4(Country sub-entity, name)  (35)   C                    
	RPAD(' ',9,' ') DATA6, --23 화물 발송인 우편번호(Postcode identification)  (9)   C                     
	RPAD(SUBSTR(NVL(A.CUST_CNT_CD,' '),1,2),2,' ') CUST_CNT_CD1, 
	RPAD(SUBSTR(NVL(A.PHN_NO,' '),1,14),14,' ') PHN_NO1,
	RPAD(' ',12,' ')  DATA7, --26 수화인 코드  (12)   C    --Consinee 정보                    
	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(B.CUST_NM,' '),CHR(13)||CHR(10),' '),'#',' '),1,175),175,' ') CUST_NM2,
	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(B.CUST_ADDR,' '),CHR(13)||CHR(10),' '),'#',' '),1,105),105,' ') CUST_ADDR2,
    RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(B.CUST_NM, ' '), 'J'), 1, 175),175,' ') CUST_NM2,
    RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(B.CUST_ADDR, ' '), 'J'),1,105),105,' ') CUST_ADDR2,

	RPAD(' ',70,' ') DATA8, --29 수화인주소 1/4(Street and number/P.O.Box)  (70)   C                    
	RPAD(' ',35,' ') DATA9, --30 수화인주소 2/4(Street and number/P.O.Box)  (35)   C                    
	RPAD(' ',35,' ') DATA10, --31 수화인주소 3/4(City name)  (35)   C                    
	RPAD(' ',35,' ') DATA11, --32 수화인주소 4/4(Country sub-entity, name)  (35)   C                     
	RPAD(' ',9,' ') DATA12, --33 수화인우편번호(Postcode identification)  (9)   C                                          
	RPAD(SUBSTR(NVL(B.CUST_CNT_CD,' '),1,2),2,' ') CUST_CNT_CD2, 
	RPAD(SUBSTR(NVL(B.PHN_NO,' '),1,14),14,' ') PHN_NO2,
	RPAD(' ',12,' ')  DATA13, --36 착하 통지처 코드  (12)    2            C    --Notify 정보 1  (2회 반복 36~45번)

	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(C.CUST_NM,'SAME AS CONSIGNEE'),CHR(13)||CHR(10),' '),'#',' '),1,175),175,' ') CUST_NM3,
	--RPAD(SUBSTR(REPLACE(REPLACE(NVL(C.CUST_ADDR,' '),CHR(13)||CHR(10),' '),'#',' '),1,105),105,' ') CUST_ADDR3,
	RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(C.CUST_NM,'SAME AS CONSIGNEE'), 'J'), 1, 175),175,' ') CUST_NM3,
    RPAD(SUBSTR(BKG_SPCLCHAR_CONV_FNC(NVL(C.CUST_ADDR, ' '), 'J'),1,105),105,' ') CUST_ADDR3,

	RPAD(' ',70,' ') DATA14, --39 착하 통지 선주소 1/4(Street and number/P.O.Box)  (70)   *             C                     
	RPAD(' ',35,' ') DATA15, --40 착하 통지 선주소 2/4(Street and number/P.O.Box)  (35)   *             C                    
	RPAD(' ',35,' ') DATA16, --41 착하 통지 선주소 3/4(City name)  (35)   *             C                    
	RPAD(' ',35,' ') DATA17, --42 착하 통지 선주소 4/4(Country sub-entity, name)  (35)   *             C                    
	RPAD(' ',9,' ') DATA18, --43 착하 통지처 우편번호(Postcode identification)  (9)   *             C                     
	RPAD(SUBSTR(NVL(C.CUST_CNT_CD,' '),1,2),2,' ') CUST_CNT_CD3, 
	RPAD(SUBSTR(NVL(C.PHN_NO,' '),1,14),14,' ') PHN_NO3,
	RPAD(' ',12,' ') DATA19, --36 착하 통지처 코드  (12)    2            C    --Notify 정보 2  (2회 반복 36~45번)                    
	RPAD(' ',175,' ') DATA20, --37 Notify Name  (175)   *             C                    
	RPAD(' ',105,' ') DATA21, --38 착하 통지 선주소 (연속 입력)  (105)   *             C    --  주의 @, # 값은 인식하지 못함.                   
	RPAD(' ',70,' ') DATA22, --39 착하 통지 선주소 1/4(Street and number/P.O.Box)  (70)   *             C                              
	RPAD(' ',35,' ') DATA23,  --40 착하 통지 선주소 2/4(Street and number/P.O.Box)  (35)   *             C                      
	RPAD(' ',35,' ') DATA24, --41 착하 통지 선주소 3/4(City name)  (35)   *             C                              
	RPAD(' ',35,' ') DATA25, --42 착하 통지 선주소 4/4(Country sub-entity, name)  (35)   *             C                              
	RPAD(' ',9,' ') DATA26, --43 착하 통지처 우편번호(Postcode identification)  (9)   *             C                             
	RPAD(' ',2,' ') DATA27, --44 착하 통지처 국명 코드(Country, coded)  (2)   *             C                             
	RPAD(' ',14,' ') DATA28  
FROM 
	BKG_CSTMS_JP_BL_CUST A, 
	BKG_CSTMS_JP_BL_CUST B, 
	BKG_CSTMS_JP_BL_CUST C
WHERE	A.BL_NO = @[bl_no]
AND	A.BL_SPLIT_NO = nvl(@[bl_split_no],'  ')
AND A.BKG_CUST_TP_CD    = 'S'
AND A.BL_NO     = B.BL_NO
AND A.BL_SPLIT_NO = B.BL_SPLIT_NO
AND B.BKG_CUST_TP_CD    = 'C'
AND A.BL_NO     = C.BL_NO
AND A.BL_SPLIT_NO = C.BL_SPLIT_NO
AND C.BKG_CUST_TP_CD    = 'N'			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="bl_split_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
