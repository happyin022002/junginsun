<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOmodifyOblByUsCgoUSQL">
			<desc><![CDATA[...]]></desc>
			<sql><![CDATA[
UPDATE BKG_BL_ISS
   SET OBL_RDEM_FLG       = CASE WHEN (TO_NUMBER(@[obl_rdem_knt]) > 0 AND NVL(LENGTH(@[bl_otr_doc_rcv_cd]),0) = 2 ) THEN 'Y' ELSE 'N' END,
       OBL_RDEM_KNT       = DECODE(NVL(@[obl_rdem_knt],0),0,NULL,
                                DECODE(@[obl_rdem_knt],OBL_RDEM_KNT,OBL_RDEM_KNT,@[obl_rdem_knt])),
       OBL_RDEM_OFC_CD    = DECODE(NVL(@[obl_rdem_knt],0),0,NULL,
                                DECODE(@[obl_rdem_knt],OBL_RDEM_KNT,OBL_RDEM_OFC_CD,@[ofc_cd])),
       OBL_RDEM_USR_ID    = DECODE(NVL(@[obl_rdem_knt],0),0,NULL,
                                DECODE(@[obl_rdem_knt],OBL_RDEM_KNT,OBL_RDEM_USR_ID,@[usr_id])),
       OBL_RDEM_DT        = TO_DATE(DECODE(NVL(@[obl_rdem_knt],0),0,NULL,
                                    DECODE(@[obl_rdem_knt],OBL_RDEM_KNT,TO_CHAR(OBL_RDEM_DT,'YYYYMMDDHH24MISS'),
                                                                        TO_CHAR(GLOBALDATE_PKG.TIME_CONV_FNC('KRSEL',SYSDATE,BKG_COM_USER_LOC_FNC(@[usr_id])),'YYYYMMDDHH24MISS'))),
                            'YYYYMMDDHH24MISS'),
       BL_OTR_DOC_RCV_CD  = DECODE(@[bl_otr_doc_rcv_cd],NULL,NULL,
                            DECODE(@[bl_otr_doc_rcv_cd],BL_OTR_DOC_RCV_CD,BL_OTR_DOC_RCV_CD,@[bl_otr_doc_rcv_cd])),
       OTR_DOC_RCV_OFC_CD = DECODE(@[bl_otr_doc_rcv_cd],NULL,NULL,
                            DECODE(@[bl_otr_doc_rcv_cd],BL_OTR_DOC_RCV_CD,OTR_DOC_RCV_OFC_CD,@[ofc_cd])),
       OTR_DOC_RCV_USR_ID = DECODE(@[bl_otr_doc_rcv_cd],NULL,NULL,
                            DECODE(@[bl_otr_doc_rcv_cd],BL_OTR_DOC_RCV_CD,OTR_DOC_RCV_USR_ID,@[usr_id])),
       OTR_DOC_RCV_DT     = TO_DATE(DECODE(@[bl_otr_doc_rcv_cd],NULL,NULL,
                                    DECODE(@[bl_otr_doc_rcv_cd],BL_OTR_DOC_RCV_CD,TO_CHAR(OTR_DOC_RCV_DT,'YYYYMMDDHH24MISS'),
                                                                                  TO_CHAR(GLOBALDATE_PKG.TIME_CONV_FNC('KRSEL',SYSDATE,BKG_COM_USER_LOC_FNC(@[usr_id])),'YYYYMMDDHH24MISS'))),
                            'YYYYMMDDHH24MISS')
 WHERE BKG_NO = @[bkg_no]			]]></sql>
			<params>
				<param name="obl_rdem_knt" type="12" value="" out="N"/>
				<param name="bl_otr_doc_rcv_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
