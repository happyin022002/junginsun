<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLDocumentationCMDBDAOSearchPartialCntrBkgRSQL">
			<desc><![CDATA[Partial인 컨테이너의 BKG를 찾는다]]></desc>
			<sql><![CDATA[
SELECT DISTINCT /*+ ORDERED INDEX_DESC(A XAK1BKG_CONTAINER) INDEX(BO XPKBKG_BOOKING) */ BO.BKG_NO
          FROM BKG_BOOKING BO, BKG_BOOKING BO2
         WHERE BO.BKG_NO  IN  (SELECT BKG_NO FROM BKG_CONTAINER WHERE CNTR_NO = @[cntr_no] AND CRE_DT > SYSDATE - 60)
           AND NVL (BO.BKG_STS_CD, ' ') <> 'X'
           AND BO.VSL_CD = BO2.VSL_CD
           AND BO.SKD_VOY_NO	= BO2.SKD_VOY_NO
           AND BO.SKD_DIR_CD	= BO2.SKD_DIR_CD
           AND BO2.BKG_NO	    = @[bkg_no]
           AND BO.POL_CD	    = BO2.POL_CD
           AND BO.POD_CD        = BO2.POD_CD 			]]></sql>
			<params>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
