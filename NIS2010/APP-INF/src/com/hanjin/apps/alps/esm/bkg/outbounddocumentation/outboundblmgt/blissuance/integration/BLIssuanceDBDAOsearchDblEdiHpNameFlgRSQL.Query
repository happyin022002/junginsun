<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOsearchDblEdiHpNameFlgRSQL">
			<desc><![CDATA[hp]]></desc>
			<sql><![CDATA[
SELECT  
       'HP_ASIA_FLG:' || (SELECT 'Y' FROM BKG_CHG_RT RT
                                                        WHERE RT.BKG_NO = @[bkg_no] 
                                                        AND ((FRT_INCL_XCLD_DIV_CD ='N' 
                                                            AND N3PTY_RCV_OFC_CD IN ('SINSC')
                                                            AND N3PTY_CUST_CNT_CD IN ('SG')
                                                            AND N3PTY_CUST_SEQ IN ( 17434 ))
                                                         OR
                                                        (EXISTS (SELECT 1 FROM BKG_RATE 
                                                                            WHERE BKG_NO = RT.BKG_NO 
                                                                            AND (    PPD_RCV_OFC_CD IN ('SINSC') AND PPD_PAYR_CNT_CD IN ('SG') AND PPD_PAYR_CUST_SEQ IN (17434)
                                                                                  OR CLT_OFC_CD IN ('SINSC') AND CLT_PAYR_CNT_CD IN ('SG') AND CLT_PAYR_CUST_SEQ IN(17434))                                                                           
                                                        )))
                                                        AND ROWNUM = 1)                            || CHR(10) 
       || 'HP_SIN_FLG:'        || (SELECT 'Y' FROM BKG_CHG_RT RT
                                                        WHERE RT.BKG_NO = @[bkg_no]  
                                                        AND ((FRT_INCL_XCLD_DIV_CD ='N' 
                                                            AND N3PTY_RCV_OFC_CD IN ('SINSC')
                                                            AND N3PTY_CUST_CNT_CD IN ('SG')
                                                            AND N3PTY_CUST_SEQ IN ( 260 ))
                                                        OR 
                                                        (EXISTS (SELECT 1 FROM BKG_RATE 
                                                                            WHERE BKG_NO = RT.BKG_NO 
                                                                            AND (    PPD_RCV_OFC_CD IN ('SINSC') AND PPD_PAYR_CNT_CD IN ('SG') AND PPD_PAYR_CUST_SEQ IN (260)
                                                                                  OR CLT_OFC_CD IN ('SINSC') AND CLT_PAYR_CNT_CD IN ('SG') AND CLT_PAYR_CUST_SEQ IN(260))                                                                           
                                                        )))
                                                        AND ROWNUM = 1)                            || CHR(10)
        
       
FROM  DUAL			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
