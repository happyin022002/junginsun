<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TCharterIOSettlementDBDAOSearchOwnerAccountExpenseListVORSQL">
			<desc><![CDATA[Search Owner Account Expense List]]></desc>
			<sql><![CDATA[
SELECT 
	SLP_TP_CD||SLP_FUNC_CD||SLP_OFC_CD||SLP_ISS_DT||SLP_SER_NO||SLP_SEQ_NO ORG_SLIP_NO
,	SLP_TP_CD ORG_SLP_TP_CD
,	SLP_FUNC_CD ORG_SLP_FUNC_CD
,	SLP_OFC_CD ORG_SLP_OFC_CD
,	SLP_ISS_DT ORG_SLP_ISS_DT
,	SLP_SER_NO ORG_SLP_SER_NO
,	SLP_SEQ_NO ORG_SLP_SEQ_NO
,	FLET_PPAY_RLT_CD
,	ACCT_CD
,	VSL_CD||SKD_VOY_NO||SKD_DIR_CD||REV_DIR_CD VVD_CD
,	VSL_CD||SKD_VOY_NO||SKD_DIR_CD||REV_DIR_CD VVD_CD1
,	N1ST_CURR_CD
,	N1ST_AMT
,	AP_DESC||' ' AP_DESC1
,	AP_DESC||' ' AP_DESC2
,	AP_DESC||' ' AP_DESC3
,	AP_DESC||' ' AP_DESC4
,	AP_DESC||' ' AP_DESC5
,	'' DUMMY1
FROM FMS_OWNR_ACCT_SLP A
WHERE FLET_PPAY_RLT_CD = 'C'
AND ACCT_CD = '111071'
#if(${flet_ctrt_no} != '') 
AND EXISTS (SELECT NULL FROM FMS_CONTRACT
		 				WHERE  VSL_CD = A.VSL_CD AND FLET_CTRT_NO = @[flet_ctrt_no]
						UNION ALL
						SELECT NULL FROM FMS_CONTRACT FC, FMS_ID_VSL FI
						WHERE FI.VSL_CD = A.VSL_CD AND FC.FLET_CTRT_NO = FI.FLET_CTRT_NO
						AND FC.FLET_CTRT_NO = @[flet_ctrt_no])
#else
AND VSL_CD = @[vsl_cd]
#end
AND CSR_SLP_FLG = 'N' 
ORDER BY 1			]]></sql>
			<params>
				<param name="flet_ctrt_no" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
