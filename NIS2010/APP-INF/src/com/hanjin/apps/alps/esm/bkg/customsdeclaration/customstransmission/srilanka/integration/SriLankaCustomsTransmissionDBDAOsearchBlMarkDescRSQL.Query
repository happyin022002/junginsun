<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SriLankaCustomsTransmissionDBDAOsearchBlMarkDescRSQL">
			<desc><![CDATA[스리랑카 세관 신고용 Manifest B/L Marks Description 정보를 조회한다.]]></desc>
			<sql><![CDATA[
#if(${ver_flg}=='O') 
SELECT   
#if (${edi_mt_removal} != 'M')
	'{DESC'||CHR(10)||'DESC:' ||REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(DOC.PCK_CMDT_DESC||CHR(10)||'DESC:'||DOC.CNTR_CMDT_DESC||CHR(10)||'DESC:'||CMDT_DESC,'&',CHR(38)||'amp'||CHR(59)),'<',CHR(38)||'lt'||CHR(59)),'>',CHR(38)||'gt'||CHR(59)),'\"',CHR(38)||'quot'||CHR(59)),CHR(39),CHR(38)||'apos'||CHR(59)),CHR(13)||CHR(10),CHR(10)||'DESC:') ||CHR(10)||'}DESC'||CHR(10) CMDT_DESC,
#else
	'{DESC'||CHR(10)||'DESC:'||'Empty containers'||CHR(10)||'}DESC'||CHR(10) CMDT_DESC,
#end
         DECODE(LENGTH(MK_DESC),NULL,'','{MARK'||CHR(10)||'MARKNO:' ||REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(SUBSTR(MK_DESC,1,2660),'&',CHR(38)||'amp'||CHR(59)),'<',CHR(38)||'lt'||CHR(59)),'>',CHR(38)||'gt'||CHR(59)),'\"',CHR(38)||'quot'||CHR(59)),CHR(39),CHR(38)||'apos'||CHR(59)),CHR(13)||CHR(10),CHR(10)||'MARKNO:') ||chr(10)||'}MARK'||CHR(10)  ) MK_DESC
        FROM   BKG_BL_MK_DESC MD, BKG_BL_DOC DOC
        WHERE  DOC.BKG_NO        = @[bkg_no]
		AND		DOC.BKG_NO		= MD.BKG_NO

#else
SELECT 	'{MARKS_INFO'||CHR(10)||
		'MARKS1:'||BKG_SPCLCHAR_CONV_FNC(SUBSTR(TRIM(MK_DESC), 1, 35),'J')||CHR(10)||
		'MARKS2:'||BKG_SPCLCHAR_CONV_FNC(SUBSTR(TRIM(MK_DESC), 36, 35),'J')||CHR(10)||
		'MARKS3:'||BKG_SPCLCHAR_CONV_FNC(SUBSTR(TRIM(MK_DESC), 71, 35),'J')||CHR(10)||
       	'}MARKS_INFO'||CHR(10) MK_DESC
FROM 	BKG_BL_MK_DESC
WHERE 	BKG_NO = @[bkg_no]
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
