<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingUtilDBDAOCheckUsBlackCustomerRSQL">
			<desc><![CDATA[CheckUsBlackCustomer
3글자 이하일 땐 무조건 EQUAL 조건]]></desc>
			<sql><![CDATA[
#if(${full_sch_flg} == 'Y')
SELECT BLCK_KW_NM
#else
SELECT BLCK_KW_NM
#end
FROM BKG_BLCK_KW_LIST
WHERE BLCK_KW_TP_CD='SAN'
#if(${full_sch_flg} == 'Y')
	AND UPPER(TRIM(@[cust_nm])) = UPPER(TRIM(BLCK_KW_NM))
#else
	AND (    UPPER(TRIM(@[cust_nm])) = UPPER(TRIM(BLCK_KW_NM))
          OR ( LENGTH(BLCK_KW_NM) > 3
               AND (    UPPER(@[cust_nm]) LIKE UPPER(BLCK_KW_NM)||' %'
                     OR UPPER(@[cust_nm]) LIKE '% '||UPPER(BLCK_KW_NM)
                     OR UPPER(@[cust_nm]) LIKE '% '||UPPER(BLCK_KW_NM)||' %'
                   )
              )
        )
#end
AND ROWNUM = 1			]]></sql>
			<params>
				<param name="cust_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
