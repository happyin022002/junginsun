<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SriLankaCustomsTransmissionDBDAOsearchMakeHeaderRSQL">
			<desc><![CDATA[FlatFile Header생성]]></desc>
			<sql><![CDATA[
#if(${ver_flg}=='O')

SELECT '$$$MSGSTART:'||
       RPAD(NVL(TRIM('SMLM_SLK'), ' '), 20, ' ')||
       RPAD(NVL(DECODE(@[edi_mt_removal], 'M', 'SLKCUS_E', 'SRILANKACUSTOMS'), ' '), 20, ' ')||
       RPAD(NVL(TRIM('CUSCAR'), ' '), 10, ' ')||
       'BKC'||
       TO_CHAR(SYSDATE, 'RRMMDD')||
       LTRIM(TO_CHAR(BKG_CSTM_EDI_SEQ.NEXTVAL, '000009'), ' ') MSG_HEADER

FROM DUAL

#else

SELECT '$$$MSGSTART:'||
       RPAD(NVL(TRIM('SMLM'), ' '), 20, ' ')||
       RPAD(NVL(DECODE(@[edi_mt_removal], 'M', 'SLKCUS_E', 'CTS_SK'), ' '), 20, ' ')||
       RPAD(NVL(TRIM('CUSCAR'), ' '), 10, ' ')||
       'BKC'||
       TO_CHAR(SYSDATE, 'RRMMDD')||
       LTRIM(TO_CHAR(BKG_CSTM_EDI_SEQ.NEXTVAL, '000009'), ' ') MSG_HEADER,
	   TO_CHAR(GLOBALDATE_PKG.TIME_CONV_OFC_FNC(@[ofc_cd], GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]),'GMT') - 4/24 ,'YYYYMMDDHH24MISS')||'EDT' DOC_DT
FROM DUAL

#end			]]></sql>
			<params>
				<param name="edi_mt_removal" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
