<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingSearchDBDAOsearchTmnl301TroDtlInfoRSQL">
			<desc><![CDATA[searchTmnl301TroDtlInfo]]></desc>
			<sql><![CDATA[
SELECT '{TRO_DTL_OUT'																			|| CHR(10)
	|| 'TRO_SEQ:'				|| LPAD(TRO_SEQ, 2, '0')										|| CHR(10)
	|| 'TRO_DOOR_DT:'   		|| NVL(TO_CHAR(DOR_ARR_DT, 'RRRRMMDDHH24'), ' ')				|| CHR(10)
	|| 'TRO_CNTRTS_CD:' 		|| CNTR_TPSZ_CD													|| CHR(10)
	|| 'TRO_QTY:'       		|| TRUNC(NVL(TRO_QTY, '0'))										|| CHR(10)
	|| 'TRO_PICKUP_CY:' 		|| SUBSTR(NVL(PKUP_YD_CD, '     '), 3, 5)			 			|| CHR(10)
	|| 'TRO_RETURN_CY:' 		|| SUBSTR(NVL(RTN_YD_CD,  '     '), 3, 5)						|| CHR(10)
	|| '}TRO_DTL_OUT'		   	|| CHR(10) TRO_DTL_INFO
  FROM BKG_TRO_DTL
 WHERE BKG_NO 				= @[bkg_no]
   AND TRO_SEQ				= @[tro_seq]
   AND IO_BND_CD      		= 'O'
   AND CXL_FLG              = 'N'
   AND CNTR_TPSZ_CD IN (SELECT DISTINCT CNTR_TPSZ_CD 
						FROM   BKG_QUANTITY 
						WHERE  BKG_NO = @[bkg_no])			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="tro_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
