<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="KoreaCustomsReportDBDAOsearchOfmCntrInfoRSQL">
			<desc><![CDATA[Container  Info 조회]]></desc>
			<sql><![CDATA[
SELECT  NVL(CNTR.CNTR_NO,' ')||'-'||NVL(CNTR.CNTR_TPSZ_CD,' ')||CHR(10)||'/'||NVL(SEAL.CNTR_SEAL_NO,' ') CNTR_INFO
     ,  DG.CLSS DG_CLSS
 FROM   BKG_CONTAINER CNTR, 
        (SELECT DISTINCT BKG_JOIN_FNC(CURSOR(SELECT CNTR_SEAL_NO FROM BKG_CNTR_SEAL_NO WHERE  BKG_NO = @[bkg_no] AND CNTR_NO = BCSN.CNTR_NO ),' ') CNTR_SEAL_NO, CNTR_NO, BKG_NO
        FROM BKG_CNTR_SEAL_NO BCSN
        WHERE BKG_NO = @[bkg_no]) SEAL, 
         (SELECT DISTINCT CNTR_NO CNTR, IMDG_CLSS_CD CLSS
        FROM   BKG_DG_CGO
        WHERE  BKG_NO = @[bkg_no]) DG
WHERE CNTR.BKG_NO= @[bkg_no]
AND   CNTR.BKG_NO = SEAL.BKG_NO(+)
AND   CNTR.CNTR_NO = SEAL.CNTR_NO(+)
AND   CNTR.CNTR_NO = DG.CNTR(+)
ORDER BY CNTR.CNTR_NO, SEAL.CNTR_SEAL_NO			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
