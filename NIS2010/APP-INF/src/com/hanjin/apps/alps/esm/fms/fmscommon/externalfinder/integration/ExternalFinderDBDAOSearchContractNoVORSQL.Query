<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ExternalFinderDBDAOSearchContractNoVORSQL">
			<desc><![CDATA[DESC Enter..]]></desc>
			<sql><![CDATA[
SELECT AA.VSL_CD
     , AA.FLET_CTRT_NO
     , AA.VSL_ENG_NM
     , AA.FLET_CTRT_TP_CD
  FROM (SELECT A.VSL_CD
             , A.FLET_CTRT_NO
             , A.VSL_ENG_NM
             , A.FLET_CTRT_TP_CD
             , A.CRE_DT
          FROM (SELECT MVC.VSL_CD
                     , FC.FLET_CTRT_NO
                     , MVC.VSL_ENG_NM
                     , FC.FLET_CTRT_TP_CD
                     , FC.CRE_DT
                  FROM FMS_CONTRACT FC
                     , MDM_VSL_CNTR MVC
                 WHERE FC.VSL_CD = MVC.VSL_CD
                #if(${type_flag} != '') 
                   AND FC.FLET_CTRT_TP_CD IN (
                       #foreach($TYPE_FLAG IN ${list_type_flag})
                            #if($list_type_flag.hasNext()) '$TYPE_FLAG', #else '$TYPE_FLAG' #end
                       #end
                       )
                #end
                   AND FC.VSL_CD = @[vsl_cd]
                   AND (FC.DELT_FLG = 'N' OR FC.DELT_FLG IS NULL)
                   AND MVC.DELT_FLG = 'N'
                #if(${ctrt_flag} != 'Y')
                   AND FLET_CTRT_FACT_CD = 'ACT'
                #end
                 ORDER BY FC.CRE_DT DESC 
                 ) A
         ORDER BY 
				 #if(${order_priority} == 'TO')
                    A.FLET_CTRT_TP_CD DESC 
                 #else
                    A.FLET_CTRT_TP_CD ASC 
				 #end
                 ,A.CRE_DT DESC
       ) AA
 WHERE ROWNUM = 1			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
