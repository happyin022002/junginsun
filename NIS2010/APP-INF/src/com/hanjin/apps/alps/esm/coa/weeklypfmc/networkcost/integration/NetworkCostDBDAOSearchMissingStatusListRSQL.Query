<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="NetworkCostDBDAOSearchMissingStatusListRSQL">
			<desc><![CDATA[SearchMissingStatusList SELECT]]></desc>
			<sql><![CDATA[
SELECT
      #if (${cost_yrwk} == 'W')
          SUBSTR(A1.COST_YRWK,1,4)||'-'||SUBSTR(A1.COST_YRWK,5,2)   AS COST_YRWK
      #else
          SUBSTR(A1.COST_YRWK,1,4)||'-'||A1.COST_MON                AS COST_YRWK
      #end
     ,A1.STND_COST_CD                                               AS STND_COST_CD
     ,A2.STND_COST_NM                                               AS STND_COST_NM
     ,A1.TRD_CD                                                     AS TRD_CD
     ,A1.RLANE_CD                                                   AS RLANE_CD
     ,A1.IOC_CD                                                     AS IOC_CD
     ,A1.VSL_CD||A1.SKD_VOY_NO||A1.DIR_CD                           AS VVD_CD
     ,TO_CHAR(A1.CRE_DT,'YYYY-MM-DD HH24:MI:SS')                    AS CRE_DT
     ,A1.COST_CALC_RMK                                              AS COST_CALC_RMK
FROM COA_MSS_STS   A1
    ,COA_STND_ACCT A2
WHERE A1.STND_COST_CD = A2.STND_COST_CD (+)
    AND A1.PRC_NM = @[prc_nm]

    #if (${bsa_zr_flg} != '')
        AND A1.BSA_ZR_FLG = @[bsa_zr_flg]
    #end

    #if (${cost_yrwk} == 'W')
        AND A1.COST_YRWK BETWEEN @[year]||@[fm_week] AND @[year]||@[to_week]
    #else
        AND SUBSTR(A1.COST_YRWK,1,4) || A1.COST_MON BETWEEN @[year]||@[fm_month] AND @[year]||@[to_month]
    #end

    #if (${trd_cd} != '')
        AND A1.TRD_CD = @[trd_cd]
    #end
    #if (${rlane_cd} != '')
        AND A1.RLANE_CD = @[rlane_cd]
    #end
    #if (${vsl_cd} != '')
        AND A1.VSL_CD = @[vsl_cd]
    #end
    #if (${skd_voy_no} != '')
        AND A1.SKD_VOY_NO = @[skd_voy_no]
    #end
    #if (${dir_cd} != '')
        AND A1.DIR_CD = @[dir_cd]
    #end
    #if (${stnd_cost_cd} != '')
        AND A1.STND_COST_CD = @[stnd_cost_cd]
    #end

 ORDER BY 1			]]></sql>
			<params>
				<param name="prc_nm" type="12" value="" out="Y"/>
				<param name="bsa_zr_flg" type="12" value="" out="Y"/>
				<param name="year" type="12" value="" out="Y"/>
				<param name="fm_week" type="12" value="" out="Y"/>
				<param name="to_week" type="12" value="" out="Y"/>
				<param name="fm_month" type="12" value="" out="Y"/>
				<param name="to_month" type="12" value="" out="Y"/>
				<param name="trd_cd" type="12" value="" out="Y"/>
				<param name="rlane_cd" type="12" value="" out="Y"/>
				<param name="vsl_cd" type="12" value="" out="Y"/>
				<param name="skd_voy_no" type="12" value="" out="Y"/>
				<param name="dir_cd" type="12" value="" out="Y"/>
				<param name="stnd_cost_cd" type="12" value="" out="Y"/>
			</params>
		</query>
	</querys>
</sqls>
