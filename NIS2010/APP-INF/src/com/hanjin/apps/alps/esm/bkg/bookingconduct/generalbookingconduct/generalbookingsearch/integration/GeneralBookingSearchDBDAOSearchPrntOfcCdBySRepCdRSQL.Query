<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingSearchDBDAOSearchPrntOfcCdBySRepCdRSQL">
			<desc><![CDATA[SLS_REP_CD 로 AS 인 PRN_ OFC_CD 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT CASE WHEN SUBSTR(A.OFC_CD,4) = 'AS' THEN A.OFC_CD
            WHEN SUBSTR(B.OFC_CD,4) = 'AS' THEN B.OFC_CD
            WHEN SUBSTR(C.OFC_CD,4) = 'AS' THEN C.OFC_CD
            WHEN SUBSTR(D.OFC_CD,4) = 'AS' THEN D.OFC_CD
            ELSE A.OFC_CD
       END  PRNT_OFC_CD
  FROM MDM_ORGANIZATION A
     , MDM_ORGANIZATION B
     , MDM_ORGANIZATION C
     , MDM_ORGANIZATION D
 WHERE A.OFC_CD    = (SELECT OFC_CD FROM MDM_SLS_REP WHERE SREP_CD = @[srep_cd] AND ROWNUM = 1)
   AND B.OFC_CD(+) = A.PRNT_OFC_CD
   AND C.OFC_CD(+) = B.PRNT_OFC_CD
   AND D.OFC_CD(+) = C.PRNT_OFC_CD			]]></sql>
			<params>
				<param name="srep_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
