<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="EBookingReceiptDBDAOaddBkgXterCntrMkDescCSQL">
			<desc><![CDATA[addBkgXterCntrMkDesc]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_XTER_CNTR_MK_DESC
(
XTER_SNDR_ID
,XTER_RQST_NO
,XTER_RQST_SEQ
,CNTR_SEQ
,MK_DESC_SEQ
,CRE_USR_ID
,CRE_DT
,UPD_USR_ID
,UPD_DT
#if (${cntr_no_size} == '0')
,CNTR_NO
#end
#if ($table_date_columns.size() > 0)
     #foreach($tableColumn IN ${table_columns})
		,${tableColumn}
     #end
     #foreach($tableDateColumns IN ${table_date_columns})
        #if($velocityCount < $table_date_columns.size()) ,${tableDateColumns} #else ,${tableDateColumns} #end
     #end
#else
     #foreach($tableColumn IN ${table_columns})
        #if($velocityCount < $table_columns.size()) ,${tableColumn} #else ,${tableColumn} #end
     #end
#end
)
VALUES
(
@[sender_id]
,@[rqst_no]
,@[rqst_seq]
,NVL(
	(SELECT CNTR_SEQ
	   FROM BKG_XTER_CNTR
	  WHERE XTER_SNDR_ID  = @[sender_id]
	    AND XTER_RQST_NO  = @[rqst_no]
	    AND XTER_RQST_SEQ = @[rqst_seq]
#if (${cntr_no_size} != '0')
	    AND CNTR_NO = #foreach($cntrNo IN ${cntr_no}) '${cntrNo}' #end
#end
	    AND ROWNUM = 1)
	,(SELECT NVL(MAX(CNTR_SEQ), 0) + 1
	   FROM BKG_XTER_CNTR_MK_DESC
	  WHERE XTER_SNDR_ID   = @[sender_id]
	    AND XTER_RQST_NO   = @[rqst_no]
	    AND XTER_RQST_SEQ  = @[rqst_seq])
)
,(SELECT NVL(MAX(MK_DESC_SEQ), 0) + 1
   FROM BKG_XTER_CNTR_MK_DESC
  WHERE XTER_SNDR_ID   = @[sender_id]
    AND XTER_RQST_NO   = @[rqst_no]
    AND XTER_RQST_SEQ  = @[rqst_seq]
#if (${cntr_no_size} != '0')
    AND CNTR_NO = #foreach($cntrNo IN ${cntr_no}) '${cntrNo}' #end
#end
	)
,'SYSTEM'
,sysdate
,'SYSTEM'
,sysdate
#if (${cntr_no_size} == '0')
,'No Data'
#end
#if ($table_date_columns.size() > 0)
     #foreach($tableValue IN ${table_values})
		,'${tableValue}'
     #end
     #foreach($tableDateValue IN ${table_date_values})
        #if($velocityCount < $table_date_values.size()) ,to_date('${tableDateValue}','yyyyMMddhh24miss') #else ,to_date('${tableDateValue}','yyyyMMddhh24miss') #end
     #end
#else
     #foreach($tableValue IN ${table_values})
        #if($velocityCount < $table_values.size()) ,'${tableValue}' #else ,'${tableValue}' #end
     #end
#end
)			]]></sql>
			<params>
				<param name="sender_id" type="12" value="" out="N"/>
				<param name="rqst_no" type="12" value="" out="N"/>
				<param name="rqst_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
