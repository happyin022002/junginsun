<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ArrivalNoticeDBDAOModifyBkgArrNtcAntfyUSQL">
			<desc><![CDATA[BKG_ARR_NTC_ANTFY_SETUP 수정 (merge)]]></desc>
			<sql><![CDATA[
MERGE INTO BKG_ARR_NTC_ANTFY_SETUP A
USING (
        SELECT @[sc_no]             AS SC_NO
             , @[antfy_cust_cd]     AS ANTFY_CUST_CD
             , @[pod_cd]            AS POD_CD
             , @[cust_cntc_tp_cd]   AS CUST_CNTC_TP_CD
          FROM DUAL
      ) B
ON (
            A.SC_NO           = B.SC_NO
        AND A.ANTFY_CUST_CD   = B.ANTFY_CUST_CD
        AND A.POD_CD          = B.POD_CD
        AND A.CUST_CNTC_TP_CD = B.CUST_CNTC_TP_CD
   )
WHEN MATCHED THEN 
    UPDATE SET 
       A.FAX_NO     = @[fax_no]
     , A.CNTC_EML   = @[cntc_eml]
     , A.UPD_USR_ID = @[upd_usr_id]
     , A.UPD_DT     = sysdate
WHEN NOT MATCHED THEN
    INSERT  
    (
          SC_NO
        , ANTFY_CUST_CD
        , POD_CD
        , CUST_CNTC_TP_CD
        , FAX_NO
        , CNTC_EML
        , CRE_USR_ID
        , CRE_DT
        , UPD_USR_ID
        , UPD_DT
    )
    VALUES
    (
          @[sc_no]
        , @[antfy_cust_cd]
        , @[pod_cd]
        , @[cust_cntc_tp_cd]
        , @[fax_no]
        , @[cntc_eml]
        , @[cre_usr_id]
        , sysdate
        , @[upd_usr_id]
        , sysdate

    )			]]></sql>
			<params>
				<param name="sc_no" type="12" value="" out="N"/>
				<param name="antfy_cust_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="cust_cntc_tp_cd" type="12" value="" out="N"/>
				<param name="fax_no" type="12" value="" out="N"/>
				<param name="cntc_eml" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
