<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOsearchEdiRcvSndIdHldRSQL">
			<desc><![CDATA[...]]></desc>
			<sql><![CDATA[
SELECT 'PA' AS EDI_MSG_ID, C.CUST_TRD_PRNR_ID AS EDI_RCV_ID,
       C.PROV_TRD_PRNR_ID AS EDI_SND_ID, A.POD_NOD_CD YD_CD
  FROM BKG_BOOKING      A,
       BKG_CUSTOMER     B,
       EDI_GROUP        C,
       EDI_GRP_CUST     D,
       EDI_GRP_CGO      E
 WHERE A.BL_NO          = @[bl_no]    
   AND A.BKG_NO         = B.BKG_NO
   AND B.BKG_CUST_TP_CD = 'S'
   AND B.CUST_CNT_CD    = D.CUST_CNT_CD
   AND B.CUST_SEQ       = D.CUST_SEQ
   AND D.EDI_GRP_CD     = C.EDI_GRP_CD
   AND D.CO_DIV_CD      = 'SML'
   AND C.DELT_FLG       = 'N'
   AND C.EDI_GRP_CD     = E.EDI_GRP_CD  
   AND C.CO_DIV_CD      = E.CO_DIV_CD        
   AND E.CUST_EDI_STS_CD = 'PA'
   AND ROWNUM           = 1
   AND 'PA1'            = @[edi_knd] 
UNION
SELECT 'PA' AS EDI_MSG_ID, C.CUST_TRD_PRNR_ID AS EDI_RCV_ID,
       C.PROV_TRD_PRNR_ID AS EDI_SND_ID, A.POD_NOD_CD YD_CD
  FROM BKG_BOOKING      A,
       EDI_GROUP        C,
       EDI_GRP_CUST     D,
       EDI_GRP_CGO      E
 WHERE A.BL_NO          = @[bl_no]
   AND A.SC_NO          = D.SC_NO
   AND D.BKG_CTRT_DIV_CD = '1'
   AND D.EDI_GRP_CD     = C.EDI_GRP_CD
   AND D.CO_DIV_CD      = 'SML'
   AND C.DELT_FLG       = 'N'
   AND C.EDI_GRP_CD     = E.EDI_GRP_CD
   AND C.CO_DIV_CD      = E.CO_DIV_CD 
   AND E.CUST_EDI_STS_CD = 'PA'   
   AND ROWNUM           = 1
   AND 'PA1'            = @[edi_knd]  
UNION   
SELECT 'PA' AS EDI_MSG_ID, C.CUST_TRD_PRNR_ID AS EDI_RCV_ID,
       C.PROV_TRD_PRNR_ID AS EDI_SND_ID, A.POD_NOD_CD YD_CD
  FROM BKG_BOOKING      A,
       BKG_CUSTOMER     B,
       EDI_GROUP        C,
       EDI_GRP_CUST     D,
       EDI_GRP_CGO      E
 WHERE A.BL_NO          = @[bl_no]  
   AND A.BKG_NO         = B.BKG_NO
   AND B.BKG_CUST_TP_CD = 'S'
   AND B.CUST_CNT_CD    = D.CUST_CNT_CD
   AND B.CUST_SEQ       = D.CUST_SEQ
   AND D.EDI_GRP_CD     = C.EDI_GRP_CD
   AND D.CO_DIV_CD      = 'SML'
   AND C.DELT_FLG       = 'N'
   AND C.EDI_GRP_CD     = E.EDI_GRP_CD
   AND C.CO_DIV_CD      = E.CO_DIV_CD 
   AND E.CUST_EDI_STS_CD = 'PQ'       
   AND ROWNUM           = 1
   AND 'PQ1'            = @[edi_knd] 
UNION
SELECT 'PA' AS EDI_MSG_ID, C.CUST_TRD_PRNR_ID AS EDI_RCV_ID,
       C.PROV_TRD_PRNR_ID AS EDI_SND_ID, A.POD_NOD_CD YD_CD
  FROM BKG_BOOKING      A,
       EDI_GROUP        C,
       EDI_GRP_CUST     D,
       EDI_GRP_CGO      E
 WHERE A.BL_NO          = @[bl_no]
   AND A.SC_NO          = D.SC_NO
   AND D.BKG_CTRT_DIV_CD = '1'
   AND D.EDI_GRP_CD    = C.EDI_GRP_CD
   AND D.CO_DIV_CD      = 'SML'
   AND C.DELT_FLG       = 'N'
   AND C.EDI_GRP_CD     = E.EDI_GRP_CD
   AND C.CO_DIV_CD      = E.CO_DIV_CD 
   AND E.CUST_EDI_STS_CD = 'PQ'              
   AND ROWNUM           = 1
   AND 'PQ1'            = @[edi_knd]			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="edi_knd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
