<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOmodifyBkgVvdFromCodUSQL">
			<desc><![CDATA[update]]></desc>
			<sql><![CDATA[
insert into bkg_vvd(
       BKG_NO
     , VSL_PRE_PST_CD
	 , VSL_SEQ
	 , SLAN_CD
	 , VSL_CD
	 , SKD_VOY_NO
	 , SKD_DIR_CD
	 , POL_CLPT_IND_SEQ
	 , OP_CD
	 , POL_CD
	 , POL_YD_CD
	 , POD_CD
	 , POD_YD_CD
	 , POD_CLPT_IND_SEQ
	 , CNTR_LODG_FLG   
	 , CRE_USR_ID
	 , CRE_DT
	 , UPD_USR_ID
	 , UPD_DT
   )
   select 
    BKG_NO
  , VSL_PRE_PST_CD
  , VSL_SEQ
  , SLAN_CD
  , VSL_CD
  , SKD_VOY_NO
  , SKD_DIR_CD
  , POL_CLPT_IND_SEQ 
  , VVD_OP_CD
  , substr(POL_YD_CD,1,5) POL_CD
  , case when length(POL_YD_CD)=7 then POL_YD_CD else '' end  POL_YD_CD
  , substr(POD_YD_CD,1,5) POD_CD
  , case when length(POD_YD_CD)=7 then POD_YD_CD else '' end  POD_YD_CD
  , POD_CLPT_IND_SEQ
  ,'N'
  , @[usr_id]
  , sysdate
  , @[usr_id]
  , sysdate
   FROM BKG_COD_VVD
 where BKG_NO = @[bkg_no]
and COD_RQST_SEQ = @[cod_rqst_seq]     
and vvd_op_cd ='N'			]]></sql>
			<params>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cod_rqst_seq" type="2" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
