<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UserSetupMgtDBDAOSearchCustChkPntRSQL">
			<desc><![CDATA[SearchCustChkPnt]]></desc>
			<sql><![CDATA[
SELECT M.CUST_CNT_CD 
       ,LPAD(M.CUST_SEQ,6,0) CUST_SEQ
	   ,C3.CUST_LGL_ENG_NM
       ,M.BKG_OFC_CD
	   ,M.CHK_PNT_TP_CD
	   ,M.CUST_CHK_PNT_SEQ
	   ,M.CHK_PNT_ITM_SEQ
       ,C1.CHK_PNT_ITM_NM
	   ,M.CHK_PNT_ITM_TP_SEQ
       ,C2.CHK_PNT_ITM_TP_NM
       ,M.CHK_PNT_RMK
       ,M.PIC_EML
       ,M.ATCH_FILE_LNK_ID
       ,M.ATCH_FILE_KNT
	   ,M.DELT_FLG
	   ,M.CRE_USR_ID
	   ,M.CRE_DT
	   ,M.UPD_USR_ID
	   ,M.UPD_DT
	   ,U.USR_NM
       ,U.OFC_CD
  FROM BKG_CUST_CHK_PNT M,
       BKG_CHK_PNT_ITM  C1,
       BKG_CHK_PNT_ITM_TP C2,
	   MDM_CUSTOMER C3,
	   COM_USER U       
 WHERE M.CHK_PNT_TP_CD = C1.CHK_PNT_TP_CD(+)
   AND M.CHK_PNT_ITM_SEQ = C1.CHK_PNT_ITM_SEQ(+)
   AND NVL(C1.DELT_FLG(+),'N') = 'N'
   AND M.CHK_PNT_TP_CD = C2.CHK_PNT_TP_CD(+)
   AND M.CHK_PNT_ITM_SEQ = C2.CHK_PNT_ITM_SEQ(+)
   AND M.CHK_PNT_ITM_TP_SEQ = C2.CHK_PNT_ITM_TP_SEQ(+)
   AND NVL(C2.DELT_FLG(+),'N') = 'N'
   AND M.CUST_CNT_CD = C3.CUST_CNT_CD(+)
   AND M.CUST_SEQ = C3.CUST_SEQ(+)   
   AND M.UPD_USR_ID = U.USR_ID(+)
#if (${cust_cnt_cd} != '' && ${cust_seq} !='') 
   AND M.CUST_CNT_CD = @[cust_cnt_cd]
   AND M.CUST_SEQ = @[cust_seq]
#end
   AND M.CHK_PNT_TP_CD = @[chk_pnt_tp_cd]
#if (${bkg_ofc_cd} != '') 
   AND (M.BKG_OFC_CD = @[bkg_ofc_cd] OR NVL(M.BKG_OFC_CD,'N') = 'N')
#end
#if (${delt_flg} == '') 
   AND NVL(M.DELT_FLG,'N') = NVL(@[delt_flg],'N')
#end			]]></sql>
			<params>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="chk_pnt_tp_cd" type="12" value="" out="N"/>
				<param name="bkg_ofc_cd" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
