<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CalculateDBDAOPriPrsUsdRoutCsInfoSimulationCSQL">
			<desc><![CDATA[Proposal Scope Copy PRI_SP_SCP_RT_ACT_CUST Insert

* History
2015.06.26 CHM-201536492 Split05-주간 MAS Open에 따른 타모듈 프로그램 적용 요청]]></desc>
			<sql><![CDATA[
INSERT INTO PRI_PRS_USD_ROUT_CS_INFO
(
        ROUT_CS_NO
        , ROUT_CS_SRC_DT
        , PCTL_NO
        , BKG_NO
        , MTY_PKUP_YD_CD
        , POR_CD
        , POR_NOD_CD
        , POL_CD
        , N1ST_TS_PORT_CD
        , N2ND_TS_PORT_CD
        , N3RD_TS_PORT_CD
        , POD_CD
        , DEL_CD
        , DEL_NOD_CD
        , MTY_RTN_YD_CD
        , TTL_TZTM_HRS
        , PROD_REV
        , TTL_EXPN_AMT
        , CM_AMT
        , TRNK_AVAL_SPC
        , BKG_SEL_FLG
        , COP_CRE_FLG
        , OB_ITCHG_CTNT
        , IB_ITCHG_CTNT
        , TRNK_VSL_CD
        , TRNK_SKD_VOY_NO
        , TRNK_SKD_DIR_CD
        , CNST_FLG
        , BKG_CGO_TP_CD
        , BKG_RCV_TERM_CD
        , CMDT_CD
        , BKG_DE_TERM_CD
        , REP_CMDT_CD
        , SHPR_CNT_CD
        , SHPR_SEQ
        , CNEE_CNT_CD
        , CNEE_SEQ
        , SC_NO
        , RFA_NO
        , DG_CLSS_CD
        , DG_SPCL_FLG
        , RF_SPCL_FLG
        , SPCL_AWK_CGO_FLG
        , BB_SPCL_FLG
        , RD_SPCL_FLG
        , HNGR_SPCL_FLG
        , SOC_FLG
        , EQ_SUBST_FLG
        , BKG_WGT
        , BKG_WGT_UT_CD
        , SLS_OFC_CD
        , SLS_RHQ_CD
        , SLS_HO_CD
        , BKG_OFC_CD
        , CRE_OFC_CD
        , N1ST_FINC_VVD_CD
        , N2ND_FINC_VVD_CD
        , N3RD_FINC_VVD_CD
        , N4TH_FINC_VVD_CD
        , N1ST_RLANE_CD
        , N2ND_RLANE_CD
        , N3RD_RLANE_CD
        , N4TH_RLANE_CD
        , N1ST_TRD_CD
        , N2ND_TRD_CD
        , N3RD_TRD_CD
        , N4TH_TRD_CD
        , SC_OFC_CD
        , RFA_OFC_CD
        , COST_ROUT_NO
        , PARA_ROUT_NO
        , PPD_OFC_CD
        , CLT_OFC_CD
        , CRE_USR_ID
        , CRE_DT
        , UPD_USR_ID
        , UPD_DT
)  
	SELECT @[rout_cs_no] AS ROUT_CS_NO
		, @[rout_cs_src_dt] AS ROUT_CS_SRC_DT
		, PCTL_NO
		, BKG_NO
		, MTY_PKUP_YD_CD
		, POR_CD
		, POR_NOD_CD
		, POL_CD
		, N1ST_TS_PORT_CD
		, N2ND_TS_PORT_CD
		, N3RD_TS_PORT_CD
		, POD_CD
		, DEL_CD
		, DEL_NOD_CD
		, MTY_RTN_YD_CD
		, TTL_TZTM_HRS
		, PROD_REV
		, TTL_EXPN_AMT
		, CM_AMT
		, TRNK_AVAL_SPC
		, BKG_SEL_FLG
		, COP_CRE_FLG
		, OB_ITCHG_CTNT
		, IB_ITCHG_CTNT
		, TRNK_VSL_CD
		, TRNK_SKD_VOY_NO
		, TRNK_SKD_DIR_CD
		, CNST_FLG
		, BKG_CGO_TP_CD
		, BKG_RCV_TERM_CD
		, CMDT_CD
		, BKG_DE_TERM_CD
		, REP_CMDT_CD
		, SHPR_CNT_CD
		, SHPR_SEQ
		, CNEE_CNT_CD
		, CNEE_SEQ
		, SC_NO
		, RFA_NO
		, DG_CLSS_CD
		, DG_SPCL_FLG
		, RF_SPCL_FLG
		, SPCL_AWK_CGO_FLG
		, BB_SPCL_FLG
		, RD_SPCL_FLG
		, HNGR_SPCL_FLG
		, SOC_FLG
		, EQ_SUBST_FLG
		, BKG_WGT
		, BKG_WGT_UT_CD
		, SLS_OFC_CD
		, SLS_RHQ_CD
		, SLS_HO_CD
		, BKG_OFC_CD
		, CRE_OFC_CD
		, N1ST_FINC_VVD_CD
		, N2ND_FINC_VVD_CD
		, N3RD_FINC_VVD_CD
		, N4TH_FINC_VVD_CD
		, N1ST_RLANE_CD
		, N2ND_RLANE_CD
		, N3RD_RLANE_CD
		, N4TH_RLANE_CD
		, N1ST_TRD_CD
		, N2ND_TRD_CD
		, N3RD_TRD_CD
		, N4TH_TRD_CD
		, SC_OFC_CD
		, RFA_OFC_CD
		, COST_ROUT_NO
		, PARA_ROUT_NO
		, PPD_OFC_CD
		, CLT_OFC_CD
		, @[upd_usr_id]
		, SYSDATE
		, @[upd_usr_id]
		, SYSDATE
	FROM MAS_COM_PARA MN
	WHERE PCTL_NO = @[pctl_no]
	AND EXISTS (
			/* COST가 없다면 INFO도 INSERT하지 않는다. */
        	SELECT 'F'
        	FROM MAS_COM_COST_PARA C
        	WHERE C.PCTL_NO = 	MN.PCTL_NO
        		AND ( C.ESTM_USD_UC_AMT <> 0 OR C.RESPB_USD_UC_AMT <> 0 OR C.ESTM_USD_TTL_AMT <> 0  OR C.RESPB_USD_TTL_AMT <> 0 )
        		AND ROWNUM = 1
		)			]]></sql>
			<params>
				<param name="rout_cs_no" type="12" value="" out="N"/>
				<param name="rout_cs_src_dt" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="pctl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
