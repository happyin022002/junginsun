<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CustomsMasterMgtDBDAOManageLocCodeUSQL">
			<desc><![CDATA[ 0354 Canada ACI: Location of Goods Setup - Loc Code 생성/수정			]]></desc>
			<sql><![CDATA[
MERGE INTO BKG_CSTMS_CND_GDS_LOC TA
    USING (
            SELECT   @[pod_cd] POD_CD
                   , @[del_cd] DEL_CD
                   , @[hub_loc_cd] HUB_LOC_CD
                   , @[trsp_mod_id] TRSP_MOD_ID
                   , @[gds_desc] GDS_DESC
				   , @[cstms_cd] CSTMS_CD
                   , @[upd_usr_id] UPD_USR_ID
                   , @[pod_yd_no] POD_YD_NO
                   , @[gds_loc_seq] GDS_LOC_SEQ
            FROM   DUAL
          ) TB
    ON(TA.GDS_LOC_SEQ = TB.GDS_LOC_SEQ)
 WHEN MATCHED THEN
    UPDATE SET HUB_LOC_CD  = TB.HUB_LOC_CD
             , TRSP_MOD_ID = TB.TRSP_MOD_ID
             , GDS_DESC    = TB.GDS_DESC
			 , CSTMS_CD	   = TB.CSTMS_CD
             , UPD_USR_ID  = TB.UPD_USR_ID
             , UPD_DT      = SYSDATE
             , POD_YD_NO   = TB.POD_YD_NO
 WHEN NOT MATCHED THEN 
    INSERT (POD_CD        ,DEL_CD    ,HUB_LOC_CD    ,TRSP_MOD_ID    ,GDS_DESC       ,CSTMS_CD    
           ,CRE_USR_ID    ,CRE_DT    ,UPD_USR_ID    ,UPD_DT         ,POD_YD_NO      ,GDS_LOC_SEQ)
    VALUES (TB.POD_CD     ,TB.DEL_CD ,TB.HUB_LOC_CD ,TB.TRSP_MOD_ID ,TB.GDS_DESC    ,TB.CSTMS_CD
           ,TB.UPD_USR_ID ,SYSDATE   ,TB.UPD_USR_ID ,SYSDATE        ,TB.POD_YD_NO   ,( SELECT NVL(MAX(GDS_LOC_SEQ),0) + 1 FROM BKG_CSTMS_CND_GDS_LOC )
           )			]]></sql>
			<params>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="del_cd" type="12" value="" out="N"/>
				<param name="hub_loc_cd" type="12" value="" out="N"/>
				<param name="trsp_mod_id" type="12" value="" out="N"/>
				<param name="gds_desc" type="12" value="" out="N"/>
				<param name="cstms_cd" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="pod_yd_no" type="12" value="" out="N"/>
				<param name="gds_loc_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
