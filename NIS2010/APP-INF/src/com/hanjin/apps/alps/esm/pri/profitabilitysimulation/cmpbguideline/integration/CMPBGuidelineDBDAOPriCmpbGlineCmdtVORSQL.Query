<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CMPBGuidelineDBDAOPriCmpbGlineCmdtVORSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT 
	A.SVC_SCP_CD
,	A.CRE_OFC_CD
,	A.GLINE_SEQ
,	A.PRS_CUST_TP_CD
,	A.BSE_SEQ
,	A.CMDT_SEQ
,	A.PRC_CMDT_TP_CD
,	A.PRC_CMDT_DEF_CD
,	A.CRE_USR_ID
,	A.CRE_DT
,	A.UPD_USR_ID
,	A.UPD_DT
,	DECODE(A.PRC_CMDT_TP_CD,
          'G',                                            
          (SELECT PRC_GRP_CMDT_DESC                       --GROUP COMMODITY
             FROM PRI_CMPB_GRP_CMDT
            WHERE SVC_SCP_CD = A.SVC_SCP_CD
              AND   CRE_OFC_CD = A.CRE_OFC_CD
              AND   GLINE_SEQ = A.GLINE_SEQ
              AND   PRC_GRP_CMDT_CD = A.PRC_CMDT_DEF_CD
              AND   ROWNUM = 1),
          'R',
          (SELECT REP_CMDT_NM                             --REP COMMODITY
             FROM MDM_REP_CMDT
            WHERE REP_CMDT_CD = A.PRC_CMDT_DEF_CD
              AND ROWNUM = 1),
          'C',
          (SELECT CMDT_NM                                  --COMMODITY
             FROM MDM_COMMODITY
            WHERE CMDT_CD = A.PRC_CMDT_DEF_CD
              AND ROWNUM = 1)) AS PRC_CMDT_DEF_NM
FROM PRI_CMPB_GLINE_CMDT A
WHERE	A.SVC_SCP_CD = @[svc_scp_cd]
AND	A.CRE_OFC_CD = @[cre_ofc_cd]
AND	A.GLINE_SEQ = @[gline_seq]
AND	A.PRS_CUST_TP_CD = @[prs_cust_tp_cd]
AND	A.BSE_SEQ = @[bse_seq]
ORDER BY DECODE(A.PRC_CMDT_TP_CD, 'G','1','R','2','C','3'),  A.PRC_CMDT_DEF_CD			]]></sql>
			<params>
				<param name="svc_scp_cd" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="gline_seq" type="2" value="" out="N"/>
				<param name="prs_cust_tp_cd" type="12" value="" out="N"/>
				<param name="bse_seq" type="2" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
