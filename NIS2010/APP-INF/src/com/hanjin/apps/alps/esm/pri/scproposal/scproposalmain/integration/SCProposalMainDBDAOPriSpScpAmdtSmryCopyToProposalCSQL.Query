<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SCProposalMainDBDAOPriSpScpAmdtSmryCopyToProposalCSQL">
			<desc><![CDATA[PriSpScpAmdtSmryCopyToProposal]]></desc>
			<sql><![CDATA[
INSERT INTO PRI_SP_SCP_AMDT_SMRY(
    PROP_NO,
    AMDT_SEQ,
    SVC_SCP_CD,
    PROP_SCP_TERM_TP_CD,
    AMDT_FLG,
    ACPT_FLG,
    CRE_USR_ID,
    CRE_DT,
    UPD_USR_ID,
    UPD_DT
)
SELECT
    @[new_prop_no]      ,
    0         ,
    B.SVC_SCP_CD       ,
    A.INTG_CD_VAL_CTNT    ,
    (CASE WHEN INTG_CD_VAL_CTNT = '11' THEN 'Y'	
		  WHEN INTG_CD_VAL_CTNT = '12' THEN 'Y'	 	
		  WHEN INTG_CD_VAL_CTNT = '13' THEN DECODE(@[frm_grp_loc_cnt],'Y','Y','N')  
		  WHEN INTG_CD_VAL_CTNT = '14' THEN DECODE(@[frm_grp_cmdt_cnt],'Y','Y','N') 	
          WHEN INTG_CD_VAL_CTNT = '71' THEN DECODE(@[frm_rate_g_cnt],'Y','Y','N')
		  WHEN INTG_CD_VAL_CTNT = '72' THEN DECODE(@[frm_rate_s_cnt],'Y','Y','N')
          ELSE 'N' 
    END)                 ,
    'N'                 ,
    @[cre_usr_id]       ,
    SYSDATE             ,
    @[upd_usr_id]       ,
    SYSDATE             
FROM 
    COM_INTG_CD_DTL A
,   PRI_SQ_MN B
WHERE     
    INTG_CD_ID = 'CD01738'
AND   B.QTTN_NO = @[qttn_no]
AND   B.QTTN_VER_NO = @[qttn_ver_no]			]]></sql>
			<params>
				<param name="new_prop_no" type="12" value="" out="N"/>
				<param name="frm_grp_loc_cnt" type="12" value="" out="N"/>
				<param name="frm_grp_cmdt_cnt" type="12" value="" out="N"/>
				<param name="frm_rate_g_cnt" type="12" value="" out="N"/>
				<param name="frm_rate_s_cnt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="qttn_no" type="12" value="" out="N"/>
				<param name="qttn_ver_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
