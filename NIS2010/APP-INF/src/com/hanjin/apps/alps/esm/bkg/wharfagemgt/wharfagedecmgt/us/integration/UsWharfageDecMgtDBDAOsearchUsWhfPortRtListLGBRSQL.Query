<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UsWharfageDecMgtDBDAOsearchUsWhfPortRtListLGBRSQL">
			<desc><![CDATA[searchUsWhfPortRtListLGB]]></desc>
			<sql><![CDATA[
SELECT TB.*, @[port] PORT, @[bound] BOUND, @[eff_dt] EFF_DT
  FROM (
SELECT '1' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'20F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '20F'
UNION ALL
SELECT '2' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'40F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '40F'
UNION ALL
SELECT '3' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'45F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '45F'
UNION ALL
SELECT '4' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'Y' USA_WHF_EXPT_FLG
      ,'20F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'Y'
   AND USA_WHF_RAT_UT_CD = '20F'
UNION ALL
SELECT '5' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'Y' USA_WHF_EXPT_FLG
      ,'40F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'Y'
   AND USA_WHF_RAT_UT_CD = '40F'
UNION ALL
SELECT '6' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'F' FULL_MTY_CD
      ,'Y' USA_WHF_EXPT_FLG
      ,'45F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'F'
   AND USA_WHF_EXPT_FLG = 'Y'
   AND USA_WHF_RAT_UT_CD = '45F'
UNION ALL
SELECT '7' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'M' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'20F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'M'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '20F'
UNION ALL
SELECT '8' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'M' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'40F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'M'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '40F'
UNION ALL
SELECT '9' AS SEQ
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'L', WHF_UT_PRC, 0)) AS LOCAL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'R', WHF_UT_PRC, 0)) AS RAIL_PRC
      ,MAX(DECODE(RT_DTL.USA_WHF_TRSP_TP_CD, 'T', WHF_UT_PRC, 0)) AS TS_PRC
      ,'M' FULL_MTY_CD
      ,'N' USA_WHF_EXPT_FLG
      ,'45F' USA_WHF_RAT_UT_CD
  FROM BKG_USA_WHF_RT_DTL RT_DTL
 WHERE PORT_CD = @[port]
   AND RT_DTL.IO_BND_CD = @[bound]
   AND RT_DTL.EFF_DT = TO_DATE(@[eff_dt],'YYYYMMDD')
   AND FULL_MTY_CD = 'M'
   AND USA_WHF_EXPT_FLG = 'N'
   AND USA_WHF_RAT_UT_CD = '45F'
) TB
ORDER BY SEQ			]]></sql>
			<params>
				<param name="port" type="12" value="" out="N"/>
				<param name="bound" type="12" value="" out="N"/>
				<param name="eff_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
