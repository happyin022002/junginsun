<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingUtilDBDAOsearchPotentialDgFlgRSQL">
			<desc><![CDATA[Potential DG 화물 목록을 체크한다]]></desc>
			<sql><![CDATA[
SELECT DECODE(COUNT(*),0,'N','Y') RSLT
FROM (
    SELECT BHCC.*
    FROM BKG_BLCK_KW_LIST BHCC
         ,BKG_BL_DOC BBD
    WHERE	BLCK_KW_TP_CD = 'POT'
    AND BBD.BKG_NO = @[bkg_no]
    AND UPPER(BBD.CSTMS_DESC) LIKE '%'||BHCC.BLCK_KW_NM||'%'
    UNION ALL
    SELECT BHCC.*
    FROM BKG_BLCK_KW_LIST BHCC
         ,BKG_BL_MK_DESC BBM
    WHERE	BLCK_KW_TP_CD = 'POT'
    AND BBM.BKG_NO = @[bkg_no]
    AND UPPER(BBM.CMDT_DESC) LIKE '%'||BHCC.BLCK_KW_NM||'%'
    UNION ALL
    SELECT BHCC.*
    FROM BKG_BLCK_KW_LIST BHCC
         ,BKG_CNTR_MF_DESC BBMD
    WHERE	BLCK_KW_TP_CD = 'POT'
    AND BBMD.BKG_NO = @[bkg_no]
    AND UPPER(BBMD.CNTR_MF_GDS_DESC) LIKE '%'||BHCC.BLCK_KW_NM||'%'
    )			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
