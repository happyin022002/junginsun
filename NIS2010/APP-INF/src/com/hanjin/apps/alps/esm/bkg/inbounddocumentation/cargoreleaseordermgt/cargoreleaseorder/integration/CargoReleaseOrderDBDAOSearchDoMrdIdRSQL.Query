<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOSearchDoMrdIdRSQL">
			<desc><![CDATA[레포트 출력폼 설정을 위한 정보 조회]]></desc>
			<sql><![CDATA[
SELECT  CTNT.ATTR_CTNT4  || '@@' || CTNT.ATTR_CTNT5||CTNT.ATTR_CTNT6      AS MRD_ID  -- MRD_ID 
FROM  
( 
     SELECT FOM.DO_FOM_PRV_CD                                             AS FOM_CD     -- 출력 FORM의 종류 (DO-D/O FORM, BL-B/L FORM, EU-EU FORM)
          , CASE WHEN USR.CONTI_CD IN ('AF','EN','EC','AW','AE') THEN USR.CONTI_CD
                 ELSE '*' END                                             AS CONTI_CD
          
          , CASE WHEN USR.CNT_CD IN ('KR','JP','IN','VN','BD')   THEN USR.CNT_CD
                 ELSE '*' END                                             AS CNT_CD
       
     FROM BKG_DO_FOM FOM, ( SELECT  MDM.CNT_CD    AS CNT_CD
                                  , ORG.OFC_CD    AS OFC_CD
                                  , MDM.SCONTI_CD AS CONTI_CD
                            FROM MDM_ORGANIZATION ORG
                                ,MDM_LOCATION     LOC
                                ,MDM_COUNTRY      MDM                           
                            WHERE ORG.OFC_CD    = @[ofc_cd]   
                            AND   LOC.LOC_CD(+) = ORG.LOC_CD   
                            AND   MDM.CNT_CD(+) = LOC.CNT_CD  ) USR
     WHERE FOM.OFC_CD = USR.OFC_CD
) DO_FOM_SUB
 ,BKG_HRD_CDG_CTNT CTNT
WHERE CTNT.HRD_CDG_ID='DO_MRD_ID'  
  AND CTNT.ATTR_CTNT1 = NVL(DO_FOM_SUB.CONTI_CD,'*')    -- CONTINENT CODE
  AND CTNT.ATTR_CTNT2 = NVL(DO_FOM_SUB.CNT_CD,'*')      -- COUNTRY CODE
  AND CTNT.ATTR_CTNT3 = DO_FOM_SUB.FOM_CD			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
