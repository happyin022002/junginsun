<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOAddBkgEblAvcCntrCSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_EBL_AVC_CNTR
	(BKG_NO
	,BL_NO
	,BKG_EBL_SEQ
	,CNTR_SEQ
	,DOC_PARA_NO1
	,DOC_PARA_NO2
	,CNTR_NO
	,CNTR_TPSZ_CD
	,CNTR_PRT_FLG
	,CNTR_WGT
	,CNTR_OP_CAPA
	,CNTR_VOL_QTY
	,CNTR_SEAL_NO
	,IF_FLG
	,CRE_USR_ID
	,CRE_DT
	,UPD_USR_ID
	,UPD_DT
	,CGO_DESC
	,PCK_TP_CD
	,WGT_UT_CD
	,MEAS_UT_CD)
SELECT	C.BKG_NO BKG_NO      
	,B.BL_NO BL_NO       
	,@[bkg_ebl_seq] BKG_EBL_SEQ
	,ROWNUM CNTR_SEQ
	,C.BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000')) DOC_PARA_NO1
	,C.BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000'))||LTRIM(TO_CHAR(ROWNUM, '0000')) DOC_PARA_NO2
	,C.CNTR_NO CNTR_NO     
	,C.CNTR_TPSZ_CD CNTR_TPSZ_CD
	,C.CNTR_PRT_FLG CNTR_PRT_FLG
	,C.CNTR_WGT CNTR_WGT    
	,C.MEAS_QTY CNTR_OP_CAPA
	,C.PCK_QTY CNTR_VOL_QTY
	,'S/'||S.CNTR_SEAL_NO CNTR_SEAL_NO
	,'N' IF_FLG      
	,@[usr_id] CRE_USR_ID  
	,SYSDATE CRE_DT      
	,@[usr_id] UPD_USR_ID  
	,SYSDATE UPD_DT
	,DECODE(NVL(C.RCV_TERM_CD,' '),'Y','CY','H','CY',' ',' ',C.RCV_TERM_CD)||'/'||DECODE(NVL(C.DE_TERM_CD,' '),'Y','CY','H','CY',' ',' ',C.DE_TERM_CD) CGO_DESC
	,C.PCK_TP_CD
	,C.WGT_UT_CD
	,C.MEAS_UT_CD
  FROM	BKG_CONTAINER C,
        BKG_BOOKING B,
		BKG_CNTR_SEAL_NO S
 WHERE 	C.BKG_NO = B.BKG_NO
   AND  C.BKG_NO = S.BKG_NO(+)
   AND  C.CNTR_NO = S.CNTR_NO(+)
   AND  S.CNTR_SEAL_SEQ(+) = 1
   AND  C.BKG_NO = @[bkg_no]			]]></sql>
			<params>
				<param name="bkg_ebl_seq" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
