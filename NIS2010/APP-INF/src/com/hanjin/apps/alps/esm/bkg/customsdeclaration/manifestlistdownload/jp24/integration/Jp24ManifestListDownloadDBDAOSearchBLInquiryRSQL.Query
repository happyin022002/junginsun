<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="Jp24ManifestListDownloadDBDAOSearchBLInquiryRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT ADVBL.BL_NO,
       ADVBL.VSL_CD||ADVBL.SKD_VOY_NO||ADVBL.SKD_DIR_CD AS VVD,
       VSL.VSL_ENG_NM,
       ADVBL.RVIS_CNTR_CUST_TP_CD AS MST_BL,
       ADVBL.POL_CD,
       ADVBL.POD_CD,
       SUBSTR(ADVBL.POD_CD, 3, 3) AS POD_POSTFIX,
       ADVBL.BKG_DEL_CD,
       ADVBL.RCV_TERM_CD,
       ADVBL.DE_TERM_CD,
       ADVBL.PCK_QTY,
       ADVBL.PCK_TP_CD,
       ADVBL.GRS_WGT,
       ADVBL.WGT_UT_CD,
       ADVBL.MEAS_QTY,
       ADVBL.MEAS_UT_CD,
       ADVBL.CMDT_CD,
       ADVBL.IMDG_CLSS_CD,
       ADVBL.IMDG_UN_NO,
       --------------------------
       SHPR.CUST_CNT_CD AS SHPR_CNT_CD,
       SHPR.CUST_SEQ AS SHPR_SEQ,
       SHPR.PHN_NO AS SHPR_PHN_NO,
       SHPR.FAX_NO AS SHPR_FAX_NO,
       SHPR.CUST_NM AS SHPR_NM,
       SHPR.CUST_ADDR AS SHPR_ADDR,
       CNEE.CUST_CNT_CD AS CNEE_CNT_CD,
       CNEE.CUST_SEQ AS CNEE_SEQ,
       CNEE.PHN_NO AS CNEE_PHN_NO,
       CNEE.FAX_NO AS CNEE_FAX_NO,
       CNEE.CUST_NM AS CNEE_NM,
       CNEE.CUST_ADDR AS CNEE_ADDR,
       NTFY.CUST_CNT_CD AS NTFY_CNT_CD,
       NTFY.CUST_SEQ AS NTFY_SEQ,
       NTFY.PHN_NO AS NTFY_PHN_NO,
       NTFY.FAX_NO AS NTFY_FAX_NO,
       NTFY.CUST_NM AS NTFY_NM,
       NTFY.CUST_ADDR AS NTFY_ADDR,
       --------------------------
       ADVBL.LOCL_TS_IND_CD,
       ADVBL.JP_CSTMS_TRNS_CD,
       ADVBL.LMT_NO,
       ADVBL.CY_OPR_ID,
       DECODE(ADVBL.POD_CD, VVD.POD_CD, 'DIR', 'T/S') AS POD_DIV,
       CUST.RVIS_CNTR_CUST_TP_CD

  FROM BKG_VVD VVD,
       BKG_CSTMS_ADV_JP_BL ADVBL,
       BKG_CSTMS_ADV_JP_CUST SHPR,
       BKG_CSTMS_ADV_JP_CUST CNEE,
       BKG_CSTMS_ADV_JP_CUST NTFY,
       MDM_VSL_CNTR VSL,
       MDM_CUSTOMER CUST

 WHERE ADVBL.BL_NO = @[bl_no]
   AND ADVBL.JP_BL_STS_CD = 'A'
   AND ADVBL.BL_NO = VVD.BKG_NO
   AND ADVBL.VSL_CD = VVD.VSL_CD
   AND ADVBL.SKD_VOY_NO = VVD.SKD_VOY_NO
   AND ADVBL.SKD_DIR_CD = VVD.SKD_DIR_CD
   AND CUST.CUST_SEQ(+) = SHPR.CUST_SEQ
   AND CUST.CUST_CNT_CD(+) = SHPR.CUST_CNT_CD
   AND ADVBL.BL_NO = SHPR.BL_NO(+)
   AND ADVBL.BL_SPLIT_NO = SHPR.BL_SPLIT_NO(+)
   AND SHPR.BKG_CUST_TP_CD(+) = 'S'
   AND ADVBL.BL_NO = CNEE.BL_NO(+)
   AND ADVBL.BL_SPLIT_NO = CNEE.BL_SPLIT_NO(+)
   AND CNEE.BKG_CUST_TP_CD(+) = 'C'
   AND ADVBL.BL_NO = NTFY.BL_NO(+)
   AND ADVBL.BL_SPLIT_NO = NTFY.BL_SPLIT_NO(+)
   AND NTFY.BKG_CUST_TP_CD(+) = 'N'
   AND ADVBL.VSL_CD = VSL.VSL_CD
			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
