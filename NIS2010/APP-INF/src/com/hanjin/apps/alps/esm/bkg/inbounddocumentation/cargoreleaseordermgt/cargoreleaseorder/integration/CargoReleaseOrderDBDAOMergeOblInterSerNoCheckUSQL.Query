<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOMergeOblInterSerNoCheckUSQL">
			<desc><![CDATA[WEB B/L Printed : Serial Number 관련하여 체크한 사용자 등록]]></desc>
			<sql><![CDATA[
MERGE INTO BKG_DO_REF REF 
USING (
    SELECT @[bkg_no] AS BKG_NO
			,@[usr_id] AS UPD_USR_ID     
			,@[usr_id] AS CRE_USR_ID     
			,@[usr_id] AS OBL_INTER_SER_NO_CHK_USR_ID
    FROM DUAL
) T 
ON (REF.BKG_NO = T.BKG_NO)
WHEN MATCHED THEN
    UPDATE 
    SET  OBL_INTER_SER_NO_CHK_USR_ID = @[usr_id]
        ,OBL_INTER_SER_NO_CHK_DT = SYSDATE
    WHERE BKG_NO = @[bkg_no]
WHEN NOT MATCHED THEN 
    INSERT (
     BKG_NO
    ,CRE_USR_ID
    ,CRE_DT
    ,UPD_USR_ID
    ,UPD_DT
    ,OBL_INTER_SER_NO_CHK_USR_ID
    ,OBL_INTER_SER_NO_CHK_DT
    )
    VALUES( 
     T.BKG_NO                 
    ,T.CRE_USR_ID
    ,SYSDATE
    ,T.UPD_USR_ID
    ,SYSDATE
    ,T.OBL_INTER_SER_NO_CHK_USR_ID
    ,SYSDATE
    )			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="111" out="N"/>
				<param name="usr_id" type="12" value="111" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
