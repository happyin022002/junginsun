<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PSAManifestDBDAOsearchBkgQtyInfoRSQL">
			<desc><![CDATA[BKG Quantity정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT QTY.CNTR_TPSZ_CD CNTRTS_CD
     , DECODE(QTY.BB_CGO_QTY,'1','0',DECODE( SUBSTR( QTY.CNTR_TPSZ_CD, 2, 1 ), '2', '2', '4', '4', '5', '4', '7', '5','8','8','9','8','0' )) CNTR_SZ
     , CEIL( QTY.OP_CNTR_QTY) QTY
     , CEIL( QTY.DCGO_QTY   ) DG_QTY
     , CEIL( QTY.AWK_CGO_QTY) AK_QTY
     , CEIL( GREATEST( QTY.RC_QTY, QTY.OP_CNTR_QTY - (CASE WHEN SUBSTR(CNTR_TPSZ_CD, 1,1) = 'R' AND SUBSTR(EQ_SUBST_CNTR_TPSZ_CD,1,1)= 'D' THEN NVL(EQ_SUBST_CGO_QTY, 0) ELSE 0 END ) )) RF_QTY
     , DECODE(QTY.CNTR_TPSZ_CD,'D5','HC','D7','HC','R5','HC','R7','HC','D9','HC', '') CNTR_HEIGHT
     , (SELECT MAX(CNTR_NO) FROM BKG_CONTAINER CNTR WHERE BB_CGO_FLG = 'Y' AND CNTR.BKG_NO = QTY.BKG_NO) CNTR_NO
FROM        BKG_QUANTITY QTY, BKG_BB_CGO CGO
WHERE       QTY.BKG_NO       =  @[bkg_no]
AND         QTY.BKG_NO = CGO.BKG_NO(+)
AND         QTY.CNTR_TPSZ_CD NOT LIKE 'Q%'
AND         QTY.OP_CNTR_QTY  >   0			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
