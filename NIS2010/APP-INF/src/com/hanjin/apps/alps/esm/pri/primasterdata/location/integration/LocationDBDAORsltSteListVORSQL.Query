<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="LocationDBDAORsltSteListVORSQL">
			<desc><![CDATA[2013.01.23 전윤주 [CHM-201322530] MDM 테이블 delete flag check 로직 추가
2014.04.10 전윤주 [CHM-201429656] State code 항목 추가  (UI ID로 인한 로직 분기 위해 인자 추가)]]></desc>
			<sql><![CDATA[
SELECT A.CNT_CD COMBO_CNT_CD
	 , A.STE_CD
	 , A.STE_NM
	 , C.CONTI_CD
	 , C.SCONTI_CD
  FROM MDM_STATE A, MDM_COUNTRY B, MDM_SUBCONTINENT C 
 WHERE A.CNT_CD = B.CNT_CD
   AND B.SCONTI_CD = C.SCONTI_CD
   AND A.DELT_FLG = 'N'
   AND B.DELT_FLG = 'N'
   AND C.DELT_FLG = 'N'
#if (${combo_cnt_cd} != '') 
   AND A.CNT_CD = @[combo_cnt_cd]
#end
#if (${ui_id} != '4003') 
   #if (${ste_cd} != '') 
   AND A.STE_CD LIKE UPPER(@[ste_cd] || '%')
   #end
#else
   #if (${ste_cd} != '') 
   AND	A.STE_CD = UPPER(@[ste_cd])
   #end
#end
#if (${ste_nm} != '') 
   AND	UPPER(A.STE_NM) LIKE UPPER('%' || @[ste_nm] || '%')
#end
 ORDER BY A.CNT_CD, A.STE_CD			]]></sql>
			<params>
				<param name="combo_cnt_cd" type="12" value="" out="N"/>
				<param name="ste_cd" type="12" value="" out="N"/>
				<param name="ste_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
