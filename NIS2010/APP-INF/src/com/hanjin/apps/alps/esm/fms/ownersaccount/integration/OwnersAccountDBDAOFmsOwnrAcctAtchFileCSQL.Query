<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OwnersAccountDBDAOFmsOwnrAcctAtchFileCSQL">
			<desc><![CDATA[FmsOwnrAcctAtchFile 등록]]></desc>
			<sql><![CDATA[
INSERT INTO FMS_OWNR_ACCT_ATCH_FILE
(
 ATCH_FILE_OA_LNK_ID
,ATCH_FILE_OA_LNK_SEQ
,FILE_SAV_ID
,CRE_USR_ID
,CRE_DT
,UPD_USR_ID
,UPD_DT 
)
SELECT 
(
    SELECT @[csr_no] || F.SLP_SEQ_NO 
    FROM FMS_CSUL_SLP F
    WHERE 1=1
    AND F.SLP_TP_CD = SUBSTR(@[csr_no],1,2)
    AND F.SLP_FUNC_CD = SUBSTR(@[csr_no],3,1)
    AND F.SLP_OFC_CD = DECODE(LENGTH(@[csr_no]), 19, SUBSTR(@[csr_no], 4, 5), SUBSTR(@[csr_no], 4, 6))
    AND F.SLP_ISS_DT = DECODE(LENGTH(@[csr_no]), 19, SUBSTR(@[csr_no], 9, 6), SUBSTR(@[csr_no], 10, 6))
    AND F.SLP_SER_NO = DECODE(LENGTH(@[csr_no]), 19, SUBSTR(@[csr_no], 15, 5), SUBSTR(@[csr_no], 16, 5))
    AND F.VSL_CD = SUBSTR(@[vvd],1,4)
    AND F.SKD_VOY_NO = SUBSTR(@[vvd],5,4)
    AND F.SKD_DIR_CD = SUBSTR(@[vvd],9,1)
    AND F.REV_DIR_CD = SUBSTR(@[vvd],10,1)
)           AS ATCH_FILE_OA_LNK_ID
,@[atch_file_oa_lnk_seq]        AS ATCH_FILE_OA_LNK_SEQ
,@[file_sav_id]  AS FILE_SAV_ID
,@[usr_id]  AS CRE_USR_ID
,SYSDATE    AS CRE_DT
,@[usr_id]  AS UPD_USR_ID
,SYSDATE    AS UPD_DT
FROM DUAL			]]></sql>
			<params>
				<param name="csr_no" type="12" value="" out="N"/>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="atch_file_oa_lnk_seq" type="12" value="" out="N"/>
				<param name="file_sav_id" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
