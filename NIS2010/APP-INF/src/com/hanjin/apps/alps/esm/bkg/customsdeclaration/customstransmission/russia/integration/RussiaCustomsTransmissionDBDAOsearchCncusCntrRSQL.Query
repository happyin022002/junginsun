<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="RussiaCustomsTransmissionDBDAOsearchCncusCntrRSQL">
			<desc><![CDATA[searchCncusCntr]]></desc>
			<sql><![CDATA[
SELECT  BKG_CNTR.BKG_NO,
        BKG_CNTR.CNTR_NO,
        BKG_JOIN_FNC (CURSOR(
                    (
                        SELECT CNTR_SEAL_NO 
                          FROM BKG_CNTR_SEAL_NO
                         WHERE BKG_NO = BKG_CNTR.BKG_NO
                          AND  CNTR_NO = BKG_CNTR.CNTR_NO
                          AND CNTR_SEAL_SEQ > 0
                     )
                 ),'@') CNTR_SEAL_NO
            ,ISO.CNTR_TPSZ_ISO_CD
            ,BKG.BKG_CGO_TP_CD FULL_MTY_CD
            ,BKG_CNTR.CNTR_WGT
            ,DECODE(NVL(SPEC.TARE_WGT,0),0,
                      DECODE(NVL(ISO.CNTR_TPSZ_TARE_WGT,0),0,
                      DECODE(CNTR.CNTR_TPSZ_CD, 'T2', 3600, 'T4', 5200, 0),ISO.CNTR_TPSZ_TARE_WGT), SPEC.TARE_WGT  ) TARE_WGT
            ,SCA.OVR_FWRD_LEN OVR_DIM_FNT_LEN
            ,SCA.OVR_BKWD_LEN OVR_DIM_REAR_LEN 
            ,SCA.OVR_HGT OVR_HGT
            ,SCA.OVR_LF_LEN OVR_DIM_LF_LEN
            ,SCA.OVR_RT_LEN OVR_DIM_RT_LEN
            ,BKG_CNTR.MEAS_QTY  CNTR_MEAS_QTY
            ,BKG_CNTR.PCK_QTY  PKG_QTY
FROM   BKG_CONTAINER BKG_CNTR,
        BKG_AWK_CGO  SCA,
        MST_CONTAINER   CNTR,
                     MST_CNTR_SPEC   SPEC,
        MDM_CNTR_TP_SZ   ISO,
        BKG_BOOKING BKG
WHERE  BKG_CNTR.BKG_NO                              =       @[bl_no]
AND         BKG_CNTR.BKG_NO                         =        SCA.BKG_NO(+)
AND         BKG_CNTR.CNTR_NO                       =        SCA.CNTR_NO(+)
AND                BKG_CNTR.CNTR_NO                            =        CNTR.CNTR_NO(+)
AND     CNTR.CNTR_SPEC_NO     =  SPEC.CNTR_SPEC_NO(+)
AND     CNTR.CNTR_TPSZ_CD     =  ISO.CNTR_TPSZ_CD(+)
AND     BKG_CNTR.BKG_NO = BKG.BKG_NO
			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
