<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOSearchOfcVsPorContiRSQL">
			<desc><![CDATA[다른 대륙의 Booking을 생성할 수 없음]]></desc>
			<sql><![CDATA[
SELECT COUNT(*) CNT
  FROM MDM_ORGANIZATION OFC
        , MDM_LOCATION OFC_LOC
        , MDM_LOCATION POR
 WHERE OFC.OFC_CD   = @[ofc_cd]
   AND OFC.LOC_CD   = OFC_LOC.LOC_CD
   AND POR.LOC_CD   = @[por_cd]
   AND POR.CONTI_CD <> CASE WHEN NVL((SELECT 'Y'
										FROM BKG_DPCS_USR_GRP GRP, COM_USER USR
									   WHERE USR.OFC_CD = 'PKGSA'
										 AND GRP.USR_ID = USR.USR_ID
										 AND USR.USE_FLG = 'Y'
								         AND GRP.USR_ID = @[usr_id]), 'N') = 'Y' THEN POR.CONTI_CD 
                            ELSE OFC_LOC.CONTI_CD END 
   AND ROWNUM = 1			]]></sql>
			<params>
				<param name="ofc_cd" type="12" value="SELBB" out="N"/>
				<param name="por_cd" type="12" value="KRPUS" out="N"/>
				<param name="usr_id" type="12" value="2006505" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
