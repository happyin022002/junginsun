<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ChinaManifestListDownloadDBDAOaddVslInfoListCSQL">
			<desc><![CDATA[addVslInfoList]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_CSTMS_CHN_VVD (
    VSL_CD,
    SKD_VOY_NO,
    SKD_DIR_CD,
    PORT_CD,
    PRE_CLPT_CD,
    NXT_CLPT_CD,
    VSL_NM,
    CALL_SGN_NO,
    ETA_DT,
    ETD_DT,
    CRE_DT,
    CRE_USR_ID,
    UPD_DT,
    UPD_USR_ID,
    --MF_SND_DT,
    --MF_SND_USR_ID,
    SLAN_CD,
    CHN_MF_SND_IND_CD,
    LLOYD_NO,
    ETB_DT )
SELECT 
@[vsl_cd]									VSL_CD,           
@[skd_voy_no]								SKD_VOY_NO,       
@[skd_dir_cd]								SKD_DIR_CD,       
@[port_cd]									PORT_CD,          
@[pre_clpt_cd]								PRE_CLPT_CD,      
@[nxt_clpt_cd]								NXT_CLPT_CD,      
@[vsl_nm]									VSL_NM,           
@[vsl_call_sgn_port_loc_cd]					CALL_SGN_NO,      
TO_DATE(@[eta_dt], 'YYYYMMDD HH24MISS')		ETA_DT,           
TO_DATE(@[etd_dt], 'YYYYMMDD HH24MISS')		ETD_DT,           
SYSDATE										CRE_DT,           
@[cre_usr_id]								CRE_USR_ID,       
SYSDATE										UPD_DT,           
@[upd_usr_id]								UPD_USR_ID,       
@[slan_cd]									SLAN_CD,             
@[chn_mf_snd_ind_cd]						CHN_MF_SND_IND_CD,   
@[lloyd_no]									LLOYD_NO,            
TO_DATE(@[etb_dt], 'YYYYMMDD HH24MISS')		ETB_DT              
FROM 
(
    SELECT
	    COUNT(CHN_MF_SND_IND_CD) AS CNT
    FROM BKG_CSTMS_CHN_VVD
    WHERE
		1=1
		AND CHN_MF_SND_IND_CD = @[chn_mf_snd_ind_cd]
		AND VSL_CD = @[vsl_cd]
		AND SKD_VOY_NO = @[skd_voy_no] 
		AND SKD_DIR_CD = @[skd_dir_cd]
		AND PORT_CD = @[port_cd]
) A
WHERE A.CNT = 0			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="port_cd" type="12" value="" out="N"/>
				<param name="pre_clpt_cd" type="12" value="" out="N"/>
				<param name="nxt_clpt_cd" type="12" value="" out="N"/>
				<param name="vsl_nm" type="12" value="" out="N"/>
				<param name="vsl_call_sgn_port_loc_cd" type="12" value="" out="N"/>
				<param name="eta_dt" type="12" value="" out="N"/>
				<param name="etd_dt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="slan_cd" type="12" value="" out="N"/>
				<param name="chn_mf_snd_ind_cd" type="12" value="" out="N"/>
				<param name="lloyd_no" type="12" value="" out="N"/>
				<param name="etb_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
