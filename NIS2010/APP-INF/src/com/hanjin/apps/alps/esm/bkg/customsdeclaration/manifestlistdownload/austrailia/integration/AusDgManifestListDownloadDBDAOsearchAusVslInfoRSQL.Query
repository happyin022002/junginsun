<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AusDgManifestListDownloadDBDAOsearchAusVslInfoRSQL">
			<desc><![CDATA[Lloyd, vessel name, ETA, ETD등 Vessel 정보를 조회해옴]]></desc>
			<sql><![CDATA[
SELECT
     VSL_ID VSL_CD  --Vessel Code
    ,VSL_ENG_NM     	--Vessel Name
    ,VSL_CNT_CD     	--Vessel Flag
    ,LLOYD_NO       	--Lloyd code
    ,CALL_SGN_NO    	--Call Sign
    ,NVL(TO_CHAR(ETA_DT, 'YYYYMMDD'), '')   AS ETA_D    --Arrival DATE
    ,NVL(TO_CHAR(ETA_DT, 'HH24MI'), '')     AS ETA_T    --Arrival TIME
    ,NVL(TO_CHAR(ETD_DT,'YYYYMMDD'),' ')    AS ETD_D    --Departure DATE
    ,NVL(TO_CHAR(ETD_DT,'HH24MI'),' ')      AS ETD_T    --Departure TIME
    ,BRTH_YD_CD                                         --Berth
	,SVC_RQST_NO
	,BRTH_YD_NM AS YD_NM
	,@[d_type] d_type
	,@[vvd_cd] vvd_cd
	,@[port_cd] port_cd
	,'Y' VSL_INFO_LOCAL_YN

FROM BKG_CSTMS_DG_VSL_SKD
WHERE DG_DECL_TP_CD = @[d_type]
AND   VSL_CD      = SUBSTR(@[vvd_cd], 1, 4)
AND   SKD_VOY_NO  = SUBSTR(@[vvd_cd], 5, 4)
AND   SKD_DIR_CD  = SUBSTR(@[vvd_cd], 9, 1)
AND   PORT_CD     = @[port_cd]
AND	  CNT_CD ='AU'			]]></sql>
			<params>
				<param name="d_type" type="12" value="" out="N"/>
				<param name="vvd_cd" type="12" value="" out="N"/>
				<param name="port_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
