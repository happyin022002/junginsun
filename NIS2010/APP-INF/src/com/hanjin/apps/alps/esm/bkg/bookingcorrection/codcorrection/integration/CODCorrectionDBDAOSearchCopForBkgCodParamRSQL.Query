<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CODCorrectionDBDAOSearchCopForBkgCodParamRSQL">
			<desc><![CDATA[COP 의 updateBkgForBkgCod 메서드 호출을 위한 param 조회]]></desc>
			<sql><![CDATA[
SELECT BK.BKG_NO      BKG_NO
     , BK.POD_NOD_CD  OLD_POD_NOD_CD
     , BK.DEL_NOD_CD  OLD_DEL_NOD_CD
     , PRD.POD_NOD_CD NEW_POD_NOD_CD
     , PRD.DEL_NOD_CD NEW_DEL_NOD_CD
  FROM BKG_BOOKING      BK
     , PRD_PROD_CTL_MST PRD
 WHERE BK.BKG_NO   = @[bkg_no]
   AND PRD.PCTL_NO = @[pctl_no]
   AND (   SUBSTR(BK.POD_NOD_CD,1,2) <> SUBSTR(PRD.POD_NOD_CD,1,2)
        OR SUBSTR(BK.DEL_NOD_CD,1,2) <> SUBSTR(PRD.DEL_NOD_CD,1,2) )
   AND NOT EXISTS (SELECT 1 
                     FROM BKG_HRD_CDG_CTNT 
                    WHERE HRD_CDG_ID = 'POD_DEL_CNG_COP_CALL'
                      AND ATTR_CTNT1 = 'OFF')			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="pctl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
