<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ThailandManifestListDownloadDBDAOsearchCustomsCNTRInfoRSQL">
			<desc><![CDATA[ThailandManifestListDownloadDBDAOsearchCustomsCNTRInfo]]></desc>
			<sql><![CDATA[
SELECT B.BKG_NO
     , C.CNTR_NO
     , 'STEEL' AS TP_CD
     , D.CNTR_TPSZ_RMK
     , C.CNTR_TPSZ_CD
     , DECODE(C.DE_TERM_CD,'Y','FCL','F','LCL','') AS STATUS
     , B.POL_CD
     , DECODE(C.SOC_FLG,'N','SM LINE','SOC') AS CONSIGNEE
     , C.CNTR_WGT
     , C.WGT_UT_CD
     , C.RC_FLG
     , C.DCGO_FLG
     , ( SELECT /*+ INDEX_ASC(RF XPKBKG_RF_CGO) */ CDO_TEMP || '''C' 
           FROM BKG_RF_CGO RF
          WHERE 1=1 
            AND BKG_NO = A.BKG_NO 
            AND ROWNUM = 1 ) AS CDO_TEMP
     , ( SELECT /*+ INDEX_ASC(DG XPKBKG_DG_CGO) */ IMDG_CLSS_CD
           FROM BKG_DG_CGO DG
          WHERE 1=1 
            AND BKG_NO = A.BKG_NO 
            AND ROWNUM = 1 ) AS IMDG_CLSS_CD
     , ( SELECT /*+ INDEX_ASC(DG XPKBKG_DG_CGO) */ IMDG_UN_NO
           FROM BKG_DG_CGO DG
          WHERE 1=1 
            AND BKG_NO = A.BKG_NO
            AND ROWNUM = 1 ) AS IMDG_UN_NO
     , '' AS POSITION
  FROM BKG_VVD A, BKG_BOOKING B, BKG_CONTAINER C, MDM_CNTR_TP_SZ D
 WHERE 1=1
   AND A.BKG_NO = B.BKG_NO
   AND B.BKG_STS_CD != 'X'
   AND A.BKG_NO = C.BKG_NO
   AND D.CNTR_TPSZ_CD = C.CNTR_TPSZ_CD
   AND A.VSL_CD = SUBSTR(@[s_vvd],1,4)
   AND A.SKD_VOY_NO = SUBSTR(@[s_vvd],5,4)
   AND A.SKD_DIR_CD = SUBSTR(@[s_vvd],9,1)
   AND B.VSL_CD = SUBSTR(@[trnk_vvd],1,4)
   AND B.SKD_VOY_NO = SUBSTR(@[trnk_vvd],5,4)
   AND B.SKD_DIR_CD = SUBSTR(@[trnk_vvd],9,1)
   AND B.POL_CD = @[pol_cd]
   AND B.POD_CD = @[pod_cd]
   AND B.DEL_CD = @[s_del_cd]
   AND B.DEL_NOD_CD LIKE @[s_del_cd]||NVL(@[s_del_nod_cd],'%')
ORDER BY A.BKG_NO, C.CNTR_NO, C.CNTR_TPSZ_CD			]]></sql>
			<params>
				<param name="s_vvd" type="12" value="" out="N"/>
				<param name="trnk_vvd" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="s_del_cd" type="12" value="" out="N"/>
				<param name="s_del_nod_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
