<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AGTAuditDBDAOModifyOtherCommForRequestUSQL">
			<desc><![CDATA[ModifyOtherCommForRequest]]></desc>
			<sql><![CDATA[
UPDATE AGT_AGN_COMM
       SET
         ( COMM_PROC_STS_CD,
           COMM_PROC_STS_RSN,
           AC_RQST_USR_ID,
           AC_RQST_USR_EML,
           AC_RQST_DT,
           AC_APRO_USR_ID,
           AC_APRO_USR_EML,
           AC_APRO_DT,
           UPD_USR_ID,
           UPD_DT
         )
         =
         (     SELECT
                     'RS'                                                 AS COMM_PROC_STS_CD,
                     'Request OK!'                                        AS COMM_PROC_STS_RSN,
                     @[ac_rqst_usr_id]                                    AS AC_RQST_USR_ID,
                     @[ac_rqst_usr_eml]                                   AS AC_RQST_USR_EML,
                     GLOBALDATE_PKG.TIME_CONV_FNC('KRPUS',SYSDATE,LOC_CD) AS AC_RQST_DT,
                     NULL                                                 AS AC_APRO_USR_ID,
                     NULL                                                 AS AC_APRO_USR_EML,
                     NULL                                                 AS AC_APRO_DT,
                     @[upd_usr_id]                                        AS UPD_USR_ID,
                     SYSDATE                                              AS UPD_DT
                FROM MDM_ORGANIZATION
               WHERE OFC_CD             = @[agn_cd]
                 AND NVL(DELT_FLG, 'N') = 'N'
         )
     WHERE BKG_NO       = @[bkg_no]
       AND AGN_CD       = @[agn_cd]
       AND IO_BND_CD    = @[io_bnd_cd]
       AND AC_TP_CD     = @[ac_tp_cd]
       AND AC_SEQ       = @[ac_seq]
       AND COMM_PROC_STS_CD
        IN
         ( 'CS','CA'
         )			]]></sql>
			<params>
				<param name="ac_rqst_usr_id" type="12" value="" out="Y"/>
				<param name="ac_rqst_usr_eml" type="12" value="" out="Y"/>
				<param name="upd_usr_id" type="12" value="" out="Y"/>
				<param name="agn_cd" type="12" value="" out="Y"/>
				<param name="bkg_no" type="12" value="" out="Y"/>
				<param name="io_bnd_cd" type="12" value="" out="Y"/>
				<param name="ac_tp_cd" type="12" value="" out="Y"/>
				<param name="ac_seq" type="12" value="" out="Y"/>
			</params>
		</query>
	</querys>
</sqls>
