<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="UsaCustomsTransmissionDBDAOsearchCmInfoForFlatFileRSQL">
			<desc><![CDATA[CmInfoForFlatFileVO]]></desc>
			<sql><![CDATA[
SELECT  NVL(CM.PCK_QTY, 0)			AS CMPKG
       ,NVL(CM.AMS_PCK_TP_CD, 'PK')	AS CMPKGU
       ,NVL(CM.GRS_WGT, 0)			AS CMWGT
       ,NVL(CM.WGT_UT_CD, 'KG')		AS CMWGTU
       ,CM.CGO_DESC					AS CMDESC
       ,DG.IMDG_UN_NO				AS CMUNNO
  FROM  BKG_CSTMS_ADV_CNTR_MF CM
       ,(SELECT DG.IMDG_UN_NO
               ,DG.CNTR_NO
               ,DG.CNTR_CGO_SEQ
               ,BL.CNT_CD
               ,BL.BL_NO
           FROM BKG_CSTMS_ADV_BL BL, BKG_DG_CGO DG
          WHERE BL.BKG_NO = DG.BKG_NO
            AND BL.CNT_CD = 'US'
            AND BL.BL_NO  = @[bl_no]
         ) DG
 WHERE  CM.CNT_CD 		= 'US'
   AND  CM.BL_NO		= @[bl_no]
   AND  CM.CNTR_NO		= @[cntr_no]
   AND  CM.CNT_CD		= DG.CNT_CD(+)
   AND  CM.BL_NO		= DG.BL_NO(+)
   AND  CM.CNTR_NO		= DG.CNTR_NO(+)
   AND  CM.CMDT_GDS_SEQ = DG.CNTR_CGO_SEQ(+)			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
