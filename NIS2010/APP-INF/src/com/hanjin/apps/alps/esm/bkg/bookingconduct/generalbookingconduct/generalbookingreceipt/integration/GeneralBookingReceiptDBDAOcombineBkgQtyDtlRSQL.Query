<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralBookingReceiptDBDAOcombineBkgQtyDtlRSQL">
			<desc><![CDATA[combineBkgQtyDtl]]></desc>
			<sql><![CDATA[
SELECT @[mst_bkg_no] BKG_NO
        , CNTR_TPSZ_CD
        , EQ_SUBST_CNTR_TPSZ_CD
        , RCV_TERM_CD 
        , DE_TERM_CD
        , EQ_SUBST_CNTR_TPSZ_CD
        , SUM(OP_CNTR_QTY) OP_CNTR_QTY
        , CASE WHEN SUM(DECODE(AWK_CGO_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END AWK_CGO_FLG
        , CASE WHEN SUM(DECODE(DCGO_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END DCGO_FLG
        , CASE WHEN SUM(DECODE(RC_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END RC_FLG
        , CASE WHEN SUM(DECODE(BB_CGO_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END BB_CGO_FLG
        , CASE WHEN SUM(DECODE(SOC_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END SOC_FLG
        , CASE WHEN SUM(DECODE(CRR_HNGR_SGL_BAR_USE_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END CRR_HNGR_SGL_BAR_USE_FLG
        , CASE WHEN SUM(DECODE(DRY_CGO_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END DRY_CGO_FLG
        , CASE WHEN SUM(DECODE(CRR_HNGR_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END CRR_HNGR_FLG
        , CASE WHEN SUM(DECODE(MER_HNGR_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END MER_HNGR_FLG
        , CASE WHEN SUM(DECODE(CRR_HNGR_TPL_BAR_USE_FLG,'Y',1,'N',0)) = 0 THEN 'N' ELSE 'Y' END CRR_HNGR_TPL_BAR_USE_FLG
  FROM BKG_QTY_DTL
 WHERE BKG_NO IN (
#foreach( ${bkg_no} in ${bkg_no_list}) 
	#if($velocityCount < $bkg_no_list.size()) '$bkg_no', #else '$bkg_no' #end
#end
)
 GROUP BY CNTR_TPSZ_CD, RCV_TERM_CD, DE_TERM_CD, EQ_SUBST_CNTR_TPSZ_CD			]]></sql>
			<params>
				<param name="mst_bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
