<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PRICommonDBDAOSearchBoundByServiceScopeRSQL">
			<desc><![CDATA[SearchBoundByServiceScope
2014.12.09 [CHM-201433135] [Add-on/IHC Tariff > SIN] 국가코드 ZA 추가]]></desc>
			<sql><![CDATA[
SELECT DISTINCT SCP.ORG_DEST_CD AS CD
FROM   MDM_SVC_SCP_LMT SCP, MDM_REGION RGN, MDM_SVC_SCP SVC, AOC_TRF_CURR AOC_CURR,
        (
#if(${cd} == 'SHARC')
        /* SHARC */
        SELECT 'SHARC' AS RHQ_CD, A.CONTI_CD , B.SCONTI_CD  , C.CNT_CD  , C.CNT_NM  
        FROM   MDM_CONTINENT A, MDM_SUBCONTINENT B, MDM_COUNTRY C
        WHERE  A.CONTI_CD = 'A'
        AND    A.DELT_FLG = 'N'
        AND    A.CONTI_CD = B.CONTI_CD
        AND    B.SCONTI_CD = 'AF'
        AND    B.DELT_FLG = 'N'
        AND    B.SCONTI_CD = C.SCONTI_CD
        AND    C.DELT_FLG = 'N'
#end 
#if(${cd} == 'SINRS')
        /* SINRS */
        SELECT 'SINRS' AS RHQ_CD, A.CONTI_CD, B.SCONTI_CD, C.CNT_CD, C.CNT_NM
        FROM   MDM_CONTINENT A, MDM_SUBCONTINENT B, MDM_COUNTRY C
        WHERE  A.CONTI_CD IN ('A', 'F')
        AND    A.DELT_FLG = 'N'
        AND    A.CONTI_CD = B.CONTI_CD
        AND    B.SCONTI_CD <> 'AF'
        AND    B.DELT_FLG = 'N'
        AND    B.SCONTI_CD = C.SCONTI_CD
        AND    C.DELT_FLG = 'N'
#end
#if(${cd} == 'NYCRA')
        /* NYCRA */
        SELECT 'NYCRA' AS RHQ_CD, A.CONTI_CD, B.SCONTI_CD, C.CNT_CD, C.CNT_NM
        FROM   MDM_CONTINENT A, MDM_SUBCONTINENT B, MDM_COUNTRY C
        WHERE  A.CONTI_CD = 'M'
        AND    A.DELT_FLG = 'N'
        AND    A.CONTI_CD = B.CONTI_CD
        AND    B.DELT_FLG = 'N'
        AND    B.SCONTI_CD = C.SCONTI_CD
        AND    C.DELT_FLG = 'N'
#end
#if(${cd} == 'HAMRU')
        /* HAMRU */
        SELECT 'HAMRU' AS RHQ_CD, A.CONTI_CD, B.SCONTI_CD, C.CNT_CD, C.CNT_NM
        FROM   MDM_CONTINENT A, MDM_SUBCONTINENT B, MDM_COUNTRY C
        WHERE  A.CONTI_CD IN ('E', 'F')
        AND    A.DELT_FLG = 'N'
        AND    A.CONTI_CD = B.CONTI_CD
        AND    B.DELT_FLG = 'N'
        AND    B.SCONTI_CD = C.SCONTI_CD
        AND    C.DELT_FLG = 'N'
#end    
        ) RHQ
WHERE  SCP.DELT_FLG = 'N'
AND    SCP.RGN_CD   = RGN.RGN_CD
AND    RGN.DELT_FLG = 'N'
AND    RGN.CNT_CD   = RHQ.CNT_CD
AND    SCP.SVC_SCP_CD = SVC.SVC_SCP_CD
AND    RGN.CNT_CD = AOC_CURR.CNT_CD
AND    RHQ.RHQ_CD = AOC_CURR.RHQ_CD
AND    SCP.SVC_SCP_CD = @[svc_scp_cd]			]]></sql>
			<params>
				<param name="svc_scp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
