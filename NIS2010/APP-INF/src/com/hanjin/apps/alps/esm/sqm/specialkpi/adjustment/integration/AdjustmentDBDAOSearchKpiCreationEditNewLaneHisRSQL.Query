<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AdjustmentDBDAOSearchKpiCreationEditNewLaneHisRSQL">
			<desc><![CDATA[SearchKpiCreationEditNewLaneHis

* 2014.09.17 이혜민 [CHM-201431755-01] New Lane Add시 Bound 삽입]]></desc>
			<sql><![CDATA[
SELECT DISTINCT A1.TRD_CD
      ,A1.RLANE_CD
--      ,A1.DIR_CD
      ,DECODE(COUNT(A1.DIR_CD) OVER(PARTITION BY A1.TRD_CD, A1.RLANE_CD), 2, '', A1.DIR_CD) AS DIR_CD
      ,A1.SRC_RLANE_CD
FROM (
        SELECT DISTINCT TRD_CD
              ,RLANE_CD
              ,DIR_CD
              ,SRC_RLANE_CD
         FROM SQM_SPCL_NEW_LANE
         WHERE 1=1
         AND BSE_TP_CD   = @[f_bse_tp_cd] 
         AND BSE_YR      = @[f_bse_yr]
#if(${f_bse_tp_cd} == 'Q')
         AND BSE_QTR_CD  = @[f_bse_qtr_cd]
#end
         AND SPCL_TGT_CD = @[f_spcl_tgt_cd]
   ) A1
ORDER BY TRD_CD, RLANE_CD, SRC_RLANE_CD			]]></sql>
			<params>
				<param name="f_bse_tp_cd" type="12" value="" out="N"/>
				<param name="f_bse_yr" type="12" value="" out="N"/>
				<param name="f_bse_qtr_cd" type="12" value="" out="N"/>
				<param name="f_spcl_tgt_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
