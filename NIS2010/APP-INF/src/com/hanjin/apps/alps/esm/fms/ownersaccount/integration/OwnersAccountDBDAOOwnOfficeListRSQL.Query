<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OwnersAccountDBDAOOwnOfficeListRSQL">
			<desc><![CDATA[Owner's Account Office 조회]]></desc>
			<sql><![CDATA[
#if (${off_cd} == 'SELADG')

SELECT 
 A.OFC_CD AS OFFICE
FROM 
(
    SELECT    DISTINCT
              @[off_cd] AS OFFICE
              ,DECODE(X.AR_HD_QTR_OFC_CD,'HAMRU',1,'NYCRA',2,'SHARC',3,'SINRS',4,'SELIB',5,'TYOIB',6,'VVOIA',7,9) AS RUM
             ,X.AR_HD_QTR_OFC_CD	AS OFC_CD    
    FROM      MDM_ORGANIZATION  	X
    WHERE     X.OFC_KND_CD       	= '2'
    AND       X.AR_HD_QTR_OFC_CD 	IS NOT NULL
    AND       X.DELT_FLG = 'N'
) A
WHERE 1=1
AND A.OFFICE = @[off_cd]
ORDER BY RUM ASC

#else

SELECT 
 A.OFC_CD AS OFFICE
FROM 
(
    SELECT DISTINCT @[off_cd] AS OFFICE, ROWNUM AS RUM, OFC_CD
    FROM MDM_ORGANIZATION
    WHERE DELT_FLG = 'N'
    CONNECT BY PRIOR OFC_CD = PRNT_OFC_CD
    START WITH OFC_CD = DECODE(@[off_cd],'SELADG','XXXXX',@[off_cd])   
) A
WHERE 1=1
AND A.OFFICE = @[off_cd]
ORDER BY RUM ASC

#end			]]></sql>
			<params>
				<param name="off_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
