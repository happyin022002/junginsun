<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="KrWharfageDecMgtDBDAOsearchKrWhfBlExpInfoRSQL">
			<desc><![CDATA[searchKrWhfBlExpInfo]]></desc>
			<sql><![CDATA[
SELECT	MAX(DECODE(B.BKG_CUST_TP_CD, 'S', B.CUST_NM, '')) AS SHIPPER_NAME,
		MAX(DECODE(B.BKG_CUST_TP_CD, 'E', B.CUST_NM, '')) AS EXPORT_REF, 
		C.CSTMS_DESC,
		A.BKG_CGO_TP_CD,
		D.BKG_RT_WHF_EXPT_CD,
		D.WHF_SHPR_RGST_NO,
		C.BDR_FLG BDR,
		MAX(DECODE(SUBSTR(E.CORR_NO,1,3),'TMP','Y','N')) CA
FROM	BKG_BOOKING	 A,
		BKG_CUSTOMER B,
		BKG_BL_DOC C,
		BKG_RATE D,
		BKG_CORRECTION E
WHERE	1=1	
AND     A.BKG_NO    			=	@[bkg_no]
AND		A.BKG_NO				=	B.BKG_NO
AND		A.BKG_NO				=	C.BKG_NO(+)
AND		A.BKG_NO				=	D.BKG_NO(+)
AND		A.BKG_NO				=	E.BKG_NO(+)
AND		B.BKG_CUST_TP_CD				IN	('S', 'E')
GROUP BY	A.BKG_CGO_TP_CD,
			C.CSTMS_DESC,
			D.BKG_RT_WHF_EXPT_CD,
			D.WHF_SHPR_RGST_NO,
			C.BDR_FLG			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
