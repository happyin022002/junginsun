<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CargoReleaseOrderDBDAOAddPsaEdoAckCSQL">
			<desc><![CDATA[PSA EDO 승인 요청에 대한 처리 후 전송 결과(Ack)정보를 기록한다. ]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_PSA_EDO_RCV_LOG 
(
   BL_NO
  ,CNTR_NO
  ,RCV_SEQ
  ,DO_VSL_NM
  ,DO_VSL_CD
  ,DO_SKD_VOY_NO
  ,DO_SKD_DIR_CD
  ,PSA_DO_RCV_STS_CD
  ,PSA_AUTH_NO
  ,ERR_LOG_CTNT
  ,RCV_DT
  ,RCV_GDT
  ,CRE_USR_ID
  ,CRE_DT
  ,UPD_USR_ID
  ,UPD_DT
) 
SELECT @[bl_no],
       @[cntr_no],
       (select nvl(max(rcv_seq)+1, 1) from BKG_PSA_EDO_RCV_LOG where bl_no = @[bl_no] and cntr_no = @[cntr_no]),
       @[do_vsl_nm],
       @[do_vsl_cd],
       @[do_skd_voy_no],
       @[do_skd_dir_cd],
       @[psa_do_rcv_sts_cd],
       @[psa_auth_no],
       @[err_log_ctnt],
       sysdate,
       GLOBALDATE_PKG.TIME_CONV_FNC('KRSEL',sysdate,'GMT') ,
       @[cre_usr_id],
       sysdate,
       @[upd_usr_id],
       sysdate
FROM dual			]]></sql>
			<params>
				<param name="bl_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="do_vsl_nm" type="12" value="" out="N"/>
				<param name="do_vsl_cd" type="12" value="" out="N"/>
				<param name="do_skd_voy_no" type="12" value="" out="N"/>
				<param name="do_skd_dir_cd" type="12" value="" out="N"/>
				<param name="psa_do_rcv_sts_cd" type="12" value="" out="N"/>
				<param name="psa_auth_no" type="12" value="" out="N"/>
				<param name="err_log_ctnt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
