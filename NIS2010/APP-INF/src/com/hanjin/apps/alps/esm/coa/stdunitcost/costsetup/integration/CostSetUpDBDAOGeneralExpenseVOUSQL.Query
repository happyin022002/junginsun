<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CostSetUpDBDAOGeneralExpenseVOUSQL">
			<desc><![CDATA[merge]]></desc>
			<sql><![CDATA[
MERGE INTO COA_GEN_EXPN_POTN A USING 
(
        SELECT @[cost_yrmon] COST_YRMON
              , @[rhq_cd] RHQ_CD
              , @[ofc_vw_cd] OFC_VW_CD
              , @[gen_expn_rto] GEN_EXPN_RTO
              , @[gen_expn_amt] GEN_EXPN_AMT
           FROM DUAL 
) B 
ON (    
        A.COST_YRMON = B.COST_YRMON 
    AND A.RHQ_CD = B.RHQ_CD 
    AND A.OFC_VW_CD = B.OFC_VW_CD 
)

WHEN MATCHED THEN
 UPDATE
    SET A.GEN_EXPN_RTO     = GEN_EXPN_RTO
      , A.GEN_EXPN_AMT = GEN_EXPN_AMT
      , A.UPD_USR_ID   = @[upd_usr_id]
      , A.UPD_DT       = SYSDATE 

WHEN NOT MATCHED THEN
 INSERT
        (
                COST_YRMON
              , RHQ_CD
              , OFC_VW_CD
              , GEN_EXPN_RTO
              , GEN_EXPN_AMT
              , CRE_USR_ID
              , CRE_DT
              , UPD_USR_ID
              , UPD_DT
        )
        VALUES
        (
                B.COST_YRMON
              , B.RHQ_CD
              , B.OFC_VW_CD
              , B.GEN_EXPN_RTO
              , B.GEN_EXPN_AMT
              , @[upd_usr_id]
              , sysdate
              , @[cre_usr_id]
              , sysdate
        )			]]></sql>
			<params>
				<param name="cost_yrmon" type="12" value="" out="N"/>
				<param name="rhq_cd" type="12" value="" out="N"/>
				<param name="ofc_vw_cd" type="12" value="" out="N"/>
				<param name="gen_expn_rto" type="12" value="" out="N"/>
				<param name="gen_expn_amt" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
