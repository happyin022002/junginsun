<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SCProposalMainDBDAOPriSpFileErrUsingRtnMsgCSQL">
			<desc><![CDATA[FMC 의 Return Message 개체를 이용한 PRI_SP_FILE_ERR 생성 SQL]]></desc>
			<sql><![CDATA[
INSERT INTO PRI_SP_FILE_ERR

WITH ERR_LIST AS (
    SELECT  'F01' AS FILE_ERR_TP_CD, @[err_code_user_name]  AS FMC_FILE_ERR_NO, @[err_msg_user_name]    AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_user_name] <> '0' UNION ALL
    SELECT  'F02' AS FILE_ERR_TP_CD, @[err_code_org_num]    AS FMC_FILE_ERR_NO, @[err_msg_org_num]      AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_org_num]   <> '0' UNION ALL
    SELECT  'F03' AS FILE_ERR_TP_CD, @[err_code_con_num]    AS FMC_FILE_ERR_NO, @[err_msg_con_num]      AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_con_num]   <> '0' UNION ALL
    SELECT  'F04' AS FILE_ERR_TP_CD, @[err_code_amd_num]    AS FMC_FILE_ERR_NO, @[err_msg_amd_num]      AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_amd_num]   <> '0' UNION ALL
    SELECT  'F05' AS FILE_ERR_TP_CD, @[err_code_eff_date]   AS FMC_FILE_ERR_NO, @[err_msg_eff_date]     AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_eff_date]  <> '0' UNION ALL
    SELECT  'F06' AS FILE_ERR_TP_CD, @[err_code_file]       AS FMC_FILE_ERR_NO, @[err_msg_file]         AS FMC_FILE_ERR_MSG FROM DUAL WHERE @[err_code_file]      <> '0'
)
    SELECT  @[prop_no] AS PROP_NO
        ,   @[amdt_seq] AS AMDT_SEQ
        ,   @[file_prog_seq] AS FILE_PROG_SEQ
        ,   L.FILE_ERR_TP_CD
        ,   TO_NUMBER( L.FMC_FILE_ERR_NO )
        ,   L.FMC_FILE_ERR_MSG
        ,   @[cre_usr_id]
        ,   SYSDATE 
        ,   @[cre_usr_id]
        ,   SYSDATE 
    FROM    ERR_LIST L			]]></sql>
			<params>
				<param name="err_code_user_name" type="12" value="" out="N"/>
				<param name="err_msg_user_name" type="12" value="" out="N"/>
				<param name="err_code_org_num" type="12" value="" out="N"/>
				<param name="err_msg_org_num" type="12" value="" out="N"/>
				<param name="err_code_con_num" type="12" value="" out="N"/>
				<param name="err_msg_con_num" type="12" value="" out="N"/>
				<param name="err_code_amd_num" type="12" value="" out="N"/>
				<param name="err_msg_amd_num" type="12" value="" out="N"/>
				<param name="err_code_eff_date" type="12" value="" out="N"/>
				<param name="err_msg_eff_date" type="12" value="" out="N"/>
				<param name="err_code_file" type="12" value="" out="N"/>
				<param name="err_msg_file" type="12" value="" out="N"/>
				<param name="prop_no" type="12" value="" out="N"/>
				<param name="amdt_seq" type="12" value="" out="N"/>
				<param name="file_prog_seq" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
