<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PerformanceReportDBDAOVesselVVDListVORSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT
        A.PORT_SKP_TP_CD
      , A.PORT_SKP_RSN_CD
      , A.PORT_SKP_RSN_OFFR_RMK
      , A.TTL_DLAY_HRS
      , A.TS_PORT_CD
      , A.USD_FLG
      , A.NOON_RPT_INP_FLG
      , A.DEP_RPT_INP_FLG
      , A.ACT_INP_FLG
      , A.PRT_CHK_FLG
      , A.CRE_USR_ID
      , A.CRE_DT
      , A.UPD_USR_ID
      , A.UPD_DT
      , A.SKD_AUTO_UPD_FLG
      , A.VSL_CD
      , A.SKD_VOY_NO
      , A.SKD_DIR_CD
      , A.VPS_PORT_CD
      , A.CLPT_IND_SEQ
      , A.CLPT_SEQ
      , A.SLAN_CD
      , A.PORT_SKD_STS_CD
      , A.YD_CD
      , A.CALL_YD_IND_SEQ
      , A.PF_ETA_DT
      , A.PF_ETB_DT
      , A.PF_ETD_DT
      , A.INIT_ETA_DT
      , A.INIT_ETB_DT
      , A.INIT_ETD_DT
      , TO_CHAR(A.VPS_ETA_DT,'YYYY-MM-DD') AS VPS_ETA_DT
      , TO_CHAR(A.VPS_ETB_DT,'YYYY-MM-DD') AS VPS_ETB_DT
      , TO_CHAR(A.VPS_ETD_DT,'YYYY-MM-DD') AS VPS_ETD_DT
      , A.VSL_DLAY_RSN_CD
      , A.VSL_DLAY_RSN_DESC
      , A.VSL_DLAY_RSN_LOC_CD
      , A.SHP_CALL_NO
      , A.SHP_CALL_NO_UPD_USR_ID
      , A.SHP_CALL_NO_UPD_DT
      , A.TML_VSL_CD
      , A.TML_VOY_NO
      , A.FT_DT
      , A.PLISM_YD_CD
      , A.PLISM_VSL_CD
      , A.PLISM_VOY_NO
      , A.SKD_CNG_STS_CD
      , A.TURN_PORT_FLG
      , A.TURN_PORT_IND_CD
      , A.TURN_SKD_VOY_NO
      , A.TURN_SKD_DIR_CD
      , A.TURN_CLPT_IND_SEQ
      , A.IB_CGO_QTY
      , A.OB_CGO_QTY
      , A.VPS_RMK
      , A.PHS_IO_RSN_CD
      , A.PHS_IO_RMK
      , A.SKD_BRTH_NO
      , A.INIT_SKD_INP_FLG
      , A.OFC_INP_FLG
      , A.EDI_SND_KNT
      , A.VSL_CD || A.SKD_VOY_NO || A.SKD_DIR_CD AS VVD
      , B.VSL_ENG_NM
FROM    VSK_VSL_PORT_SKD A
      , MDM_VSL_CNTR     B
WHERE   A.VSL_CD = B.VSL_CD
#if (${vsl_cd} != '') 
AND     A.VSL_CD = @[vsl_cd]
#end

#if (${skd_voy_no} != '') 
AND	    A.SKD_VOY_NO = @[skd_voy_no]
#end

#if (${skd_dir_cd} != '') 
AND	    A.SKD_DIR_CD = @[skd_dir_cd]
#end

#if (${vps_port_cd} != '') 
AND	    A.VPS_PORT_CD LIKE @[vps_port_cd]||'%'
#end

#if (${slan_cd} != '') 
AND	    A.SLAN_CD = @[slan_cd]
#end

#if (${vsl_eng_nm} != '') 
AND     B.VSL_ENG_NM LIKE '%' || @[vsl_eng_nm] || '%'
#end

#if (${vps_eta_dt} == '0' && ${vps_etb_dt} != '') 
AND	    TO_CHAR(A.VPS_ETD_DT,'YYYY-MM-DD') between @[vps_etb_dt] and @[vps_etd_dt]
#elseif (${vps_eta_dt} == '1' && ${vps_etb_dt} != '') 
AND	    TO_CHAR(A.VPS_ETA_DT,'YYYY-MM-DD') between @[vps_etb_dt] and @[vps_etd_dt]
#end

#if (${dir_cd} != '') 
AND	    A.SKD_DIR_CD = @[dir_cd]
#end

			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="HNPH" out="N"/>
				<param name="skd_voy_no" type="12" value="0001" out="N"/>
				<param name="skd_dir_cd" type="12" value="E" out="N"/>
				<param name="vps_port_cd" type="12" value="KRPUS" out="N"/>
				<param name="slan_cd" type="12" value="CAS" out="N"/>
				<param name="vsl_eng_nm" type="12" value="" out="N"/>
				<param name="vps_etb_dt" type="12" value="" out="N"/>
				<param name="vps_etd_dt" type="12" value="" out="N"/>
				<param name="dir_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
