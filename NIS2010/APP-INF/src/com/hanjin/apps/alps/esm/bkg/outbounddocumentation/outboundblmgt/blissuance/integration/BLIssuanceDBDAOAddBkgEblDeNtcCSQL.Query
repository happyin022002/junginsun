<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOAddBkgEblDeNtcCSQL">
			<desc><![CDATA[BLIssuanceDBDAOAddBkgEblDeNtcCSQL]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_EBL_DE_NTC
    (BKG_NO
	,BKG_EBL_SEQ
	,CNTR_SEQ
	,DOC_PARA_NO1
	,DOC_PARA_NO2
	,DOC_RMK
	,DOC_NO_AND_CLSS_NM
	,OBJ_FUNC_EVNT_CD1
	,OBJ_FUNC_EVNT_CD2
	,OBJ_FUNC_EVNT_CD3
	,OBJ_FUNC_EVNT_CD4
	,DE_DT
	,REF_NO
	,BKG_CUST_NM
	,BL_CUST_NM
	,CUST_PHN_NO
	,BL_NO
	,IF_FLG
	,CRE_USR_ID
	,CRE_DT
    ,UPD_USR_ID
    ,UPD_DT)
SELECT 
     BK.BKG_NO
    ,@[bkg_ebl_seq] BKG_EBL_SEQ
    ,ROWNUM CNTR_SEQ
    ,BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000')) DOC_PARA_NO1
	,BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000'))||LTRIM(TO_CHAR(ROWNUM, '0000')) DOC_PARA_NO2
	,'BLDeliveryNotice' DOC_RMK
	,BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000'))||LTRIM(TO_CHAR(ROWNUM, '0000')) DOC_NO_AND_CLSS_NM
	,'1' OBJ_FUNC_EVNT_CD1
	,'NA' OBJ_FUNC_EVNT_CD2
	,'1.0' OBJ_FUNC_EVNT_CD3
	,'1' OBJ_FUNC_EVNT_CD4
	,'' DE_DT
	,'' REF_NO
	,(SELECT SUBSTR(CUST_NM,1,35) FROM BKG_CUSTOMER C
				 WHERE C.BKG_NO = BK.BKG_NO
				   AND C.BKG_CUST_TP_CD ='C') BKG_CUST_NM
    ,(SELECT SUBSTR(CUST_NM,1,35) FROM BKG_CUSTOMER C
				 WHERE C.BKG_NO = BK.BKG_NO
				   AND C.BKG_CUST_TP_CD ='C') BL_CUST_NM
    ,'' CUST_PHN_NO
    ,BK.BL_NO BL_NO
    ,'N' IF_FLG
	,@[usr_id] CRE_USR_ID
	,SYSDATE CRE_DT
	,@[usr_id] UPD_USR_ID
	,SYSDATE UPD_DT	
  FROM BKG_BOOKING BK
   WHERE 	BK.BKG_NO = @[bkg_no]			]]></sql>
			<params>
				<param name="bkg_ebl_seq" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
