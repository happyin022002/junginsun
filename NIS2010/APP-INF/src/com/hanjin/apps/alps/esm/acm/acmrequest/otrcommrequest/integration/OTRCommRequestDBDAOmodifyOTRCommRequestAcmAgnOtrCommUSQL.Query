<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OTRCommRequestDBDAOmodifyOTRCommRequestAcmAgnOtrCommUSQL">
			<desc><![CDATA[modifyOTRCommRequestAcmAgnOtrComm]]></desc>
			<sql><![CDATA[
UPDATE ACM_AGN_OTR_COMM
       SET AC_STS_CD = 'CS',
       AC_PROC_DESC    = 'Calculation-Success',
       COMM_STND_COST_CD    = @[comm_stnd_cost_cd],
       OTR_COMM_RMK         = @[otr_comm_rmk],
       AGN_CD               = @[agn_cd],
       VNDR_CNT_CD          = @[vndr_cnt_cd],
       VNDR_SEQ             = TO_NUMBER(@[vndr_seq]),
       AC_VSL_CD            = SUBSTR(@[vvd],1,4),
       AC_SKD_VOY_NO        = SUBSTR(@[vvd],5,4),
       AC_SKD_DIR_CD        = SUBSTR(@[vvd],9,1),
       AC_REV_DIR_CD        = SUBSTR(@[vvd],10,1),
       CURR_CD              = @[curr_cd],
       PAY_IF_AMT           = ROUND (@[pay_if_amt], 2),
       PAY_XCH_RT           = @[pay_xch_rt],
       IF_AMT               = ROUND (@[usd_amt], 2),
       APLY_DT              = @[aply_dt],
       UPD_USR_ID           = @[usr_id],
       UPD_DT               = SYSDATE
     WHERE OTR_COMM_NO      = @[otr_comm_no]
       AND AR_OFC_CD        = @[ar_ofc_cd]
       AND IO_BND_CD        = @[io_bnd_cd]
       AND AC_TP_CD         = @[ac_tp_cd]
       AND AC_SEQ           = @[ac_seq]
       AND COMM_YRMON       = REPLACE(@[comm_yrmon], '-', '')
       AND APRO_DT IS NULL			]]></sql>
			<params>
				<param name="comm_stnd_cost_cd" type="12" value="" out="N"/>
				<param name="otr_comm_rmk" type="12" value="" out="N"/>
				<param name="agn_cd" type="12" value="" out="N"/>
				<param name="vndr_cnt_cd" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="curr_cd" type="12" value="" out="N"/>
				<param name="pay_if_amt" type="12" value="" out="N"/>
				<param name="pay_xch_rt" type="12" value="" out="N"/>
				<param name="usd_amt" type="12" value="" out="N"/>
				<param name="aply_dt" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="otr_comm_no" type="12" value="" out="N"/>
				<param name="ar_ofc_cd" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="ac_tp_cd" type="12" value="" out="N"/>
				<param name="ac_seq" type="12" value="" out="N"/>
				<param name="comm_yrmon" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
