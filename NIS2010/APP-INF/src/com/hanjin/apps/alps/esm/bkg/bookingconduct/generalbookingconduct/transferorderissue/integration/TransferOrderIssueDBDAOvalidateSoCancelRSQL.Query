<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TransferOrderIssueDBDAOvalidateSoCancelRSQL">
			<desc><![CDATA[TransferOrderIssueDBDAOvalidateSoCancel]]></desc>
			<sql><![CDATA[
SELECT  DECODE(COUNT(*), 0, 'N', 'Y')
  FROM BKG_TRO_DTL DTL
       , TRS_TRSP_SVC_ORD SO
 WHERE DTL.BKG_NO      = @[bkg_no] 
   AND DTL.IO_BND_CD   = @[io_bnd_cd]  
  -- AND DTL.RTN_TRO_FLG = @[rtn_tro_flg]
   AND DTL.TRO_SEQ 	   = @[tro_seq]
   AND DTL.BKG_NO      = SO.BKG_NO
   AND DTL.IO_BND_CD   = SO.TRSP_BND_CD
   AND DTL.TRO_SEQ     = SO.TRO_SEQ
   AND DTL.TRO_SUB_SEQ = SO.TRO_SUB_SEQ
   AND 'N'             = SO.DELT_FLG
   AND SO.TRSP_SO_OFC_CTY_CD||SO.TRSP_SO_SEQ IS NOT NULL
 ORDER BY DTL.TRO_SEQ, DTL.TRO_SUB_SEQ			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="rtn_tro_flg" type="12" value="" out="N"/>
				<param name="tro_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
