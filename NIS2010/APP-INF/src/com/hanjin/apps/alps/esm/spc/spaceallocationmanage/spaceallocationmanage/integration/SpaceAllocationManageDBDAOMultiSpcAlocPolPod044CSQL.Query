<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpaceAllocationManageDBDAOMultiSpcAlocPolPod044CSQL">
			<desc><![CDATA[MultiSpcAlocPolPod044
CHOI.Y.S - [프로젝트] Ticket ID : CHM-201004171 - 53FT 관련 필드 추가
2011.01.05 최윤성 [CHM-201008093-01] Office Level Table 생성
 - SPC_ORGANIZATION_V 대신 SPC_OFC_LVL 로 대체
2013.11.26 진마리아 [CHM-201326854] SAQ project로 인한 SPC 변경건_FNC 우선제거]]></desc>
			<sql><![CDATA[
INSERT INTO SPC_ALOC_POL_POD (
    RLANE_CD            ,
    DIR_CD              ,
    VSL_CD              ,
    SKD_VOY_NO          ,
    SKD_DIR_CD          ,
    SLS_OFC_CD          ,
    POL_YD_CD           ,
    POD_YD_CD           ,
    TS_FLG              ,
    MNL_FLG             ,
    REP_TRD_CD          ,
    REP_SUB_TRD_CD      ,
    TRD_CD              ,
    SUB_TRD_CD          ,
    IOC_CD              ,
    SLS_RHQ_CD          ,
    SLS_AQ_CD           ,
    SLS_RGN_OFC_CD      ,
    BKG_AVAL_TTL_QTY    ,
    BKG_AVAL_20FT_QTY   ,
    BKG_AVAL_40FT_QTY   ,
    BKG_AVAL_40FT_HC_QTY,
    BKG_AVAL_45FT_HC_QTY,
    BKG_AVAL_53FT_QTY   ,
    BKG_AVAL_RF_QTY     ,
    BKG_AVAL_TTL_WGT    ,
    FCAST_TTL_QTY       ,
    FCAST_40FT_HC_QTY   ,
    FCAST_45FT_HC_QTY   ,
    FCAST_53FT_QTY      ,
    FCAST_RF_QTY        ,
    FCAST_TTL_WGT       ,
    USD_BKG_TTL_QTY     ,
    USD_BKG_20FT_QTY    ,
    USD_BKG_40FT_QTY    ,
    USD_BKG_40FT_HC_QTY ,
    USD_BKG_45FT_HC_QTY ,
    USD_BKG_53FT_QTY    ,
    USD_BKG_RF_QTY      ,
    USD_BKG_TTL_WGT     ,
    MNL_ALOC_RMK        ,
    ALOC_USR_ID         ,
    ALOC_GDT            ,
    CRE_USR_ID          ,
    CRE_DT              ,
    UPD_USR_ID          ,
    UPD_DT		,
    -- 2014.07.28 컬럼 추가
    CUST_CNT_CD,
    CUST_SEQ,
    CTRT_NO,
    USA_BKG_MOD_CD,
    DEST_LOC_CD,
    ASGN_20FT_DRY_QTY,
    ASGN_40FT_DRY_QTY,
    ASGN_RD_QTY,
    BKG_AVAL_20FT_DRY_QTY,
    BKG_AVAL_40FT_DRY_QTY,
    BKG_AVAL_RD_QTY,
    FCAST_20FT_DRY_QTY,
    FCAST_40FT_DRY_QTY,
    FCAST_RD_QTY,
    USD_BKG_20FT_DRY_QTY,
    USD_BKG_40FT_DRY_QTY,
    USD_BKG_RD_QTY 
) VALUES (
    @[rlane_cd]  ,
    @[dir_cd]    ,
    @[vsl_cd]    ,
    @[skd_voy_no],
    @[skd_dir_cd],
    @[sls_ofc_cd],
    @[pol_cd]    ,
    @[pod_cd]    ,
    @[ts_flg]    ,
    @[mnl_flg]   ,
    SPC_GET_REP_TRD_FNC(@[rlane_cd])    ,
    SPC_GET_REP_SUB_TRD_FNC(@[rlane_cd]),
    @[trd_cd]    ,
    @[sub_trd_cd],
    DECODE(@[ioc_cd], 'OCN', 'O', 'T-OCN', 'O', 'I'),
    ( SELECT O.N2ND_PRNT_OFC_CD
        FROM SPC_OFC_LVL O,
             MAS_MON_VVD C
       WHERE O.OFC_CD     = @[sls_rgn_ofc_cd]
         AND C.TRD_CD     = @[trd_cd]
         AND C.RLANE_CD   = @[rlane_cd]
         AND C.IOC_CD     = DECODE(@[ioc_cd], 'OCN', 'O', 'T-OCN', 'O', 'I')
         AND C.VSL_CD     = @[vsl_cd]
         AND C.SKD_VOY_NO = @[skd_voy_no]
         AND C.DIR_CD     = @[skd_dir_cd]
         AND SUBSTR(C.SLS_YRMON, 1, 4) || C.COST_WK BETWEEN O.OFC_APLY_FM_YRWK AND O.OFC_APLY_TO_YRWK
    ),
    ( SELECT O.N3RD_PRNT_OFC_CD
        FROM SPC_OFC_LVL O,
             MAS_MON_VVD C
       WHERE O.OFC_CD     = @[sls_rgn_ofc_cd]
         AND C.TRD_CD     = @[trd_cd]
         AND C.RLANE_CD   = @[rlane_cd]
         AND C.IOC_CD     = DECODE(@[ioc_cd], 'OCN', 'O', 'T-OCN', 'O', 'I')
         AND C.VSL_CD     = @[vsl_cd]
         AND C.SKD_VOY_NO = @[skd_voy_no]
         AND C.DIR_CD     = @[skd_dir_cd]
         AND SUBSTR(C.SLS_YRMON, 1, 4) || C.COST_WK BETWEEN O.OFC_APLY_FM_YRWK AND O.OFC_APLY_TO_YRWK
    ),
    @[sls_rgn_ofc_cd]  ,
    @[bkg_aval_ttl_qty],
    0,
    0,
    @[bkg_aval_40ft_hc_qty],
    @[bkg_aval_45ft_hc_qty],
    @[bkg_aval_53ft_qty]   ,
    @[bkg_aval_rf_qty]     ,
    @[bkg_aval_ttl_wgt]    ,
    @[fcast_ttl_qty]       ,
    @[fcast_40ft_hc_qty]   ,
    @[fcast_45ft_hc_qty]   ,
    @[fcast_53ft_qty]      ,
    @[fcast_rf_qty]        ,
    @[fcast_ttl_wgt]       ,
    @[usd_bkg_ttl_qty]     ,
    @[usd_bkg_20ft_qty]    ,
    @[usd_bkg_40ft_qty]    ,
    @[usd_bkg_40ft_hc_qty] ,
    @[usd_bkg_45ft_hc_qty] ,
    @[usd_bkg_53ft_qty]    ,
    @[usd_bkg_rf_qty]      ,
    @[usd_bkg_ttl_wgt]     ,
    '1',
    @[upd_usr_id],
    CAST(SYS_EXTRACT_UTC(TO_TIMESTAMP(@[aloc_gdt], 'YYYY/MM/DD HH24:MI:SS')) AS DATE),
    @[cre_usr_id],
    SYSDATE      ,
    @[upd_usr_id],
    SYSDATE,
    DECODE(@[account_cd], 'OTHERS', 'XX', SUBSTR(@[account_cd], 1, 2)),
    DECODE(@[account_cd], 'OTHERS', '999999', SUBSTR(@[account_cd], 3, 6)),
    @[ctrt_no],
    DECODE(@[us_mod], 'OTHERS', 'OTH',  @[us_mod]),
    DECODE(@[del_cd], 'OTHERS', 'XXXXX', @[del_cd]),
    @[asgn_d2_qty]  ,
    @[asgn_d4_qty]  ,
    @[asgn_rd_qty]  ,
    @[bkg_aval_d2_qty]  ,
    @[bkg_aval_d4_qty]  ,
    @[bkg_aval_rd_qty]  ,
    @[fcast_d2_qty] ,
    @[fcast_d4_qty] ,
    @[fcast_rd_qty] ,
    @[usd_bkg_d2_qty]      ,
    @[usd_bkg_d4_qty]      ,
    @[usd_bkg_rd_qty]       
)			]]></sql>
			<params>
				<param name="rlane_cd" type="12" value="" out="N"/>
				<param name="dir_cd" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="sls_ofc_cd" type="12" value="" out="N"/>
				<param name="pol_cd" type="12" value="" out="N"/>
				<param name="pod_cd" type="12" value="" out="N"/>
				<param name="ts_flg" type="12" value="" out="N"/>
				<param name="mnl_flg" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="sub_trd_cd" type="12" value="" out="N"/>
				<param name="ioc_cd" type="12" value="" out="N"/>
				<param name="sls_rgn_ofc_cd" type="12" value="" out="N"/>
				<param name="bkg_aval_ttl_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_40ft_hc_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_45ft_hc_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_53ft_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_rf_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_ttl_wgt" type="12" value="" out="N"/>
				<param name="fcast_ttl_qty" type="12" value="" out="N"/>
				<param name="fcast_40ft_hc_qty" type="12" value="" out="N"/>
				<param name="fcast_45ft_hc_qty" type="12" value="" out="N"/>
				<param name="fcast_53ft_qty" type="12" value="" out="N"/>
				<param name="fcast_rf_qty" type="12" value="" out="N"/>
				<param name="fcast_ttl_wgt" type="12" value="" out="N"/>
				<param name="usd_bkg_ttl_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_20ft_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_40ft_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_40ft_hc_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_45ft_hc_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_53ft_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_rf_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_ttl_wgt" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="aloc_gdt" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="account_cd" type="12" value="" out="N"/>
				<param name="ctrt_no" type="12" value="" out="N"/>
				<param name="us_mod" type="12" value="" out="N"/>
				<param name="del_cd" type="12" value="" out="N"/>
				<param name="asgn_d2_qty" type="12" value="" out="N"/>
				<param name="asgn_d4_qty" type="12" value="" out="N"/>
				<param name="asgn_rd_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_d2_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_d4_qty" type="12" value="" out="N"/>
				<param name="bkg_aval_rd_qty" type="12" value="" out="N"/>
				<param name="fcast_d2_qty" type="12" value="" out="N"/>
				<param name="fcast_d4_qty" type="12" value="" out="N"/>
				<param name="fcast_rd_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_d2_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_d4_qty" type="12" value="" out="N"/>
				<param name="usd_bkg_rd_qty" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
