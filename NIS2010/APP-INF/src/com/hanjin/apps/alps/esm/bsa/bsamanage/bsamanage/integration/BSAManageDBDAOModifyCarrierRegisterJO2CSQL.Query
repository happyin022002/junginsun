<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BSAManageDBDAOModifyCarrierRegisterJO2CSQL">
			<desc><![CDATA[ModifyCarrierRegisterJO2 UPDATE]]></desc>
			<sql><![CDATA[
INSERT INTO BSA_JNT_OP_PORT_DWN (
        BSA_SEQ, 
        TRD_CD, 
        RLANE_CD, 
        DIR_CD, 
        VOP_CD,
        VSL_CAPA, 
        BSA_OP_CD, 
        BSA_OP_JB_CD, 
        CRR_CD,
        PORT_SEQ, 
        PORT_CD, 
        PORT_BSA_CAPA,
        CRE_USR_ID, 
        CRE_DT, 
        UPD_USR_ID, 
        UPD_DT)
 SELECT A.BSA_SEQ, 
        A.TRD_CD, 
        A.RLANE_CD, 
        A.DIR_CD, 
        A.VOP_CD, 
        A.VSL_CAPA,
        A.BSA_OP_CD,
        A.BSA_OP_JB_CD,
        @[crr_cd],
        A.PORT_SEQ,
        A.PORT_CD,
        0,
        @[cre_usr_id], 
        SYSDATE,
        @[upd_usr_id],
        SYSDATE
 FROM   BSA_JNT_OP_PORT_DWN A
 WHERE  A.BSA_OP_CD    = @[bsa_op_cd]
 AND    A.BSA_OP_JB_CD IN ('007','015','016')
 AND    A.CRR_CD       = 'SML'  /* 항상 존재하는 값 .. */
 AND    NOT EXISTS (SELECT 'OK'
                    FROM   BSA_JNT_OP_PORT_DWN D
                    WHERE  BSA_SEQ      = A.BSA_SEQ
                    AND    TRD_CD       = A.TRD_CD
                    AND    RLANE_CD     = A.RLANE_CD
                    AND    DIR_CD       = A.DIR_CD
                    AND    VOP_CD       = A.VOP_CD
                    AND    VSL_CAPA     = A.VSL_CAPA
                    AND    BSA_OP_CD    = A.BSA_OP_CD
                    AND    BSA_OP_JB_CD = A.BSA_OP_JB_CD
                    AND    CRR_CD       = @[crr_cd]
                    AND    PORT_SEQ     = A.PORT_SEQ
                   )			]]></sql>
			<params>
				<param name="crr_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="Y"/>
				<param name="bsa_op_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
