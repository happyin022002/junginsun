<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BlRatingDBDAOAddTariffSurchargeRateCSQL">
			<desc><![CDATA[Tariff Surcharge Autorating 결과를 저장한다.]]></desc>
			<sql><![CDATA[
#if (${caFlag} == 'Y')	   
INSERT INTO BKG_TRF_SCG_RT_HIS (
	   BKG_NO,
	   CORR_NO,
	   RT_SEQ,
	   FRT_TERM_CD,
	   CGO_CATE_CD, 
	   CHG_CD,
	   CURR_CD,
	   RAT_UT_CD,
	   RAT_AS_QTY,
	   CHG_UT_AMT,
	   CHG_AMT,
	   RCV_TERM_CD,
	   DE_TERM_CD,
	   FRT_INCL_XCLD_DIV_CD,
	   CRE_USR_ID,
	   CRE_DT,
	   UPD_USR_ID,
	   UPD_DT)
	VALUES (
	   @[bkg_no],
	   'TMP0000001',
	   (SELECT  NVL(MAX(RT_SEQ),0)+1 AS SEQ FROM BKG_TRF_SCG_RT_HIS WHERE BKG_NO = @[bkg_no] AND CORR_NO = 'TMP0000001'), 
	   @[frt_term_cd],
	   @[cgo_tp_cd],
	   @[chg_cd],
	   @[curr_cd],
	   @[rat_ut_cd],
	   @[rat_as_qty],
	   @[chg_ut_amt],
	   @[chg_amt],
	   @[rcv_term_cd],
	   @[de_term_cd],
	   @[frt_incl_xcld_div_cd],
	   @[usr_id],
	   SYSDATE,
	   @[usr_id],
	   SYSDATE)
#else
INSERT INTO BKG_TRF_SCG_RT (
	   BKG_NO,
	   RT_SEQ,
	   FRT_TERM_CD,
	   CGO_CATE_CD, 
	   CHG_CD,
	   CURR_CD,
	   RAT_UT_CD,
	   RAT_AS_QTY,
	   CHG_UT_AMT,
	   CHG_AMT,
	   RCV_TERM_CD,
	   DE_TERM_CD,
	   FRT_INCL_XCLD_DIV_CD,
	   CRE_USR_ID,
	   CRE_DT,
	   UPD_USR_ID,
	   UPD_DT)
	VALUES (
	   @[bkg_no],
	   (SELECT  NVL(MAX(RT_SEQ),0)+1 AS SEQ FROM BKG_TRF_SCG_RT WHERE BKG_NO = @[bkg_no]), 
	   @[frt_term_cd],
	   @[cgo_tp_cd],
	   @[chg_cd],
	   @[curr_cd],
	   @[rat_ut_cd],
	   @[rat_as_qty],
	   @[chg_ut_amt],
	   @[chg_amt],
	   @[rcv_term_cd],
	   @[de_term_cd],
	   @[frt_incl_xcld_div_cd],
	   @[usr_id],
	   SYSDATE,
	   @[usr_id],
	   SYSDATE)
#end			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="frt_term_cd" type="12" value="" out="N"/>
				<param name="cgo_tp_cd" type="12" value="" out="N"/>
				<param name="chg_cd" type="12" value="" out="N"/>
				<param name="curr_cd" type="12" value="" out="N"/>
				<param name="rat_ut_cd" type="12" value="" out="N"/>
				<param name="rat_as_qty" type="12" value="" out="N"/>
				<param name="chg_ut_amt" type="12" value="" out="N"/>
				<param name="chg_amt" type="12" value="" out="N"/>
				<param name="rcv_term_cd" type="12" value="" out="N"/>
				<param name="de_term_cd" type="12" value="" out="N"/>
				<param name="frt_incl_xcld_div_cd" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
