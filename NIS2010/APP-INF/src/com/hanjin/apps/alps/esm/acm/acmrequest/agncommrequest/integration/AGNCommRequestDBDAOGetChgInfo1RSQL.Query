<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AGNCommRequestDBDAOGetChgInfo1RSQL">
			<desc><![CDATA[GetChgInfo1]]></desc>
			<sql><![CDATA[
SELECT 
    SUM(HO) AS HO,
    SUM(HD) AS HD,
    SUM(FO) AS FO,
    SUM(FD) AS FD
FROM (
    SELECT 
           CASE WHEN B.FRT_CHG_TP_CD = 'IH' AND B.CHG_APLY_AREA_CD = 'O' THEN 1 ELSE 0 END  AS HO,
           CASE WHEN B.FRT_CHG_TP_CD = 'IH' AND B.CHG_APLY_AREA_CD = 'D' THEN 1 ELSE 0 END  AS HD,
           CASE WHEN B.FRT_CHG_TP_CD = 'OP' AND B.CHG_APLY_AREA_CD = 'O' THEN 1 ELSE 0 END  AS FO,
           CASE WHEN B.FRT_CHG_TP_CD = 'OP' AND B.CHG_APLY_AREA_CD = 'D' THEN 1 ELSE 0 END  AS FD
      FROM BKG_CHG_RT A, MDM_CHARGE B
     WHERE A.BKG_NO               = @[bkg_no]
       AND B.CHG_CD               = A.CHG_CD
       AND A.FRT_INCL_XCLD_DIV_CD = 'N'
       AND B.CHG_CD IN ('INF', 'DRF', 'ATS', 'DHS', 'BLS', 'TDS', 'DCA', 'BCU', 'AHC', 'MSS', 'CPS', 'ACP', 'CIS', 'WHS', 'SIS', 'FMS', 'IVA', 'TRC', 'DIH', 'DAR', 'WJC', 'RTS', 'OAR', 'OIH', 'PSU', 'ATC', 'FFT', 'REF', 'CTS', 'VMI', 'TMS', 'RFC', 'CDP', 'PPE', 'CER', 'PSM', 'WWT', 'MDA') 
     --AND B.REP_CHG_CD = 'TAC' -- [CHM-201325569] REP_CHG_CD 변경에 따라서 하드코딩 계산 로직 변경 (TMO)
        )			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
