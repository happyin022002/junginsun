<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ConstraintMasterDBDAOTempSpcAlocMgmtVORSQL">
			<desc><![CDATA[VO생성용]]></desc>
			<sql><![CDATA[
SELECT BKG_ALOC_SEQ, BKG_ALOC_SEQ SHAAS_SEQ, BKG_ALOC_SEQ SINWA_SEQ
     , BKG_ALOC_TP_CD
     , TRNK_SLAN_CD
     , TRNK_DIR_CD
     , VSL_CD||SKD_VOY_NO||SKD_DIR_CD VVD
     , SLS_RHQ_CD
     , OB_SLS_OFC_CD
     , BKG_POR_CNT_CD
     , POR_CD
     , POR_NOD_CD
     , BKG_POR_SCC_CD
     , BKG_POL_CNT_CD
     , POL_CD
     , POL_NOD_CD
     , N1ST_TS_SLAN_CD
     , (SELECT WM_CONCAT(BAMD.LOC_CD) FROM SPC_BKG_ALOC_MGMT_LOC_DTL BAMD WHERE BAMD.BKG_ALOC_SEQ = BAM.BKG_ALOC_SEQ AND BAMD.LOC_DIV_CD = 'POL' AND BAM.BKG_ALOC_TP_CD = 'S' ) N1ST_TS_POL_CD
     , (SELECT WM_CONCAT(BAMD.LOC_CD) FROM SPC_BKG_ALOC_MGMT_LOC_DTL BAMD WHERE BAMD.BKG_ALOC_SEQ = BAM.BKG_ALOC_SEQ AND BAMD.LOC_DIV_CD = 'POD' AND BAM.BKG_ALOC_TP_CD = 'S' ) N1ST_TS_POD_CD
     , N1ST_TS_DIR_CD
     , N1ST_TS_POL_CNT_CD
     , N1ST_TS_POD_CNT_CD
     , N2ND_TS_SLAN_CD
     , N2ND_TS_POL_CD
     , N2ND_TS_POD_CD
     , BKG_POD_CNT_CD
     , POD_CD
     , POD_NOD_CD
     , BKG_DEL_CNT_CD
     , DEL_CD
     , DEL_NOD_CD
     , BKG_DEL_SCC_CD
     , SC_NO
     , RFA_NO
     , CTRT_CUST_CNT_CD||TRIM(TO_CHAR(CTRT_CUST_SEQ,'000000')) CTRT_CUST_CNT_CD
     , CUST_CNT_CD||TRIM(TO_CHAR(CUST_SEQ,'000000')) CUST_CNT_CD
     , CNTR_TPSZ_CD
     , CMDT_CD
     , (SELECT CMDT_NM FROM MDM_COMMODITY MDM WHERE BAM.CMDT_CD = MDM.CMDT_CD) CMDT_NM
     , TO_CHAR(SCG_GRP_CMDT_SEQ,'00') SCG_GRP_CMDT_SEQ
     , (SELECT PSGC.SCG_GRP_CMDT_DESC FROM PRI_SCG_GRP_CMDT PSGC WHERE PSGC.SVC_SCP_CD = 'TPW' AND PSGC.CHG_CD = 'GRI' AND PSGC.SCG_GRP_CMDT_SEQ = BAM.SCG_GRP_CMDT_SEQ AND ROWNUM = 1) SCG_GRP_CMDT_DESC
     , ALOC_LOD_QTY, ALOC_LOD_QTY OLD_ALOC_LOD_QTY -- 조건 완화 체크를 위해
     , ALOC_LOD_QTY_RTO, ALOC_LOD_QTY_RTO OLD_ALOC_LOD_QTY_RTO -- 조건 완화 체크를 위해
     , ASGN_TTL_WGT, ASGN_TTL_WGT OLD_ASGN_TTL_WGT -- 조건 완화 체크를 위해
     , ASGN_WGT_RTO, ASGN_WGT_RTO OLD_AASGN_WGT_RTO -- 조건 완화 체크를 위해
     , ALOC_SVC_CD
     , BKG_ALOC_RMK
     , ALOC_USE_FLG
     , CRE_USR_ID
     , CRE_DT
     , UPD_USR_ID
     , TO_CHAR(UPD_DT,'YYYY-MM-DD HH24:MI:SS') UPD_DT
     , (SELECT WM_CONCAT(BAMD.LOC_CD) FROM SPC_BKG_ALOC_MGMT_LOC_DTL BAMD WHERE BAMD.BKG_ALOC_SEQ = BAM.BKG_ALOC_SEQ AND BAMD.LOC_DIV_CD = 'POL' AND BAM.BKG_ALOC_TP_CD = 'T') TRUNK_POL_CD
     , (SELECT WM_CONCAT(BAMD.LOC_CD) FROM SPC_BKG_ALOC_MGMT_LOC_DTL BAMD WHERE BAMD.BKG_ALOC_SEQ = BAM.BKG_ALOC_SEQ AND BAMD.LOC_DIV_CD = 'POD' AND BAM.BKG_ALOC_TP_CD = 'T') TRUNK_POD_CD

	 , CMPB_AMT, CMPB_AMT OLD_CMPB_AMT -- 조건 완화 체크를 위해
	 , BKG_CTRL_TP_CD
	 , DCGO_FLG
	 , RD_CGO_FLG

     , (SELECT WM_CONCAT(CUST.CUST_CNT_CD||LPAD(CUST.CUST_SEQ, 6, '0')) FROM SPC_BKG_ALOC_MGMT_CUST_DTL CUST WHERE CUST.BKG_ALOC_SEQ = BAM.BKG_ALOC_SEQ AND CUST.BKG_CUST_TP_CD = 'B' ) AGMT_ACT_CNT_CD
	 , ALOC_APLY_FM_DT
	 , ALOC_APLY_TO_DT
	 , SUB_TRD_CD
	 --, CMPB_RULE_CD
	 , DECODE(DCGO_FLG, 'Y', 'dg', DECODE (RD_CGO_FLG, 'Y', 'rd', '') ) AS DG_RD
	 , OFT_CHG_AMT, OFT_CHG_AMT OLD_OFT_CHG_AMT -- 조건 완화 체크를 위해
     , USA_BKG_MOD_CD
     , HUL_BND_CD
     , APLY_FM_YRWK
     , APLY_TO_YRWK
	 , CMPB_ONY_FLG
--VO용이라고 함
	 , '' LANE_CNT
	 , '' DIR_CNT
	 , '' CMDT_CNT
	 , '' VAL_VALUE
	 , '' VAL_TYPE
	 , '' VAL_CNT
	 , '' subtrade
     , '' lane
	 , '' bound
	 , '' trade
	 , '' tab_rhq_cd
     , '' ofc_ty
     , '' chk_op
     , '' vvd_sig
     , '' ofc_cd
--     , AGMT_ACT_CUST_SEQ
	 , '' STWG_CD
	, '' OP_CNTR_QTY, '' OLD_OP_CNTR_QTY
    , '' OP_CNTR_QTY_RTO, '' OLD_OP_CNTR_QTY_RTO
	, '' SC_NM
	, '' CTRT_CUST_CNT_NM
	, '' RFA_NM
	, '' TS_NOD_CD
	, '' TS_POD_NOD_CD
	, '' ACCT_TP
	, '' CUST_CNT_NM
	, '' TS_POL_NOD_CD
	, '' VAL_VALUE2
	, '' CUST_GRP_ID
	, '' CUST_GRP_NM
	, '' CMPB_PER_WGT
	, '' WGT_PER_TEU
	, '' RFA_CTRT_TP_CD
	, '' CRR_CD
	, '' CRR_NM
	, '' LOC_CD

FROM SPC_BKG_ALOC_MGMT BAM			]]></sql>
			<params>
			</params>
		</query>
	</querys>
</sqls>
