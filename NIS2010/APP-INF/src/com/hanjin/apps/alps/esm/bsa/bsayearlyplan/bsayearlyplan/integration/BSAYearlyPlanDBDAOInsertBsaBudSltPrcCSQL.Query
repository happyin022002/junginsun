<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BSAYearlyPlanDBDAOInsertBsaBudSltPrcCSQL">
			<desc><![CDATA[BSA_BUD_SLT_PRC 데이타를 BSA_SLT_PRC 데이터를 참조하여 생성한다.
History-----------------------------------
2010.07.22 이행지 [CHM-201112101] curr_cd 컬럼추가로 인한 쿼리 수정]]></desc>
			<sql><![CDATA[
INSERT INTO BSA_BUD_SLT_PRC (
    TRD_CD            ,
    RLANE_CD          ,
    DIR_CD            ,
    BSA_SLT_COST_TP_CD,
    SLT_PRC_SEQ       ,
    VVD_CD            ,
    BSA_SLT_PRC_FM_DT ,
    BSA_SLT_PRC_TO_DT ,
    HJS_BFR_SUB_CAPA  ,
    SUB_CHTR_BSA_CAPA ,
    CRS_CHTR_BSA_CAPA ,
    CRE_USR_ID        ,
    CRE_DT            ,
    UPD_USR_ID        ,
    UPD_DT            ,
    CURR_CD
)
  SELECT TRD_CD            ,
         RLANE_CD          ,
         DIR_CD            ,
         BSA_SLT_COST_TP_CD,
         SLT_PRC_SEQ       ,
         VVD_CD            ,
         BSA_SLT_PRC_FM_DT ,
         BSA_SLT_PRC_TO_DT ,
         HJS_BFR_SUB_CAPA  ,
         SUB_CHTR_BSA_CAPA ,
         CRS_CHTR_BSA_CAPA ,
         @[cre_usr_id]     ,
         SYSDATE           ,
         @[upd_usr_id]     ,
         SYSDATE           ,
         CURR_CD
    FROM BSA_SLT_PRC
   WHERE 1=1
     AND BSA_SLT_COST_TP_CD = '017'
     AND BSA_SLT_PRC_FM_DT <= @[bsa_slt_prc_to_dt]
     AND BSA_SLT_PRC_TO_DT >= @[bsa_slt_prc_fm_dt]

#if (${trd_cd} != 'All')
     AND TRD_CD             = @[trd_cd]
#end

#if (${rlane_cd} != 'All')
     AND RLANE_CD           = @[rlane_cd]
#end			]]></sql>
			<params>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="bsa_slt_prc_to_dt" type="12" value="" out="N"/>
				<param name="bsa_slt_prc_fm_dt" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="rlane_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
