<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PerformanceReportDBDAOManageQtyCntrCopositeCSQL">
			<desc><![CDATA[PerformanceReportDBDAOManageQtyCntrCopositeCSQL]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_CNTR_CZ
(BKG_NO,  BKG_CZ_STS_CD,  BKG_CZ_DESC, CRE_USR_ID, CRE_DT, UPD_USR_ID, UPD_DT)
VALUES 
(
@[bkg_no],@[bkg_cz_sts_cd],
#if (${bkg_cz_sts_cd} == 'CN') 
 BKG_JOIN_CLOB_FNC( CURSOR(SELECT   CNTR_TPSZ_CD||'-'||CNTR_NO
                           FROM     BKG_CONTAINER
                           WHERE    BKG_NO = @[bkg_no]
                           AND      CNTR_TPSZ_CD IS NOT NULL
                           ORDER BY CNTR_TPSZ_CD, CNTR_NO ASC
                          )
                     )
#elseif (${bkg_cz_sts_cd} == 'CQ') 
 BKG_JOIN_CLOB_FNC( CURSOR(SELECT   CNTR_TPSZ_CD||'-'||ltrim(TO_CHAR(NVL(sum(OP_CNTR_QTY), 0),'99990.99'))
                           FROM     BKG_QUANTITY
                           WHERE    BKG_NO = @[bkg_no]
                           AND      CNTR_TPSZ_CD IS NOT NULL
                           GROUP BY CNTR_TPSZ_CD
                          )
                     )
#else 
 NULL
#end
    , 'SYSTEM'
	, SYSDATE
	, 'SYSTEM'
	, SYSDATE 

)			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="bkg_cz_sts_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
