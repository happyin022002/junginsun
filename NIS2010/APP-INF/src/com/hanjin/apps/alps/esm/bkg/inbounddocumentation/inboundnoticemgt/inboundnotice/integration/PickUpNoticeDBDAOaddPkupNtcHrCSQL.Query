<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PickUpNoticeDBDAOaddPkupNtcHrCSQL">
			<desc><![CDATA[Form Type별 Event발생시 Notice 발송 시간에 대한 Setting 정보를 생성한다.]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_PKUP_NTC_HR A
(
    PKUP_NTC_SEQ
,	PKUP_NTC_FOM_CD
,	NTC_SEQ
,	NTC_BSE_HRS
,	NTC_COND_CD
,	MVMT_STS_CD
,	CRE_USR_ID
,	CRE_DT
,	UPD_USR_ID
,	UPD_DT
) 
SELECT PKUP_NTC_SEQ
,      @[pkup_ntc_fom_cd] AS PKUP_NTC_FOM_CD
,      NVL((SELECT /*+INDEX_DESC(T XPKBKG_PKUP_NTC_HR) */ NTC_SEQ
            FROM  BKG_PKUP_NTC_HR T
            WHERE T.PKUP_NTC_SEQ    = S.PKUP_NTC_SEQ
            AND   T.PKUP_NTC_FOM_CD = @[pkup_ntc_fom_cd]
            AND   ROWNUM            =1),0)+1 AS NTC_SEQ
,	@[ntc_bse_hrs] AS NTC_BSE_HRS
,	@[ntc_cond_cd] AS NTC_COND_CD
,	@[mvmt_sts_cd] AS MVMT_STS_CD
,	@[cre_usr_id]  AS CRE_USR_ID
,	SYSDATE        AS CRE_DT
,	@[upd_usr_id]  AS UPD_USR_ID
,	SYSDATE        AS UPD_DT    
FROM   BKG_PKUP_NTC_STUP S
WHERE  PKUP_NTC_SND_TP_CD = @[pkup_ntc_snd_tp_cd]
AND    OFC_CD = @[ofc_cd]
AND   DEL_CD = decode(nvl(@[del_cd],'ALL'),'ALL','*',@[del_cd])
			]]></sql>
			<params>
				<param name="pkup_ntc_fom_cd" type="12" value="" out="N"/>
				<param name="ntc_bse_hrs" type="12" value="" out="N"/>
				<param name="ntc_cond_cd" type="12" value="" out="N"/>
				<param name="mvmt_sts_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="pkup_ntc_snd_tp_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="del_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
