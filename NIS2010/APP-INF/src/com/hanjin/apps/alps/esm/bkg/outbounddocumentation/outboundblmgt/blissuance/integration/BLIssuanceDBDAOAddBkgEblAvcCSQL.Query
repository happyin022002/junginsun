<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BLIssuanceDBDAOAddBkgEblAvcCSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
INSERT INTO BKG_EBL_AVC
	(BKG_NO
	,BKG_EBL_SEQ
	,CNTR_SEQ
	,DOC_PARA_NO1
	,DOC_RMK
	,DOC_NO_AND_CLSS_NM
	,OBJ_FUNC_EVNT_CD1
	,OBJ_FUNC_EVNT_CD2
	,OBJ_FUNC_EVNT_CD3
	,OBJ_FUNC_EVNT_CD4
	,EBL_DEPT_NM
	,CNTC_PSON_TELCM_NO
	,CNTC_FAX_NO
	,CNTC_EML
	,CNTC_MPHN_NO
	,APRO_USR_NM1
	,BL_ISS_DT
	,CLT_AGN_FLG
	,CHG_AMT
	,XPT_FLG
	,CGOR_RMK
	,EBL_CGO_CATE_CD
	,SR_NO
	,EBL_SR_AMD_TP_CD
	,EBL_ESTM_BC_DIV_CD
	,BL_NO
	,BL_TP_CD
	,ORG_BL_NO
	,RISS_FLG
	,NTC_TIT_CTNT
	,SIG_STMT_CTNT
	,EBL_FRT_TERM_CD
	,AR_INV_NO
	,LC_NO
	,SHPR_NM1
	,SHPR_NM2
	,ACT_SHPR_PHN_NO1
	,SHPR_FAX_NO1
	,SHPR_EML1
	,SHPR_ADDR1
	,SHPR_ADDR2
	,SHPR_ADDR3
	,SHPR_ADDR4
	,SHPR_ADDR5
	,ACT_SHPR_PHN_NO2
	,ACT_SHPR_NM
	,CFM_FLG
	,CFM_DT
	,BKG_TRSP_MZD_CD
	,BL_OBRD_DT
	,VSL_ETA_DT
	,SR_CMT_DESC
	,VVD_CD
	,PRE_VSL_NM
	,VSL_NM
	,VVD_NM
	,EBL_NTLT_DIV_CD
	,OBL_SRND_FLG
	,POL_CD
	,POL_NM
	,POD_CD
	,POD_NM
	,DEL_CD
	,DEL_NM
	,DEL_CD1
	,DEL_NM1
	,POR_CD
	,POR_NM
	,DEL_CD2
	,DEL_NM2
	,POD_CD1
	,POD_NM1
	,INLND_ROUT_RMK
	,EBL_PRE_PORT_CD
	,INLND_ROUT_RMK1
	,BL_MV_TP_NM
	,BKG_TRSP_MOD_CD
	,CUST_REF_RMK
	,VNDR_CUST_REF_RMK
	,ORG_CNT_NM
	,LODG_RMK
	,EBL_MSG_TP_CD
	,CO_NM1
	,CO_NM2
	,CO_ADDR1
	,CO_ADDR2
	,CO_ADDR3
	,BL_ISS_LOC_CD
	,BL_ISS_LOC_NM
	,EBL_BKG_PPD_INP_TERM_CD
	,EBL_PPD_OFC_CD
	,EBL_BKG_CLT_INP_TERM_CD
	,EBL_CLT_OFC_CD
	,OBL_ISS_KNT
	,SHPR_NM3
	,SHPR_NM4
	,ACT_SHPR_PHN_NO3
	,SHPR_EML2
	,SHPR_FAX_NO2
	,SHPR_ADDR6
	,SHPR_ADDR7
	,SHPR_ADDR8
	,SHPR_ADDR9
	,SHPR_ADDR10
	,APRO_USR_NM2
	,SHPR_CTNT1
	,SHPR_CTNT2
	,SHPR_ADDR11
	,SHPR_ADDR12
	,SHPR_ADDR13
	,SHPR_ADDR14
	,SHPR_ADDR15
	,ACT_CUST_PHN_NO
	,ACT_CUST_FAX_NO
	,CUST_EML1
	,APRO_USR_NM3
	,CHG_RMK1
	,CHG_RMK2
	,CUST_ADDR1
	,CUST_ADDR2
	,CUST_ADDR3
	,CUST_ADDR4
	,CUST_ADDR5
	,CUST_PHN_NO1
	,CUST_FAX_NO1
	,CUST_EML2
	,APRO_USR_NM4
	,CHG_RMK3
	,CHG_RMK4
	,CUST_ADDR6
	,CUST_ADDR7
	,CUST_ADDR8
	,CUST_ADDR9
	,CUST_ADDR10
	,CUST_PHN_NO2
	,CUST_FAX_NO2
	,CUST_EML3
	,APRO_USR_NM5
	,CHK_DE_CTY_NM1
	,CHK_DE_CTY_NM2
	,CHK_DE_ADDR1
	,CHK_DE_ADDR2
	,CHK_DE_ADDR3
	,CHK_DE_ADDR4
	,CHK_DE_ADDR5
	,CUST_PHN_NO3
	,CUST_FAX_NO3
	,CUST_EML4
	,APRO_USR_NM6
	,CNTR_WGT
	,ACT_WGT
	,PCK_QTY
	,PCK_TP_CD
	,MK_DESC1
	,MK_DESC2
	,MK_DESC3
	,MK_DESC4
	,MK_DESC5
	,IF_FLG
	,CRE_USR_ID
	,CRE_DT
	,UPD_USR_ID
	,UPD_DT)
SELECT  BK.BKG_NO   BKG_NO		
        ,@[bkg_ebl_seq] BKG_EBL_SEQ
        ,ROWNUM CNTR_SEQ
		,BK.BKG_NO||LTRIM(TO_CHAR(@[bkg_ebl_seq], '0000')) DOC_PARA_NO1
#if (${sr_sts_cd} == 'I')
		,'BLAdvice'  DOC_RMK
#elseif(${sr_sts_cd} == 'U')
		,'BLReissue'  DOC_RMK
#end
        ,BK.BKG_NO   DOC_NO_AND_CLSS_NM
        ,'1'         OBJ_FUNC_EVNT_CD1
        ,'NA'        OBJ_FUNC_EVNT_CD2
        ,'1.0'       OBJ_FUNC_EVNT_CD3
        ,'1'         OBJ_FUNC_EVNT_CD4
        ,ISS.OBL_ISS_USR_ID       EBL_DEPT_NM
        ,CNTC.CNTC_PSON_PHN_NO   CNTC_PSON_TELCM_NO
        ,CNTC.CNTC_PSON_FAX_NO   CNTC_FAX_NO
        ,SUBSTR(CNTC.CNTC_PSON_EML,1,25) CNTC_EML
        ,CNTC.CNTC_PSON_MPHN_NO  CNTC_MPHN_NO       
        ,(SELECT SUBSTR(USR_NM,1,17) FROM COM_USER COM WHERE COM.USR_ID = ISS.OBL_ISS_USR_ID) APRO_USR_NM1
        ,TO_DATE(TO_CHAR(ISS.OBL_ISS_DT,'YYYYMMDD'),'YYYYMMDD')  BL_ISS_DT
        ,'N' CLT_AGN_FLG
        ,'' CHG_AMT
        ,'Y' XPT_FLG
        ,'Ocean B/L' CGOR_RMK
        ,DECODE (BK.DCGO_FLG,'Y','**','') EBL_CGO_CATE_CD
        ,BK.BKG_NO SR_NO
        ,'1' EBL_SR_AMD_TP_CD
        ,NVL(DECODE(BK.RCV_TERM_CD, 'Y', 'CY'  
                                  , 'S', 'CFS'  
                                  , 'H', 'CY'  
                                  , 'D', 'DOOR'  
                                  , 'I', 'FREE IN'  
                                  , 'T', 'TACKLE'  
                                  , 'M', ''  
                                  , '',  ''), BKG_JOIN_FNC(CURSOR(  
                          SELECT DECODE(CON.RCV_TERM_CD, 'Y', 'CY'  
                                                       , 'S', 'CFS'  
                                                       , 'H', 'CY'  
                                                       , 'D', 'DOOR'  
                                                       , 'I', 'FREE IN'  
                                                       , 'T', 'TACKLE'  
                                                       , 'M', 'MIXED'  
                                                       , '',  '') AS A  
                             FROM BKG_CONTAINER CON  
                            WHERE 1=1  
                              AND CON.BKG_NO = @[bkg_no]  
                            GROUP BY CON.RCV_TERM_CD  
                         ), '+'))||'/'||
		      NVL(DECODE(BK.DE_TERM_CD, 'Y', 'CY'  
                                 , 'S', 'CFS'  
                                 , 'H', 'CY'  
                                 , 'D', 'DOOR'  
                                 , 'O', 'FREE OUT'  
                                 , 'T', 'TACKLE'  
                                 , 'M', ''  
                                 , '',  '') , BKG_JOIN_FNC(CURSOR(  
                          SELECT DECODE(CON.DE_TERM_CD, 'Y', 'CY'  
                                                      , 'S', 'CFS'  
                                                      , 'H', 'CY'  
                                                      , 'D', 'DOOR'  
                                                      , 'O', 'FREE OUT'  
                                                      , 'T', 'TACKLE'  
                                                      , 'M', 'MIXED'  
                                                      , '',  '') AS A  
                             FROM BKG_CONTAINER CON  
                            WHERE 1=1  
                              AND CON.BKG_NO = @[bkg_no]  
                          GROUP BY CON.DE_TERM_CD  
                         ), '+'))  EBL_ESTM_BC_DIV_CD
        ,BK.BL_NO               BL_NO
        ,DECODE(BK.BL_TP_CD,'W','2','1')  BL_TP_CD
        ,BK.BL_NO		        ORG_BL_NO
        ,'N'        RISS_FLG
        ,'Ocean B/L' NTC_TIT_CTNT
        ,'' SIG_STMT_CTNT
        ,DECODE(RT.FRT_TERM_CD,'P','=FREIGHT PREPAID=','C','=FREIGHT COLLECT=',NULL) EBL_FRT_TERM_CD
        ,(SELECT COALESCE(PSAN_NO,XTER_SI_REF_NO,XTER_REF_NO) AS DOC_NO  
           FROM (  
                 SELECT BKG_NO  
                       ,MAX(DECODE(BKG_REF_TP_CD, 'PSAN', CUST_REF_NO_CTNT, '')) AS PSAN_NO  
                       ,MAX(DECODE(BKG_REF_TP_CD, 'EBRF', CUST_REF_NO_CTNT, '')) AS XTER_REF_NO  
                       ,MAX(DECODE(BKG_REF_TP_CD, 'ESRF', CUST_REF_NO_CTNT, '')) AS XTER_SI_REF_NO  
                   FROM BKG_REFERENCE  
                  WHERE BKG_NO IN (@[bkg_no])   
                    AND BKG_REF_TP_CD IN ('EBRF', 'ESRF','PSAN')  
                  GROUP BY BKG_NO)) AR_INV_NO
        ,'' LC_NO
		,SUBSTR(REPLACE(CUST.CUST_NM,CHR(13)||CHR(10),'^'),1,INSTR(REPLACE(CUST.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_NM1
        ,SUBSTR(REPLACE(CUST.CUST_NM,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 
                                                             INSTR(REPLACE(CUST.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_NM2
        ,'' ACT_SHPR_PHN_NO1
        ,CUST.CUST_FAX_NO SHPR_FAX_NO1
        ,CUST.CUST_EML SHPR_EML1
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),1,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_ADDR1
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_ADDR2
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 1) SHPR_ADDR3
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) - 1) SHPR_ADDR4
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,5) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) - 1) SHPR_ADDR5 
        ,'' ACT_SHPR_PHN_NO2
        ,SUBSTR(CUST.CUST_NM,1,25) ACT_SHPR_NM
        ,'Y' CFM_FLG
        ,TO_DATE(TO_CHAR(SYSDATE,'YYYYMMDD'),'YYYYMMDD') CFM_DT
        ,'' BKG_TRSP_MZD_CD
        ,TO_DATE(TO_CHAR(BL.BL_OBRD_DT,'YYYYMMDD'),'YYYYMMDD') BL_OBRD_DT
        ,TO_DATE(TO_CHAR(VSK.VPS_ETA_DT,'YYYYMMDD'),'YYYYMMDD') VSL_ETA_DT
        ,'' SR_CMT_DESC
        ,(SELECT VSL_CD||SKD_VOY_NO||SKD_DIR_CD FROM BKG_VVD WHERE BKG_NO = BK.BKG_NO AND POL_CD = BK.POL_CD AND VSL_PRE_PST_CD = 'S') VVD_CD
		,SUBSTR(BL.PRE_VSL_NM,1,17) PRE_VSL_NM
        ,SUBSTR(BL.VSL_NM,1,35) VSL_NM
        ,SUBSTR(MDM_VSL.VSL_RGST_CNT_CD,1,5) VVD_NM
        ,SUBSTR(MDM_VSL.VSL_ENG_NM,1,14) EBL_NTLT_DIV_CD
        ,ISS.OBL_SRND_FLG OBL_SRND_FLG
        ,BK.POL_CD POL_CD
		,SUBSTR(BL.POL_NM,1,35)  POL_NM
        ,BK.POD_CD POD_CD
        ,SUBSTR(BL.POD_NM,1,35)  POD_NM
        ,BK.DEL_CD DEL_CD
        ,NVL(BL.FNL_DEST_NM,' ') DEL_NM
        ,BK.DEL_CD DEL_CD1
        ,NVL(BL.FNL_DEST_NM,' ') DEL_NM1
        ,BK.POR_CD POR_CD
        ,SUBSTR(BL.POR_NM,1,35) POR_NM
        ,BK.DEL_CD DEL_CD2
        ,(SELECT LOC_NM FROM MDM_LOCATION WHERE LOC_CD = BK.DEL_CD) DEL_NM2
        ,BK.POD_CD POD_CD1
        ,(SELECT LOC_NM FROM MDM_LOCATION WHERE LOC_CD = BK.POD_CD) POD_NM1
        ,'N' INLND_ROUT_RMK
        ,SUBSTR(BL.PRE_VSL_NM,1,35) EBL_PRE_PORT_CD
        ,'' INLND_ROUT_RMK1
        ,'' BL_MV_TP_NM
        ,DECODE(DECODE(NVL(ISS.ORG_PPD_RCV_CD,'X'),'N',1,'C',1,0)+DECODE(NVL(ISS.ORG_N3PTY_PPD_CD,'X'),'N',1,'C',1,0),0,'Y','N') BKG_TRSP_MOD_CD
        ,(SELECT SUBSTR(F.CUST_NM,1,300) FROM BKG_CUSTOMER F WHERE F.BKG_NO = BK.BKG_NO AND BKG_CUST_TP_CD ='F') CUST_REF_RMK
        ,(SELECT SUBSTR(CUST_NM,1,300) FROM BKG_CUSTOMER E WHERE BKG_NO = BK.BKG_NO AND BKG_CUST_TP_CD ='E') VNDR_CUST_REF_RMK
        ,'' ORG_CNT_NM
        ,'' LODG_RMK
        ,'' EBL_MSG_TP_CD
        ,'' CO_NM1
        ,'' CO_NM2
        ,'SM Line Corporation,' CO_ADDR1
        ,'25 Gukjegeumyung-ro 2-gil, Yeongdeungpo-gu,' CO_ADDR2
        ,'Seoul, Korea 07327' CO_ADDR3
        ,ISS.OBL_ISS_OFC_CD BL_ISS_LOC_CD
		,SUBSTR((SELECT A3.LOC_NM || ',' || A3.CNT_CD FROM MDM_ORGANIZATION A1, BKG_BL_ISS A2, MDM_LOCATION A3 WHERE A1.OFC_CD = A2.OBL_ISS_OFC_CD AND A2.BKG_NO = BK.BKG_NO AND A1.LOC_CD = A3.LOC_CD),1,25) BL_ISS_LOC_NM
        ,RT.PPD_RCV_OFC_CD EBL_BKG_PPD_INP_TERM_CD
		,SUBSTR((SELECT A2.LOC_CD FROM BKG_RATE A1 ,MDM_ORGANIZATION A2 WHERE A1.PPD_RCV_OFC_CD = A2.OFC_CD AND A1.BKG_NO = BK.BKG_NO AND EXISTS ( SELECT 'Y' FROM BKG_CHG_RT RT WHERE RT.BKG_NO = A1.BKG_NO AND RT.FRT_INCL_XCLD_DIV_CD = 'N' AND FRT_TERM_CD ='P' AND ROWNUM = 1) ),1,25)  EBL_PPD_OFC_CD
        ,RT.CLT_OFC_CD EBL_BKG_CLT_INP_TERM_CD
		,SUBSTR((SELECT A2.LOC_CD FROM BKG_RATE A1 ,MDM_ORGANIZATION A2 WHERE A1.CLT_OFC_CD = A2.OFC_CD AND A1.BKG_NO = BK.BKG_NO AND EXISTS ( SELECT 'Y' FROM BKG_CHG_RT RT WHERE RT.BKG_NO = A1.BKG_NO AND RT.FRT_INCL_XCLD_DIV_CD = 'N' AND FRT_TERM_CD ='C' AND ROWNUM = 1) ),1,25) EBL_CLT_OFC_CD
        ,ISS.BL_CPY_KNT OBL_ISS_KNT
        ,SUBSTR(CUST.CUST_NM,1,50) SHPR_NM3
        ,SUBSTR(CUST.CUST_NM,51,50) SHPR_NM4
        ,'' ACT_SHPR_PHN_NO3
        ,CUST.CUST_EML SHPR_EML2
        ,CUST.CUST_FAX_NO SHPR_FAX_NO2
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),1,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_ADDR6
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_ADDR7
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 1) SHPR_ADDR7
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,3) - 1) SHPR_ADDR9
        ,SUBSTR(REPLACE(CUST.CUST_ADDR,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) + 1
                                                            ,INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,5) - 
                                                             INSTR(REPLACE(CUST.CUST_ADDR||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,4) - 1) SHPR_ADD10
        ,SUBSTR(CNTC.CNTC_PSON_NM,1,35) APRO_USR_NM2
        ,SUBSTR(REPLACE(CUST2.CUST_NM,CHR(13)||CHR(10),'^'),1,INSTR(REPLACE(CUST2.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_CTNT1
        ,SUBSTR(REPLACE(CUST2.CUST_NM,CHR(13)||CHR(10),'^'),INSTR(REPLACE(CUST2.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) + 1
                                                           ,INSTR(REPLACE(CUST2.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,2) - 
                                                            INSTR(REPLACE(CUST2.CUST_NM||CHR(13)||CHR(10),CHR(13)||CHR(10),'^'),'^',1,1) - 1) SHPR_CTNT2
        ,SUBSTR(CUST2.CUST_ADDR,1,50) SHPR_ADDR11
        ,SUBSTR(CUST2.CUST_ADDR,51,50) SHPR_ADDR12
        ,SUBSTR(CUST2.CUST_ADDR,101,50) SHPR_ADDR13
        ,SUBSTR(CUST2.CUST_ADDR,151,50) SHPR_ADDR14
        ,SUBSTR(CUST2.CUST_ADDR,201,50) SHPR_ADDR15
        ,'' ACT_CUST_PHN_NO
        ,CUST2.CUST_FAX_NO ACT_CUST_FAX_NO
        ,CUST2.CUST_EML CUST_EML1
        ,SUBSTR(CUST2.CUST_NM,1,35) APRO_USR_NM3
        ,'' CHG_RMK1
        ,'' CHG_RMK2
        ,SUBSTR(CUST2.CUST_ADDR,1,50) CUST_ADDR1
        ,SUBSTR(CUST2.CUST_ADDR,51,50) CUST_ADDR2
        ,SUBSTR(CUST2.CUST_ADDR,101,50) CUST_ADDR3
        ,SUBSTR(CUST2.CUST_ADDR,151,50) CUST_ADDR4
        ,SUBSTR(CUST2.CUST_ADDR,201,50) CUST_ADDR5
        ,'' CUST_PHN_NO1
        ,CUST2.CUST_FAX_NO CUST_FAX_NO1
        ,CUST2.CUST_EML CUST_EML2
        ,SUBSTR(CUST2.CUST_NM,1,35) APRO_USR_NM4
        ,'' CHG_RMK3
        ,'' CHG_RMK4
        ,SUBSTR(CUST2.CUST_ADDR,1,50) CUST_ADDR6
        ,SUBSTR(CUST2.CUST_ADDR,51,50) CUST_ADDR7
        ,SUBSTR(CUST2.CUST_ADDR,101,50) CUST_ADDR8
        ,SUBSTR(CUST2.CUST_ADDR,151,50) CUST_ADDR9
        ,SUBSTR(CUST2.CUST_ADDR,201,50) CUST_ADDR10
        ,'' CUST_PHN_NO2
        ,CUST2.CUST_FAX_NO CUST_FAX_NO2
        ,CUST2.CUST_EML CUST_EML3
        ,SUBSTR(CUST2.CUST_NM,1,35) APRO_USR_NM5
        ,SUBSTR((SELECT LOC_NM FROM MDM_LOCATION WHERE LOC_CD = BK.DEL_CD),1,30) CHK_DE_CTY_NM1
        ,SUBSTR((SELECT LOC_NM FROM MDM_LOCATION WHERE LOC_CD = BK.DEL_CD),31) CHK_DE_CTY_NM2
        ,SUBSTR((SELECT YD_ADDR FROM MDM_YARD WHERE YD_CD = BK.DEL_NOD_CD),1,50) CHK_DE_ADDR1
        ,SUBSTR((SELECT YD_ADDR FROM MDM_YARD WHERE YD_CD = BK.DEL_NOD_CD),51,50) CHK_DE_ADDR2
        ,SUBSTR((SELECT YD_ADDR FROM MDM_YARD WHERE YD_CD = BK.DEL_NOD_CD),101,50) CHK_DE_ADDR3
        ,SUBSTR((SELECT YD_ADDR FROM MDM_YARD WHERE YD_CD = BK.DEL_NOD_CD),151,50) CHK_DE_ADDR4
        ,SUBSTR((SELECT YD_ADDR FROM MDM_YARD WHERE YD_CD = BK.DEL_NOD_CD),201,50) CHK_DE_ADDR5
        ,'' CUST_PHN_NO3
        ,CUST2.CUST_FAX_NO CUST_FAX_NO3
        ,CUST2.CUST_EML CUST_EML4
        ,SUBSTR(CUST2.CUST_NM,1,35) APRO_USR_NM6
        ,DECODE(BL.WGT_UT_CD,'KGS',LTRIM(BL.ACT_WGT)  
                                                       ,LTRIM(ROUND(BL.ACT_WGT * 0.4536,3))) CNTR_WGT
        ,DECODE(BL.MEAS_UT_CD,'CBM',LTRIM(BL.MEAS_QTY)  
                                                         ,LTRIM(ROUND(BL.MEAS_QTY * 0.0283,3))) ACT_WGT
        ,BL.PCK_QTY PCK_QTY
        ,BL.PCK_TP_CD PCK_TP_CD
        ,SUBSTR(BL.TTL_PCK_DESC,1,70) MK_DESC1
        ,SUBSTR(BL.TTL_PCK_DESC,71,70) MK_DESC2
        ,SUBSTR(BL.TTL_PCK_DESC,141,70) MK_DESC3
        ,SUBSTR(BL.TTL_PCK_DESC,211,70) MK_DESC4
        ,SUBSTR(BL.TTL_PCK_DESC,281,70) MK_DESC5
        ,'N' IF_FLG
        ,@[usr_id] CRE_USR_ID
        ,SYSDATE CRE_DT
        ,@[usr_id] UPD_USR_ID
        ,SYSDATE UPD_DT
  FROM  BKG_BOOKING BK
       ,BKG_CNTC_PSON CNTC
       ,BKG_BL_ISS    ISS
	   ,BKG_RATE      RT
       ,BKG_CUSTOMER  CUST
       ,BKG_BL_DOC    BL
       ,BKG_VVD       VVD
       ,VSK_VSL_PORT_SKD VSK
	   ,BKG_CUSTOMER  CUST2
	   ,MDM_VSL_CNTR MDM_VSL
 WHERE  BK.BKG_NO = @[bkg_no]
   AND  BK.BKG_NO = CNTC.BKG_NO(+)
   AND  CNTC.BKG_CNTC_PSON_TP_CD(+) = 'BK'
   AND  BK.BKG_NO = ISS.BKG_NO(+)
   AND  BK.BKG_NO = RT.BKG_NO
   AND  BK.BKG_NO = CUST.BKG_NO
   AND  CUST.BKG_CUST_TP_CD = 'S'
   AND  BK.BKG_NO = CUST2.BKG_NO
   AND  CUST2.BKG_CUST_TP_CD = 'C'
   AND  BK.BKG_NO = BL.BKG_NO
   AND  BK.BKG_NO = VVD.BKG_NO
   AND  BK.POL_CD = VVD.POL_CD
   AND  BK.VSL_CD = MDM_VSL.VSL_CD
   AND  VVD.VSL_CD = VSK.VSL_CD
   AND  VVD.SKD_VOY_NO = VSK.SKD_VOY_NO
   AND  VVD.SKD_DIR_CD = VSK.SKD_DIR_CD
   AND  VVD.POL_CLPT_IND_SEQ = VSK.CLPT_IND_SEQ
   AND  VVD.POL_CD = VSK.VPS_PORT_CD
   AND  VVD.VSL_PRE_PST_CD||VVD.VSL_SEQ = ( SELECT MIN(VSL_PRE_PST_CD||VSL_SEQ) FROM BKG_VVD VVD2 WHERE VVD2.BKG_NO = BK.BKG_NO)			]]></sql>
			<params>
				<param name="bkg_ebl_seq" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
