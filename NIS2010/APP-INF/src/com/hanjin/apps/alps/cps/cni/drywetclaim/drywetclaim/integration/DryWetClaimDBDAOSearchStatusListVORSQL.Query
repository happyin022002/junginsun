<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DryWetClaimDBDAOSearchStatusListVORSQL">
			<desc><![CDATA[Claim 및Incident Case 접수 및 처리 현황 조회한다]]></desc>
			<sql><![CDATA[
SELECT 
	 DW_CLM_NO
	,DW_CLM_TP_CD
	,DW_CO_CD
	,DW_CLM_REF_VVD_NO
	,VSL_ENG_NM
	,INCI_PLC_TP_CD
	,INCI_OCCR_DT
    ,CRE_OFC_CD
    ,HDLR_OFC_CD
	,(SELECT USR_NM FROM COM_USER WHERE USR_ID = A.HDLR_USR_ID) HDLR_USR_NM
	,TM_BAR_DT
	,LIT_DT
	,DW_CLM_STS_CD
	,DW_CLM_ATT_DEF_TP_CD
	,PRLM_CLM_NTFY_DT
	,CS_CLZ_DT
	,ARBT_DT
    ,(SELECT PTY_NM FROM CNI_PARTY WHERE CLM_PTY_NO = A.CLMT_CLM_PTY_NO) CLMT_CLM_PTY_NM
    ,(SELECT PTY_NM FROM CNI_PARTY WHERE CLM_PTY_NO = A.INSUR_CLM_PTY_NO) INSUR_CLM_PTY_NM
	,TO_CHAR(DDCT_USD_AMT,'FM999,999,999,990.00') DDCT_USD_AMT
    ,(SELECT PTY_NM FROM CNI_PARTY WHERE CLM_PTY_NO = A.DEFT_CLM_PTY_NO) DEFT_CLM_PTY_NM
    ,(SELECT PTY_NM FROM CNI_PARTY WHERE CLM_PTY_NO = A.LABL_PTY_CLM_PTY_NO) LABL_PTY_CLM_PTY_NM
	,LABL_PTY_TM_BAR_DT
	,FMAL_CLM_RCV_DT
	,TO_CHAR(CLM_USD_AMT,'FM999,999,999,990.00') CLM_USD_AMT
	,CLM_STL_DT
	,TO_CHAR(CLM_STL_USD_AMT,'FM999,999,999,990.00') CLM_STL_USD_AMT
	,LABL_PTY_FILE_DT
	,TO_CHAR(LABL_PTY_FILE_USD_AMT,'FM999,999,999,990.00') LABL_PTY_FILE_USD_AMT
	,LABL_PTY_RCVR_DT
	,TO_CHAR(LABL_PTY_RCVR_USD_AMT,'FM999,999,999,990.00') LABL_PTY_RCVR_USD_AMT
	,INSUR_FILE_DT
	,TO_CHAR(INSUR_FILE_USD_AMT,'FM999,999,999,990.00') INSUR_FILE_USD_AMT
	,INSUR_RCVR_DT
	,TO_CHAR(INSUR_RCVR_USD_AMT,'FM999,999,999,990.00') INSUR_RCVR_USD_AMT
	,CRE_USR_ID
	,CRE_DT
	,UPD_USR_ID
	,TO_CHAR(UPD_DT, 'YYYYMMDD') UPD_DT
    ,(SELECT USR_NM FROM COM_USER WHERE USR_ID = A.CRE_USR_ID) CRE_USR_NM
    ,(SELECT TO_CHAR(SUM(C.INV_USD_AMT),'FM999,999,999,990.00')  FROM CNI_DW_CLM_COST C WHERE C.DW_CLM_NO = A.DW_CLM_NO) INV_AMT
FROM    CNI_DW_CLM A
#if (${date_type} == 'DON') 
WHERE     PRLM_CLM_NTFY_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOB') 
WHERE     ARBT_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOC') 
WHERE     CS_CLZ_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOF') 
WHERE     FMAL_CLM_RCV_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOI') 
WHERE     INCI_OCCR_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOLT') 
WHERE     LIT_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DORINS') 
WHERE     INSUR_RCVR_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DORLP') 
WHERE     LABL_PTY_RCVR_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOS') 
WHERE     CLM_STL_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOTB') 
WHERE     TM_BAR_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOTBLP') 
WHERE     LABL_PTY_TM_BAR_DT BETWEEN REPLACE(@[from_dt],'-','') AND REPLACE(@[to_dt],'-','')
#elseif (${date_type} == 'DOU') 
WHERE     UPD_DT >= TO_DATE(@[from_dt],'YYYY-MM-DD') AND UPD_DT < TO_DATE(@[to_dt],'YYYY-MM-DD')+1
#end

#if (${dw_clm_no} != '') 
AND     DW_CLM_NO like @[dw_clm_no]||'%'
#end
#if (${dw_clm_tp_cd} != '') 
AND     DW_CLM_TP_CD like @[dw_clm_tp_cd]||'%'
#end
#if (${dw_clm_sts_cd} != '') 
AND     DW_CLM_STS_CD like @[dw_clm_sts_cd]||'%'
#end
#if (${dw_co_cd} != '') 
AND     DW_CO_CD like @[dw_co_cd]||'%'
#end
#if (${dw_clm_ref_vvd_no} != '') 
AND     DW_CLM_REF_VVD_NO like @[dw_clm_ref_vvd_no]||'%'
#end
#if (${vsl_eng_nm} != '') 
AND     VSL_ENG_NM like @[vsl_eng_nm]||'%'
#end
#if (${dw_clm_att_def_tp_cd} != '') 
AND     DW_CLM_ATT_DEF_TP_CD like @[dw_clm_att_def_tp_cd]||'%'
#end
#if (${hdlr_ofc_cd} != '') 
AND     HDLR_OFC_CD = @[hdlr_ofc_cd]
#end
#if (${hdlr_usr_id} != '') 
AND     HDLR_USR_ID like @[hdlr_usr_id]||'%'
#end
#if (${cre_ofc_cd} != '') 
AND     CRE_OFC_CD like @[cre_ofc_cd]||'%'
#end
#if (${cre_usr_id} != '') 
AND     CRE_USR_ID like @[cre_usr_id]||'%'
#end
#if (${insur_clm_pty_no} != '') 
AND     INSUR_CLM_PTY_NO like @[insur_clm_pty_no]||'%'
#end
#if (${clmt_clm_pty_no} != '') 
AND     CLMT_CLM_PTY_NO like @[clmt_clm_pty_no]||'%'
#end
#if (${deft_clm_pty_no} != '') 
AND     DEFT_CLM_PTY_NO like @[deft_clm_pty_no]||'%'
#end
#if (${labl_pty_clm_pty_no} != '') 
AND     LABL_PTY_CLM_PTY_NO like @[labl_pty_clm_pty_no]||'%'
#end
#if (${inci_plc_tp_cd} != '') 
AND     INCI_PLC_TP_CD like @[inci_plc_tp_cd]||'%'
#end

ORDER BY CRE_DT DESC			]]></sql>
			<params>
				<param name="from_dt" type="12" value="" out="N"/>
				<param name="to_dt" type="12" value="" out="N"/>
				<param name="dw_clm_no" type="12" value="" out="N"/>
				<param name="dw_clm_tp_cd" type="12" value="" out="N"/>
				<param name="dw_clm_sts_cd" type="12" value="" out="N"/>
				<param name="dw_co_cd" type="12" value="" out="N"/>
				<param name="dw_clm_ref_vvd_no" type="12" value="" out="N"/>
				<param name="vsl_eng_nm" type="12" value="" out="N"/>
				<param name="dw_clm_att_def_tp_cd" type="12" value="" out="N"/>
				<param name="hdlr_ofc_cd" type="12" value="" out="N"/>
				<param name="hdlr_usr_id" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="insur_clm_pty_no" type="12" value="" out="N"/>
				<param name="clmt_clm_pty_no" type="12" value="" out="N"/>
				<param name="deft_clm_pty_no" type="12" value="" out="N"/>
				<param name="labl_pty_clm_pty_no" type="12" value="" out="N"/>
				<param name="inci_plc_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
