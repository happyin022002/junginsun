<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CodeMgtDBDAOSearchCNIUserRoleInfoListRSQL">
			<desc><![CDATA[CNI User별 Role 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT  T1.USR_ID, T1.CGO_CLM_USR_ROLE_CD	USR_ROLE_CD
      , T1.CRE_USR_ID, TO_CHAR(T1.CRE_DT, 'YYYY-MM-DD HH24:MI') AS CRE_DT
      , T1.UPD_USR_ID, TO_CHAR(T1.UPD_DT, 'YYYY-MM-DD HH24:MI') AS UPD_DT
      , (SELECT INTG_CD_VAL_DESC FROM COM_INTG_CD_DTL
        WHERE INTG_CD_ID = 'CD03246'
        AND T1.CGO_CLM_USR_ROLE_CD = INTG_CD_VAL_CTNT) USER_ROLE_DESC
FROM    CNI_USR_ROLE_MTCH T1, COM_USER T2
WHERE   1=1
AND     T1.USR_ID       = T2.USR_ID
#if (${usr_id} != '')
AND		T1.USR_ID       = @[usr_id]
#end
#if (${usr_role_cd_list} != '')
AND		T1.CGO_CLM_USR_ROLE_CD  IN (
			#foreach($usr_role_cd in ${usr_role_cd_list} )
				#if($velocityCount < $usr_role_cd_list.size()) '$usr_role_cd', #else '$usr_role_cd' #end
			#end
        )
#end
ORDER BY 1, 2			]]></sql>
			<params>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
