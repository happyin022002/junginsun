<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JointOperationConsultationDBDAOSlipVORSQL">
			<desc><![CDATA[0024, 0069]]></desc>
			<sql><![CDATA[
SELECT rownum seq_num,
	   s.dr_cr_cd,
       s.acct_cd ,
       DECODE(c.slp_tp_cd,'06',''||vndr_seq, '18', cust_cnt_cd
              ||cust_seq) vndr,
       s.ctr_cd           ,
       s.loc_cd           ,
       TO_CHAR(s.eff_dt, 'yyyy-mm-dd') eff_dt,
       s.csr_locl_amt     ,
       s.slp_desc         ,
       s.vsl_cd           ,
       s.skd_voy_no       ,
       s.skd_dir_cd       ,
       s.rev_dir_cd       ,
       s.key_no           ,
       s.vsl_cd||s.skd_voy_no||s.skd_dir_cd||s.rev_dir_cd as vvd
FROM   joo_csr c,
       joo_slip s
WHERE  1             =1
   AND c.slp_tp_cd   = s.slp_tp_cd
   AND c.slp_func_cd = s.slp_func_cd
   AND c.slp_ofc_cd  = s.slp_ofc_cd
   AND c.slp_iss_dt  = s.slp_iss_dt
   AND c.slp_ser_no  = s.slp_ser_no
   AND c.slp_tp_cd   = @[slp_tp_cd]
   AND c.slp_func_cd = @[slp_func_cd]
#if (${slp_iss_dt2} != '') 
   AND c.slp_iss_dt = to_char(to_date( @[slp_iss_dt], 'RRMMDD'),'YYYYMMDD')
#end
#if (${slp_ofc_cd2} != 'ALL' && ${slp_ofc_cd2} != '')
   AND c.slp_ofc_cd  = @[slp_ofc_cd]
#end 
   AND c.slp_ser_no  = @[slp_ser_no]
#if (${from_slp_iss_dt} != '' && ${to_slp_iss_dt}  != '') 
   AND c.slp_iss_dt between to_date(REPLACE(@[from_slp_iss_dt],'-',''), 'YYYYMMDD') and to_date(REPLACE(@[to_slp_iss_dt],'-',''), 'YYYYMMDD')
#end
#if (${from_eff_dt} != '' && ${to_eff_dt} != '') 
   AND c.eff_dt between to_date(REPLACE(@[from_eff_dt],'-',''), 'YYYYMMDD') and to_date(REPLACE(@[to_eff_dt],'-',''), 'YYYYMMDD')
#end			]]></sql>
			<params>
				<param name="slp_tp_cd" type="12" value="" out="N"/>
				<param name="slp_func_cd" type="12" value="" out="N"/>
				<param name="slp_iss_dt" type="12" value="" out="N"/>
				<param name="slp_ofc_cd" type="12" value="" out="N"/>
				<param name="slp_ser_no" type="12" value="" out="N"/>
				<param name="from_slp_iss_dt" type="12" value="" out="N"/>
				<param name="to_slp_iss_dt" type="12" value="" out="N"/>
				<param name="from_eff_dt" type="12" value="" out="N"/>
				<param name="to_eff_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
