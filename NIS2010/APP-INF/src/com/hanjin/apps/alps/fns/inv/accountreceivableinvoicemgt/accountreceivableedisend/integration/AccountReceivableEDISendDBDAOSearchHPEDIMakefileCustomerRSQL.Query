<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AccountReceivableEDISendDBDAOSearchHPEDIMakefileCustomerRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT DECODE(CUST.BKG_CUST_TP_CD,'C','ST','S','SF') AS CUST_TP_CD
      ,CUST.CUST_CNT_CD||LPAD(TO_CHAR(CUST.CUST_SEQ),6,'0') AS CUST_CD
      ,REPLACE(CUST.CUST_NM,chr(13)||chr(10),' ') AS CUST_NAME
      ,'' AS CUST_NAME1
      ,'' AS CUST_NAME2
      ,REPLACE(CUST.CUST_ADDR,chr(13)||chr(10),' ') AS CUST_ADDR
      ,'' AS CUST_ADDR1
      ,CUST.CUST_CTY_NM AS CUST_CITY
      ,CUST.CUST_STE_CD AS CUST_STATE
      ,CUST.CUST_ZIP_ID AS CUST_POSTAL
      ,CUST.CUST_CNT_CD AS CUST_CNT_CD
 FROM  BKG_CUSTOMER CUST
WHERE CUST.BKG_NO = @[bkg_no]
  AND CUST.BKG_CUST_TP_CD IN ('C','S')
UNION ALL
SELECT 'BT' AS CUST_TP_CD
      ,ACT.ACT_CUST_CNT_CD||LPAD(TO_CHAR(ACT.ACT_CUST_SEQ),6,'0') AS CUST_CD
      ,REPLACE(MC.CUST_LGL_ENG_NM,chr(13)||chr(10),' ') AS CUST_NAME
      ,'' AS CUST_NAME1
      ,'' AS CUST_NAME2
      ,NVL(REPLACE(MD.LOCL_ADDR1,chr(13)||chr(10),' ')||REPLACE(MD.LOCL_ADDR2,chr(13)||chr(10),' ')||REPLACE(MD.LOCL_ADDR3,chr(13)||chr(10),' ')||REPLACE(MD.LOCL_ADDR4,chr(13)||chr(10),' '),CR.LOCL_ADDR1) AS CUST_ADDR
      ,'' AS CUST_ADDR1
      ,MD.CTY_NM AS CUST_CITY
      ,MD.STE_CD AS CUST_STATE
      ,MD.ZIP_CD AS CUST_POSTAL
     ,ACT.ACT_CUST_CNT_CD AS CUST_CNT_CD
FROM INV_AR_MN ACT, MDM_CUSTOMER MC, MDM_CUST_ADDR MD, MDM_CR_CUST CR
WHERE ACT.AR_IF_NO =  @[max_if_no]
AND ACT.ACT_CUST_CNT_CD = MC.CUST_CNT_CD
AND ACT.ACT_CUST_SEQ = MC.CUST_SEQ
AND ACT.ACT_CUST_CNT_CD = MD.CUST_CNT_CD
AND ACT.ACT_CUST_SEQ = MD.CUST_SEQ
AND ACT.ACT_CUST_CNT_CD = CR.CUST_CNT_CD(+)
AND ACT.ACT_CUST_SEQ = CR.CUST_SEQ(+)			]]></sql>
			<params>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="max_if_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
