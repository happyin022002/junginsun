<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ARInvoiceExRateMgtDBDAOSearchExRateVORSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
select distinct
	a.cust_cnt_cd cust_cnt_cd,
	LPAD(a.cust_seq, 6, '0') cust_seq,
	decode(substr(c.loc_cd,1,2),'VN','ALL',decode(a.io_bnd_cd,'I','I/B','O','O/B')) io_bnd_cd,
	a.fm_dt fm_dt,
	a.to_dt to_dt,
	b.curr_nm curr_nm,
	a.chg_curr_cd chg_curr_cd,
	a.locl_curr_cd locl_curr_cd,
	a.xch_rt_tp_cd xch_rt_tp_cd,
	a.ar_ofc_cd ar_ofc_cd,
	decode(d.xch_rt_rvs_flg,'Y',a.ivs_xch_rt,a.inv_xch_rt) inv_xch_rt,
	decode(d.xch_rt_rvs_flg,'Y',a.inv_xch_rt,a.ivs_xch_rt) ivs_xch_rt,
	a.cre_usr_id cre_usr_id,
	a.cre_dt	cre_dt,
	a.upd_usr_id upd_usr_id,
	a.upd_dt upd_dt
from inv_cust_and_dly_xch_rt a, mdm_currency b, mdm_organization c , inv_ar_stup_ofc d
where a.chg_curr_cd = b.curr_cd	
and a.ar_ofc_cd = c.ofc_cd
and a.ar_ofc_cd = d.ar_ofc_cd
#if (${io_bnd_cd} != '')
and	a.io_bnd_cd = @[io_bnd_cd]
#end

AND a.fm_dt <= REPLACE(@[to_dt],'-','')
AND a.to_dt >= REPLACE(@[fm_dt],'-','')

and	a.locl_curr_cd = @[locl_curr_cd]
and a.cust_cnt_cd ='XX'
and a.cust_seq = 0
and a.ar_ofc_cd = d.ar_ofc_cd
and NVL(a.xch_rt_tp_cd,'V') = NVL(@[xch_rt_tp_cd],'V')
order by a.fm_dt,a.to_dt,io_bnd_cd,a.chg_curr_cd			]]></sql>
			<params>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="to_dt" type="12" value="20091101" out="N"/>
				<param name="fm_dt" type="12" value="20080101" out="N"/>
				<param name="locl_curr_cd" type="12" value="" out="N"/>
				<param name="xch_rt_tp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
