<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingARCreationDBDAOSearchTjSrcNmRSQL">
			<desc><![CDATA[[CHM-201221172] : 2012.11.13
 (현재) VAT성 CHARGE를 기입하더라도 MRI TYPE으로 ERP로 전송되나 실제 VAT에 대한 ACCT는 212111로 보내고 있어 ACCT DIFF 발생의 원임이 됨     
 (개선) MOC Type으로 VAT성 Charge (TVA, WHF, AST, VTT, VDT, VST, CDX, VRT, VCT, VET, IEV) 는 생성하지 못하게 막고, 
         System상 에러로 VAT를 조정해야 할 경우SELADG User 만 MVT Type으로 TVA (Account Code = 212111) 으로만 생성할 수 있도록 변경함. 
]]></desc>
			<sql><![CDATA[
SELECT DECODE(@[svr_id], 'KOR', DECODE(@[chg_cd], 'WHF', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', 'WHF'),
                                                     'CTT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', 'CTT'),
													 'TVA', 'VAT', 
                                                     'GST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'SBC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'KKC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'STO', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'AST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'AU','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VDT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VTT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VRT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VCT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VET', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VFT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'VPT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))), 
                                                     'FAC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', 'SALAR'), 
                                                            DECODE(@[rev_tp_src_cd], 'MDJ', 'NONRE',
                                                                                         'MSO', 'NONRE',
                                                                                         'MTP', 'NONRE',
                                                                                         'MTH', DECODE(@[chg_cd], 'XXX', 'NONRE', 'OTHER'),
                                                                                         DECODE(SUBSTR(@[rev_tp_src_cd], 1, 1), 'M', DECODE(@[rev_tp_src_cd], 'MRD', '3RD', 'MRIAR'), 'SALAR'))),
                                   DECODE(@[chg_cd], 'TVA', 'VAT', 
													 'IEV', 'VAT',
                                                     'CTX', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'JP','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'CDX', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'JP','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'GST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'SBC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'KKC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
													 'STO', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'IN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'AST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'AU','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VDT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VTT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VRT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VST', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VCT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VET', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VFT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'VPT', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', DECODE(SUBSTR(LOC_CD,1,2),'VN','VAT',DECODE(SUBSTR(@[rev_tp_src_cd],1,1),'M','MRIAR','SALAR'))),
                                                     'FAC', DECODE(@[rev_tp_src_cd], 'MOC', 'MRIAR', 'SALAR'),
                                                            DECODE(@[rev_tp_src_cd], 'MDJ', 'NONRE',
                                                                                         'MSO', 'NONRE',
                                                                                         'MTP', 'NONRE',
                                                                                         'MTH', DECODE(@[chg_cd], 'XXX', 'NONRE', 'OTHER'),
                                                                                         DECODE(SUBSTR(@[rev_tp_src_cd], 1, 1), 'M', DECODE(@[rev_tp_src_cd], 'MRD', '3RD', 'MRIAR'), 'SALAR')))) TJ_SRC_NM
  FROM MDM_ORGANIZATION 
 WHERE OFC_CD = @[ofc_cd]			]]></sql>
			<params>
				<param name="svr_id" type="12" value="" out="N"/>
				<param name="chg_cd" type="12" value="" out="N"/>
				<param name="rev_tp_src_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
