<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JointOperationMasterDataMgtDBDAOPicUSQL">
			<desc><![CDATA[Settlement Pic 담당자 저장]]></desc>
			<sql><![CDATA[
MERGE INTO JOO_STL_PIC A
USING
(
    SELECT   @[stl_pic_seq] AS STL_PIC_SEQ  
            ,@[trd_cd] AS TRD_CD   
            ,@[jo_crr_cd] AS CRR_CD   
            ,@[rlane_cd] AS RLANE_CD   
            ,@[re_divr_cd] AS RE_DIVR_CD   
            ,@[jo_stl_itm_cd] AS JO_STL_ITM_CD   
            ,@[ofc_cd] AS OFC_CD   
            ,@[stl_pic_nm] AS STL_PIC_NM               
    FROM DUAL
) B
ON
(
    A.STL_PIC_SEQ = B.STL_PIC_SEQ
)
WHEN MATCHED THEN
UPDATE SET A.TRD_CD             = @[trd_cd]
          ,A.CRR_CD             = @[jo_crr_cd]
          ,A.RLANE_CD           = @[rlane_cd]
          ,A.RE_DIVR_CD         = @[re_divr_cd]
          ,A.JO_STL_ITM_CD      = @[jo_stl_itm_cd]          
          ,A.OFC_CD             = @[ofc_cd]          
          ,A.STL_PIC_NM         = @[stl_pic_nm]                    
		  ,A.UPD_DT             = SYSDATE
          ,A.UPD_USR_ID         = @[usr_id]
WHEN NOT MATCHED THEN
INSERT
(
     STL_PIC_SEQ 
    ,TRD_CD 
    ,CRR_CD 
    ,RLANE_CD 
    ,RE_DIVR_CD 
    ,JO_STL_ITM_CD 
    ,OFC_CD 
    ,STL_PIC_NM 
    ,CRE_DT
    ,CRE_USR_ID
    ,UPD_DT
    ,UPD_USR_ID    
) VALUES (
     (SELECT NVL(MAX(A.STL_PIC_SEQ)+1,'1') AS SEQ FROM JOO_STL_PIC A)
    ,@[trd_cd]
    ,@[jo_crr_cd]
    ,@[rlane_cd]
    ,@[re_divr_cd]
    ,@[jo_stl_itm_cd]
    ,@[ofc_cd]
    ,@[stl_pic_nm]
    ,SYSDATE
    ,@[usr_id]
    ,SYSDATE
    ,@[usr_id]
)			]]></sql>
			<params>
				<param name="stl_pic_seq" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="jo_crr_cd" type="12" value="" out="N"/>
				<param name="rlane_cd" type="12" value="" out="N"/>
				<param name="re_divr_cd" type="12" value="" out="N"/>
				<param name="jo_stl_itm_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="stl_pic_nm" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
