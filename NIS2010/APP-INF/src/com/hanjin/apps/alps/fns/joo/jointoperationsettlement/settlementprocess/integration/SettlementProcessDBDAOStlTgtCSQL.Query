<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SettlementProcessDBDAOStlTgtCSQL">
			<desc><![CDATA[Settlement Target 저장]]></desc>
			<sql><![CDATA[
INSERT INTO JOO_STL_TGT
(
 REV_YRMON
,REV_YRMON_SEQ
,REV_SEQ
,ACCT_YRMON 
,STL_VVD_SEQ 
,STL_SEQ  
,TRD_CD
,CRR_CD
,RLANE_CD
,RE_DIVR_CD
,VSL_CD
,SKD_VOY_NO
,SKD_DIR_CD
,REV_DIR_CD     	--
,VPS_PORT_CD
,YD_CD
,CLPT_IND_SEQ
,RF_SCG_STL_TP_CD   --
,STL_TGT_FLG 		--
,STL_CLZ_FLG 		--
,SLAN_CD        	--
,RDR_FLG
,VPS_ETD_DT
,ACCT_CD
,JO_STL_JB_CD
,JO_STL_STS_CD
,JO_STL_ITM_CD
,BSA_QTY
,BSA_SLT_PRC
,FNL_BSA_QTY        --
,FNL_BSA_SLT_PRC    --
,LOCL_CURR_CD
,STL_LOCL_AMT
,STL_RMK
,JO_STL_TGT_ITM_CD
,OVR_USD_STO_TP_CD
,REV_SHW_FLG 
,REV_BSA_QTY 
,REV_BSA_SLT_PRC 	
,REV_ENBL_FLG
,REV_CRR_CD                                   
,N2ND_REV_BSA_QTY                             
,N2ND_REV_BSA_SLT_PRC                         
,N2ND_REV_ENBL_FLG                            
,N2ND_REV_CRR_CD                              
,N3RD_REV_BSA_QTY                             
,N3RD_REV_BSA_SLT_PRC                         
,N3RD_REV_ENBL_FLG                            
,N3RD_REV_CRR_CD                              
,DELT_FLG
,CRE_DT
,CRE_USR_ID
,UPD_DT
,UPD_USR_ID
)
SELECT
 @[rev_yrmon]			AS REV_YRMON                  
,@[rev_yrmon_seq]   	AS REV_YRMON_SEQ                
,(SELECT NVL(MAX(REV_SEQ),0)+1 AS REV_SEQ FROM JOO_STL_TGT WHERE REV_YRMON = @[rev_yrmon] AND REV_YRMON_SEQ = @[rev_yrmon_seq]) AS REV_SEQ
,'999912'				AS ACCT_YRMON
,'0' 					AS STL_VVD_SEQ
,'0'					AS STL_SEQ
,@[trd_cd]				AS TRD_CD                     
,@[crr_cd]				AS CRR_CD                     
,@[rlane_cd]			AS RLANE_CD                   
,@[re_divr_cd]			AS RE_DIVR_CD                 
,@[vsl_cd]				AS VSL_CD                     
,@[skd_voy_no]			AS SKD_VOY_NO                 
,@[skd_dir_cd]			AS SKD_DIR_CD    
,@[rev_dir_cd]			AS REV_DIR_CD     	--             
,@[vps_port_cd]			AS VPS_PORT_CD                
,@[yd_cd]				AS YD_CD                      
,@[clpt_ind_seq]		AS CLPT_IND_SEQ     
,@[rf_scg_stl_tp_cd] 	AS RF_SCG_STL_TP_CD   --
,@[stl_tgt_flg] 		AS STL_TGT_FLG 		--
,@[stl_clz_flg] 		AS STL_CLZ_FLG 		--
,SUBSTR(@[rlane_cd],0,3) AS SLAN_CD        	--          
,@[rdr_flg]				AS RDR_FLG                    
,TO_DATE(@[vps_etd_dt],'YYYYMMDDHH24MISS')	AS VPS_ETD_DT                    
,@[acct_cd]				AS ACCT_CD                    
,@[jo_stl_jb_cd]		AS JO_STL_JB_CD               
,@[jo_stl_sts_cd]		AS JO_STL_STS_CD              
,@[jo_stl_itm_cd]		AS JO_STL_ITM_CD              
,@[bsa_qty]				AS BSA_QTY                    
,@[bsa_slt_prc]			AS BSA_SLT_PRC                
,@[fnl_bsa_qty]			AS FNL_BSA_QTY        --
,@[fnl_bsa_slt_prc]		AS FNL_BSA_SLT_PRC    --
,NVL(@[locl_curr_cd],'USD')				  		 AS LOCL_CURR_CD               
,NVL(@[fnl_bsa_qty],0)*NVL(@[fnl_bsa_slt_prc],0) AS STL_LOCL_AMT               
,@[stl_rmk]				AS STL_RMK                    
,@[jo_stl_tgt_itm_cd]	AS JO_STL_TGT_ITM_CD          
,@[ovr_usd_sto_tp_cd]	AS OVR_USD_STO_TP_CD       
,NVL(@[rev_shw_flg],'Y') AS REV_SHW_FLG
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[rev_bsa_qty],'R/FI',@[rev_bsa_qty],NULL) 					 AS REV_BSA_QTY
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[rev_bsa_slt_prc],'R/FI',@[rev_bsa_slt_prc],NULL)			 AS REV_BSA_SLT_PRC
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI','0','R/FI','0',NULL)						 					 AS REV_ENBL_FLG 
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[rev_crr_cd],'R/FI',@[rev_crr_cd],NULL) 			 		 AS REV_CRR_CD
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n2nd_rev_bsa_qty],'R/FI',@[n2nd_rev_bsa_qty],NULL) 		 AS N2ND_REV_BSA_QTY
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n2nd_rev_bsa_slt_prc],'R/FI',@[n2nd_rev_bsa_slt_prc],NULL)	 AS N2ND_REV_BSA_SLT_PRC
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI','0','R/FI','0',NULL) 	 	 								 AS N2ND_REV_ENBL_FLG
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n2nd_rev_crr_cd],'R/FI',@[n2nd_rev_crr_cd],NULL) 		 	 AS N2ND_REV_CRR_CD
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n3rd_rev_bsa_qty],'R/FI',@[n3rd_rev_bsa_qty],NULL) 		 AS N3RD_REV_BSA_QTY
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n3rd_rev_bsa_slt_prc],'R/FI',@[n3rd_rev_bsa_slt_prc],NULL)	 AS N3RD_REV_BSA_SLT_PRC
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI','0','R/FI','0',NULL) 	 	 								 AS N3RD_REV_ENBL_FLG
,DECODE(@[jo_stl_itm_cd] || @[rf_scg_stl_tp_cd],'OUSI',@[n3rd_rev_crr_cd],'R/FI',@[n3rd_rev_crr_cd],NULL)		 	 AS N3RD_REV_CRR_CD
,@[delt_flg]			AS DELT_FLG      
,SYSDATE				AS CRE_DT                     
,@[upd_usr_id]			AS CRE_USR_ID                 
,SYSDATE				AS UPD_DT                     
,@[upd_usr_id]			AS UPD_USR_ID           
FROM DUAL			]]></sql>
			<params>
				<param name="rev_yrmon" type="12" value="" out="N"/>
				<param name="rev_yrmon_seq" type="12" value="" out="N"/>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="crr_cd" type="12" value="" out="N"/>
				<param name="rlane_cd" type="12" value="" out="N"/>
				<param name="re_divr_cd" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="rev_dir_cd" type="12" value="" out="N"/>
				<param name="vps_port_cd" type="12" value="" out="N"/>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="clpt_ind_seq" type="12" value="" out="N"/>
				<param name="rf_scg_stl_tp_cd" type="12" value="" out="N"/>
				<param name="stl_tgt_flg" type="12" value="" out="N"/>
				<param name="stl_clz_flg" type="12" value="" out="N"/>
				<param name="rdr_flg" type="12" value="" out="N"/>
				<param name="vps_etd_dt" type="12" value="" out="N"/>
				<param name="acct_cd" type="12" value="" out="N"/>
				<param name="jo_stl_jb_cd" type="12" value="" out="N"/>
				<param name="jo_stl_sts_cd" type="12" value="" out="N"/>
				<param name="jo_stl_itm_cd" type="12" value="" out="N"/>
				<param name="bsa_qty" type="12" value="" out="N"/>
				<param name="bsa_slt_prc" type="12" value="" out="N"/>
				<param name="fnl_bsa_qty" type="12" value="" out="N"/>
				<param name="fnl_bsa_slt_prc" type="12" value="" out="N"/>
				<param name="locl_curr_cd" type="12" value="" out="N"/>
				<param name="stl_rmk" type="12" value="" out="N"/>
				<param name="jo_stl_tgt_itm_cd" type="12" value="" out="N"/>
				<param name="ovr_usd_sto_tp_cd" type="12" value="" out="N"/>
				<param name="rev_shw_flg" type="12" value="" out="N"/>
				<param name="rev_bsa_qty" type="12" value="" out="N"/>
				<param name="rev_bsa_slt_prc" type="12" value="" out="N"/>
				<param name="rev_crr_cd" type="12" value="" out="N"/>
				<param name="n2nd_rev_bsa_qty" type="12" value="" out="N"/>
				<param name="n2nd_rev_bsa_slt_prc" type="12" value="" out="N"/>
				<param name="n2nd_rev_crr_cd" type="12" value="" out="N"/>
				<param name="n3rd_rev_bsa_qty" type="12" value="" out="N"/>
				<param name="n3rd_rev_bsa_slt_prc" type="12" value="" out="N"/>
				<param name="n3rd_rev_crr_cd" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
