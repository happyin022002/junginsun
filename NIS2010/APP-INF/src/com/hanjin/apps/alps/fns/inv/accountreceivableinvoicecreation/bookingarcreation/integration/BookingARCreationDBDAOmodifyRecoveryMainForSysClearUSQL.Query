<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingARCreationDBDAOmodifyRecoveryMainForSysClearUSQL">
			<desc><![CDATA[Issue 작업과 Sys Clear 작업에 불일치 문제를 해결한다.
Issue 작업 중간에 Sys Clear 작업이 된 Main A/F IF 정보를 변경한다.]]></desc>
			<sql><![CDATA[
UPDATE  INV_AR_MN
SET     INV_NO        = @[inv_no]
        , DUE_DT      = @[due_dt]
        , ISS_DT      = NVL(@[iss_dt], TO_CHAR(sysdate,'YYYYMMDD'))
        , INV_REF_NO  = @[inv_ref_no]
        , BKG_TEU_QTY = @[bkg_teu_qty]
        , BKG_FEU_QTY = @[bkg_feu_qty]
		, INV_RMK = INV_RMK  || '[Inovice-Issue processed at nearly the same time after System-Clear.]'
        , UPD_USR_ID  = @[upd_usr_id]
        , UPD_DT      = TO_DATE(@[upd_dt],'YYYYMMDDHH24MISS')
WHERE 1=1
AND     INV_CLR_FLG = 'Y'
AND     AR_IF_NO  = @[ar_if_no]			]]></sql>
			<params>
				<param name="inv_no" type="12" value="" out="N"/>
				<param name="due_dt" type="12" value="" out="N"/>
				<param name="iss_dt" type="12" value="" out="N"/>
				<param name="inv_ref_no" type="12" value="" out="N"/>
				<param name="bkg_teu_qty" type="12" value="" out="N"/>
				<param name="bkg_feu_qty" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="upd_dt" type="12" value="" out="N"/>
				<param name="ar_if_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
