<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralARInvoiceMasterDataMgtDBDAOSearchRevenueVvdListRSQL">
			<desc><![CDATA[Revenue VVD 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT    SUBSTR(REV_YRMON, 1, 4) || '-' || SUBSTR(REV_YRMON, -2) AS REV_YRMON
        , VSL_CD || SKD_VOY_NO || SKD_DIR_CD || RLANE_DIR_CD AS VVD
        , SLAN_CD
        , RLANE_CD
        , REV_PORT_CD
        , COM_VVD_FLG
        , VVD_COM_LVL
        , VOY_TP_CD
        , DELT_FLG
		, CRE_USR_ID
        , TO_CHAR(CRE_DT     , 'YYYY-MM-DD HH24:MI:SS') AS CRE_DT
        , TO_CHAR(EAI_EVNT_DT, 'YYYY-MM-DD HH24:MI:SS') AS EAI_EVNT_DT
FROM    AR_MST_REV_VVD T
WHERE   1=1
#if (${yrmon_fm} != '') 
AND     REV_YRMON      >= @[yrmon_fm]                 -- (입력파라메터 : Month FM)
AND     REV_YRMON      <= @[yrmon_to]                 -- (입력파라메터 : Month TO)
#end
AND     DELT_FLG        = DECODE(@[del_cd], 'ALL', DELT_FLG, @[del_cd]) -- (입력파라메터 : DEL)
#if (${s_vvd_cd} != '') 
-- VVD 정보가 입력될 경우
AND		VSL_CD || SKD_VOY_NO || SKD_DIR_CD || RLANE_DIR_CD LIKE @[s_vvd_cd]||'%'
#end
#if (${s_slan_cd} != '') 
-- S/LANE 정보가 입력될 경우
AND     SLAN_CD         LIKE @[s_slan_cd]||'%'               -- (입력파라메터 : S/LANE)
#end
#if (${s_rlane_cd} != '') 
-- S/LANE 정보가 입력될 경우
AND     RLANE_CD        LIKE @[s_rlane_cd]||'%'              -- (입력파라메터 : R/LANE)
#end			]]></sql>
			<params>
				<param name="yrmon_fm" type="12" value="" out="N"/>
				<param name="yrmon_to" type="12" value="" out="N"/>
				<param name="del_cd" type="12" value="" out="N"/>
				<param name="s_vvd_cd" type="12" value="" out="N"/>
				<param name="s_slan_cd" type="12" value="" out="N"/>
				<param name="s_rlane_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
