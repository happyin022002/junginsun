<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ARInvoiceCorrectionDBDAOUnmatchRevenueVVDListByDateCSQL">
			<desc><![CDATA[INV_REV_VVD_UMCH 테이블에 Insert]]></desc>
			<sql><![CDATA[
INSERT INTO INV_REV_VVD_UMCH
	( AR_IF_NO		
	 ,BL_SRC_NO	
	 ,AR_OFC_CD		
	 ,REV_VSL_CD		
	 ,REV_SKD_VOY_NO		
	 ,REV_SKD_DIR_CD		
	 ,REV_DIR_CD		
	 ,NEW_REV_VSL_CD		
	 ,NEW_REV_SKD_VOY_NO		
	 ,NEW_REV_SKD_DIR_CD		
	 ,NEW_REV_DIR_CD
	 ,INV_TTL_LOCL_AMT
	 ,BL_INV_IF_DT 
	 ,BL_INV_CFM_DT 
	 ,INV_DELT_DIV_CD
	 ,REV_SRC_CD
	 ,BKG_NO
	 ,ZN_IOC_CD
	 ,NEW_RLANE_CD
	 ,OLD_REV_VSL_CD
	 ,OLD_REV_SKD_VOY_NO
	 ,OLD_REV_SKD_DIR_CD
	 ,OLD_REV_DIR_CD
	 ,TRNK_VSL_CD
	 ,TRNK_SKD_VOY_NO
	 ,TRNK_SKD_DIR_CD
	 ,REV_VVD_MTCH_FLG		
	 ,CRE_USR_ID		
	 ,CRE_DT
	 ,UPD_USR_ID
	 ,UPD_DT)
SELECT 
	  AR_IF_NO
	 ,BL_SRC_NO
	 ,AR_OFC_CD
	 ,REV_VSL_CD
	 ,REV_SKD_VOY_NO
	 ,REV_SKD_DIR_CD
	 ,REV_DIR_CD
	 ,SUBSTR(@[new_vvd], 1, 4)
	 ,SUBSTR(@[new_vvd], 5, 4)
	 ,SUBSTR(@[new_vvd], 9, 1)
	 ,SUBSTR(@[new_vvd], 10, 1)
	 ,INV_TTL_LOCL_AMT
	 ,BL_INV_IF_DT
	 ,BL_INV_CFM_DT
	 ,INV_DELT_DIV_CD
	 ,REV_SRC_CD
	 ,BKG_NO
	 ,ZN_IOC_CD
	 ,@[new_lane]
	 ,SUBSTR(@[old_vvd], 1, 4)
	 ,SUBSTR(@[old_vvd], 5, 4)
	 ,SUBSTR(@[old_vvd], 9, 1)
	 ,SUBSTR(@[old_vvd], 10, 1)
	 ,TRNK_VSL_CD
	 ,TRNK_SKD_VOY_NO
	 ,TRNK_SKD_DIR_CD
	 ,'N'
	 ,@[cre_usr_id]		
	 ,SYSDATE
	 ,@[upd_usr_id]
	 ,SYSDATE
  FROM INV_AR_MN
 WHERE BL_SRC_NO = @[bl_no]
   AND REV_TP_CD IN ('B', 'C')
   AND NVL(INV_DELT_DIV_CD, 'N') <> 'Y'
   AND AR_IF_NO NOT IN (SELECT DISTINCT AR_IF_NO FROM INV_REV_VVD_UMCH WHERE BL_SRC_NO = @[bl_no])			]]></sql>
			<params>
				<param name="new_vvd" type="12" value="" out="N"/>
				<param name="new_lane" type="12" value="" out="N"/>
				<param name="old_vvd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="bl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
