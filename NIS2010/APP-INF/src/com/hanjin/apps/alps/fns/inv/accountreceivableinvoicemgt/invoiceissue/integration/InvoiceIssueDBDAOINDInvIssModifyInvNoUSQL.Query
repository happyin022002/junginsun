<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InvoiceIssueDBDAOINDInvIssModifyInvNoUSQL">
			<desc><![CDATA[INDIA Inv Iss Modify Inv No]]></desc>
			<sql><![CDATA[
UPDATE INV_AR_IDA_ISS_NO
   SET IDA_INV_MAX_SEQ = IDA_INV_MAX_SEQ + TO_NUMBER(@[inv_seq])
     , UPD_USR_ID = @[user_id]
     , UPD_DT = SYSDATE
 WHERE IDA_INV_PFX_CD = SUBSTR(@[inv_pfx_cd], 1, (LENGTH(@[inv_pfx_cd]) - 4))
   AND IDA_INV_ISS_YRMON = CASE WHEN TO_CHAR(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]),'MM') IN ('01','02','03') THEN TO_CHAR(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]) - 365,'YYYY') ELSE TO_CHAR(GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[ofc_cd]),'YYYY') END			]]></sql>
			<params>
				<param name="inv_seq" type="12" value="" out="N"/>
				<param name="user_id" type="12" value="" out="N"/>
				<param name="inv_pfx_cd" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
