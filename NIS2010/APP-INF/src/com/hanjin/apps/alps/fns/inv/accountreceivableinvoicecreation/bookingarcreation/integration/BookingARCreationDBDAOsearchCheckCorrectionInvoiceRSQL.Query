<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookingARCreationDBDAOsearchCheckCorrectionInvoiceRSQL">
			<desc><![CDATA[]]></desc>
			<sql><![CDATA[
SELECT MAX(CHK_CORRECT) CHK_CORRECT_FLG
FROM   (
        SELECT 'Y' CHK_CORRECT
        FROM   INV_AR_MN
        WHERE  AR_OFC_CD = @[ar_ofc_cd]
        AND    BL_SRC_NO = @[bl_src_no]
		AND    REV_TP_CD <> 'M'
		AND    INV_DELT_DIV_CD <> 'Y'
        AND    NVL(INV_SPLIT_CD,'N') IN ('M','S','C','X')
        AND    ROWNUM = 1
        UNION ALL
        SELECT 'Y' CHK_CORRECT
        FROM   INV_AR_MN
        WHERE  AR_OFC_CD = @[ar_ofc_cd]
        AND    BL_SRC_NO = @[bl_src_no]
        AND    INV_NO IS NOT NULL
        AND    INV_ISS_FLG = 'Y'
        AND    ROWNUM = 1
        UNION ALL
        SELECT 'N' CHK_CORRECT FROM DUAL
       )			]]></sql>
			<params>
				<param name="ar_ofc_cd" type="12" value="" out="N"/>
				<param name="bl_src_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
