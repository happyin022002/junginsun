<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="JointOperationMasterDataMgtDBDAOJooAddSlotMgrVORSQL">
			<desc><![CDATA[Additional Slot 조회]]></desc>
			<sql><![CDATA[
SELECT FA.JO_CRR_CD AS ACCTG_CRR_CD
, FA.TRD_CD AS TRD_CD
, FA.RLANE_CD AS RLANE_CD
, FA.RE_DIVR_CD AS REV_DIVR
, FX_AGMT_SEQ AS AGMT_SEQ
, FA.OFC_CD AS OFC_CD
, FA.AGMT_OFC_CD AS REL_OFC_CD
, FA.AGMT_TERM_CD AS TERM
, FA.FX_AGMT_DT AS DATE_DT
, FA.VSL_CD || FA.SKD_VOY_NO || FA.SKD_DIR_CD AS VVD_CD
, FA.FM_PORT_CD AS LEG_FPORT
, FA.TO_PORT_CD AS LEG_TPORT
, FA.BSA_QTY AS JO_BSA
, FA.BSA_PER_WGT AS JO_WEIGHT
, FA.BSA_SLT_PRC AS JO_PRICE
, DECODE(FA.ATCH_FILE_ID,NULL,'N','Y') AS ATTACH_FLG 
, FA.ATCH_FILE_ID
, FA.FX_AGMT_RMK AS JO_REMARK
, FA.STL_FLG AS STL_FLG
, FA.STL_DT AS SETTLE_DT
, FA.ACT_OVR_USD_QTY AS OUS_QTY
, FA.DELT_FLG
, FA.CRE_USR_ID
, FA.UPD_USR_ID
, TO_CHAR(FA.CRE_DT, 'YYYY-MM-DD') CRE_DT
, FA.PIC_USR_ID
, (SELECT USR_NM FROM COM_USER WHERE USR_ID = FA.PIC_USR_ID) AS PIC_USR_NM
FROM JOO_FX_AGMT FA
WHERE 1=1
#if (${trd_cd} != '') 
AND trd_cd = @[trd_cd]
#end
#if (${rlane_cd} != '') 
AND rlane_cd = @[rlane_cd]
#end
#if (${jo_crr_cd} != '') 
AND JO_CRR_CD = @[jo_crr_cd]
#end
#if (${vvd_cd} != '')
AND VSL_CD || SKD_VOY_NO || SKD_DIR_CD = @[vvd_cd]
#end
#if (${cre_dt_fr} != '' && ${cre_dt_to} != '')
AND NVL(SUBSTR(FX_AGMT_DT,1,6),REPLACE(@[cre_dt_to],'-','')) BETWEEN REPLACE(@[cre_dt_fr],'-','') AND REPLACE(@[cre_dt_to],'-','')
#end
#if (${stl_flg} == 'Y')
AND STL_DT IS NOT NULL
#end
#if (${stl_flg} == 'N')
AND STL_DT IS NULL
#end
#if (${delt_flg} != '')
AND DELT_FLG = @[delt_flg]
#end
#if (${re_divr_cd} != '')
AND RE_DIVR_CD = @[re_divr_cd]
#end
ORDER BY fa.rlane_cd, fa.jo_crr_cd			]]></sql>
			<params>
				<param name="trd_cd" type="12" value="" out="N"/>
				<param name="rlane_cd" type="12" value="" out="N"/>
				<param name="jo_crr_cd" type="12" value="" out="N"/>
				<param name="vvd_cd" type="12" value="" out="N"/>
				<param name="cre_dt_to" type="12" value="" out="N"/>
				<param name="cre_dt_fr" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
				<param name="re_divr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
