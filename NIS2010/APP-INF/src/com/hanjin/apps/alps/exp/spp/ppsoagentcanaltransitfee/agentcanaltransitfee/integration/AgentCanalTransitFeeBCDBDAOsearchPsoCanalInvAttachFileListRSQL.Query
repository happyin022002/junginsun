<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AgentCanalTransitFeeBCDBDAOsearchPsoCanalInvAttachFileListRSQL">
			<desc><![CDATA[searchPsoCanalInvAttachFileList]]></desc>
			<sql><![CDATA[
SELECT 	A.FILE_SAV_ID FILE_SAV_ID,
       			B.FILE_UPLD_NM FILE_UPLD_NM,
       			B.FILE_PATH_URL FILE_PATH_URL,
       			B.FILE_SZ_CAPA FILE_SZ_CAPA
		FROM 	PSO_CNL_TZ_ATCH_FILE A,
     		 	COM_UPLD_FILE B
		WHERE 	A.FILE_SAV_ID 	= B.FILE_SAV_ID
        AND 	A.VSL_CD 		= regexp_substr(@[vvd], '[[:alpha:]]+', 1, 1)  --'HJMT'
        AND 	A.SKD_VOY_NO 	= regexp_substr(@[vvd], '[(0-9)]+', 1, 1)  --'0142'
        AND 	A.SKD_DIR_CD 	= regexp_substr(@[vvd], '[[:alpha:]]+', 1, 2)  --'E'
        AND     A.YD_CD 		= @[yd_cd]  --'EGSUZT1'
        AND     A.CALL_SEQ 		= @[call_seq]  --1
		AND     A.LGS_COST_CD is null
  		AND 	nvl(b.DELT_FLG,'N') != 'Y'			]]></sql>
			<params>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="call_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
