<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MstMgmtDBDAOSearchMdmHistListRSQL">
			<desc><![CDATA[MDM_HIS_DTL List 정보 조회]]></desc>
			<sql><![CDATA[
SELECT MHTC.TBL_DP_NM
       , MHTC.COL_DP_NM
       , NVL((SELECT CICD.INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL CICD WHERE CICD.INTG_CD_ID = MHTC.INTG_CD_ID AND CICD.INTG_CD_VAL_CTNT = MHD.CRNT_CTNT),MHD.CRNT_CTNT) CRNT_CTNT
       , NVL((SELECT CICD.INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL CICD WHERE CICD.INTG_CD_ID = MHTC.INTG_CD_ID AND CICD.INTG_CD_VAL_CTNT = MHD.PRE_CTNT),MHD.PRE_CTNT) PRE_CTNT
       , CU.USR_NM
       ,CU.OFC_CD OFFICE
       ,TO_CHAR(GLOBALDATE_PKG.TIME_CONV_FNC('KRSEL',MHD.UPD_DT,BKG_COM_USER_LOC_FNC(MHD.UPD_USR_ID)), 'YYYY-MM-DD HH24:MI') CRE_DT
       ,TO_CHAR(GLOBALDATE_PKG.TIME_CONV_FNC('KRSEL',MHD.UPD_DT,'GMT'), 'YYYY-MM-DD HH24:MI') GMT_DT
FROM MDM_HIS_DTL MHD
     ,MDM_HIS_TBL_COL MHTC
     ,COM_USER CU
WHERE MHD.TBL_NM IN (SELECT MHTC1.TBL_NM FROM MDM_HIS_TBL_COL MHTC1 WHERE MHTC1.HIS_CATE_NM = @[tbl_nm])
AND MHD.TBL_NM = MHTC.TBL_NM 
AND MHD.COL_NM = MHTC.COL_NM
AND CU.USR_ID = MHD.UPD_USR_ID
AND MHD.MST_KEY = @[mst_key]
AND MHTC.HIS_FLG = 'Y'
ORDER BY MHD.CRE_DT			]]></sql>
			<params>
				<param name="tbl_nm" type="12" value="" out="N"/>
				<param name="mst_key" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
