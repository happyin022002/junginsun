<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PartnerDBDAOSearchVndrRqstListRSQL">
			<desc><![CDATA[Vendor Create Request 목록을 조회]]></desc>
			<sql><![CDATA[
SELECT *
  FROM (SELECT ROWNUM AS NO
	 		 , B.*
  		  FROM (SELECT A.MDM_VNDR_RQST_SEQ AS RQST_NO
		 	 		 , TO_CHAR(A.RQST_DT, 'YYYY-MM-DD HH24:MI') AS RQST_DT
		 	 		 , A.VNDR_LGL_ENG_NM
			 		 , A.VNDR_LOCL_LANG_NM
		 	 		 , A.ENG_ADDR
			 		 , A.BLK_FLG
		 	 		 , A.OFC_CD
		 	 		 , A.LOC_CD
			 		 , A.RGST_NO
		 	 		 , A.GEN_PAY_TERM_CD
		 	 		 , A.PAY_TERM_TP_CD
		 	 		 , A.PAY_MZD_CD
		 	 		 , A.INV_CURR_CD
		 	 		 , A.VNDR_CNT_CD
		 	 		 , A.VNDR_SEQ  
             		 , A.RFND_PSDO_CUST_CD
			 		 , A.LOCL_LANG_ADDR 
			 		 , A.CHK_DE_ADDR1 
			 		 , A.CHK_DE_ADDR2 
			 		 , A.CHK_DE_ADDR3 
             		 , A.CRE_DT
             		 , A.CRE_USR_ID
             		 , A.UPD_DT
             		 , A.UPD_USR_ID
		 	 		 , CASE WHEN MST_RQST_STS_CD = 'N' THEN 'Saved'
			 		 		WHEN MST_RQST_STS_CD = 'R' THEN 'Rejected'
						  	WHEN MST_RQST_STS_CD = 'P' THEN 'Requested'
			 			   	WHEN VNDR_CNT_CD IS NOT NULL THEN 'Approved'
						   	WHEN MST_RQST_STS_CD = 'A' THEN 'Approved'
			   	   		   	ELSE 'Saved'
					  	END AS DELT_FLG 
          		  FROM MDM_VNDR_RQST A
     	 		 WHERE 1=1
#if (${rqst_no} != '')
	   	 	       AND A.MDM_VNDR_RQST_SEQ = @[rqst_no]
#end
#if (${vndr_nm} != '')
	   	   		   AND A.VNDR_LGL_ENG_NM LIKE '%' || UPPER(@[vndr_nm]) || '%'
#end
#if	(${ofc_cd} != '')
	   	   		   AND A.OFC_CD LIKE '%' || UPPER(@[ofc_cd]) || '%'
#end
#if (${delt_flg} != '' && ${delt_flg} != 'ALL')
	   	   		   AND A.MST_RQST_STS_CD = @[delt_flg]
#end
#if (${rqst_fm_dt} != '')
       	   		   AND A.CRE_DT >= TO_DATE(@[rqst_fm_dt], 'YYYY-MM-DD')
#end
#if (${rqst_to_dt} != '')
	   	   		   AND A.CRE_DT <= TO_DATE(@[rqst_to_dt], 'YYYY-MM-DD') + 0.99999
#end
         		 ORDER BY A.CRE_DT DESC, A.RQST_DT DESC, A.MDM_VNDR_RQST_SEQ
			   ) B
       )
 WHERE NO BETWEEN @[startpart] AND @[endpart]			]]></sql>
			<params>
				<param name="rqst_no" type="12" value="" out="N"/>
				<param name="vndr_nm" type="12" value="" out="N"/>
				<param name="ofc_cd" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
				<param name="rqst_fm_dt" type="12" value="" out="N"/>
				<param name="rqst_to_dt" type="12" value="" out="N"/>
				<param name="startpart" type="12" value="" out="N"/>
				<param name="endpart" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
