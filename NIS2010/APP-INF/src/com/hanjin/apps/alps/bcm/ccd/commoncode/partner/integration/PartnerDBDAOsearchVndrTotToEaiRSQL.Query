<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PartnerDBDAOsearchVndrTotToEaiRSQL">
			<desc><![CDATA[Vendor Total (MDM019_0001) Interface를 위한 정보 조회]]></desc>
			<sql><![CDATA[
SELECT A.VNDR_SEQ               
     , A.VNDR_CNT_CD
     , A.VNDR_LGL_ENG_NM          
     , HJSEAI_PKG.H_ENCODE(A.VNDR_LOCL_LANG_NM,'UTF8' ,'UTF8') VNDR_LOCL_LANG_NM        
     , A.VNDR_ABBR_NM            
     , A.LOC_CD                 
     , '' MST_OFC_ID              
     , A.OFC_CD                 
     , HJSEAI_PKG.H_ENCODE(A.CEO_NM, 'UTF8' ,'UTF8') CEO_NM                 
     , A.RGST_NO                
     , A.TAX_ID                     
     , A.PRNT_CNT_CD            
     , A.PRNT_VNDR_SEQ           
     , A.DCGO_HNDL_FLG       
     , A.SVC_SCP_CD_NM           
     , A.SVC_PRD_TP_NM            
     , A.SVC_PRD_RMK            
     , HJSEAI_PKG.H_ENCODE(A.BZCT_NM, 'UTF8' ,'UTF8') BZCT_NM               
     , HJSEAI_PKG.H_ENCODE(A.BZTP_NM, 'UTF8' ,'UTF8') BZTP_NM              
     , A.GEN_PAY_TERM_CD   
     , A.ENG_ADDR      
     , HJSEAI_PKG.H_ENCODE(A.LOCL_LANG_ADDR,'UTF8' ,'UTF8') LOCL_LANG_ADDR 
     , A.ZIP_CD 
     , HJSEAI_PKG.H_ENCODE(A.CNTC_PSON_NM,'UTF8' ,'UTF8') CNTC_PSON_NM 
     , A.INV_CURR_CD              
     , A.PAY_CURR_CD 
     , A.PAY_MZD_CD
     , A.USA_EDI_CD
     , A.WO_ATCH_FILE_FLG 
     , A.WO_EDI_USE_FLG 
     , A.INV_EDI_USE_FLG 
     , A.MTY_RRO_EDI_USE_FLG     
     , A.MODI_VNDR_SEQ 
     , A.BLK_FLG 
     , A.FINC_FLG 
     , A.TEAM_FLG 
     , A.INTER_CO_FLG 
     , A.LGS_FLG
     , A.PROCU_FLG                  
     , A.OTR_FLG 
     , A.BLK_VNDR_SVC_CD 
     , A.SUBS_CO_CD                 
     , A.VNDR_OFC_CD 
     --,Ap_Prmry_Vndr_Tp         
     , A.CRE_USR_ID 
     , TO_CHAR(A.CRE_DT, 'YYYYMMDDHH24MISS') AS CRE_DT 
     , A.UPD_USR_ID
     , TO_CHAR(A.UPD_DT, 'YYYYMMDDHH24MISS') AS UPD_DT 
     , 'Y' PRMRY_CHK_FLG 
     , B.INTL_PHN_NO  
     , B.PHN_NO  
     , C.INTL_FAX_NO  
     , C.FAX_NO  
     , CASE WHEN D.PRMRY_CHK_FLG = 'Y'
            THEN D.VNDR_EML 
            WHEN E.PRMRY_CHK_FLG = 'Y' 
            THEN E.VNDR_EML 
        END AS VNDR_EML 
     , A.RFND_PSDO_CUST_CD 
     , A.PAY_TERM_TP_CD 
     , HJSEAI_PKG.H_ENCODE(A.CHK_DE_ADDR1, 'UTF8', 'UTF8') CHK_DE_ADDR1    
     , HJSEAI_PKG.H_ENCODE(A.CHK_DE_ADDR2, 'UTF8', 'UTF8') CHK_DE_ADDR2 
     , HJSEAI_PKG.H_ENCODE(A.CHK_DE_ADDR3, 'UTF8', 'UTF8') CHK_DE_ADDR3
     , A.CHK_DE_CTY_NM    
     , A.CHK_DE_STE_CD   
     , A.CHK_DE_ZIP_CD   
     , A.CHK_DE_CNT_CD   
     , A.DELT_FLG
  FROM MDM_VENDOR A
     , MDM_VNDR_CNTC_PNT B
     , MDM_VNDR_CNTC_PNT C
     , MDM_VNDR_CNTC_PNT D
     , MDM_VNDR_CNTC_PNT E
WHERE A.VNDR_SEQ = @[vndr_seq]
  AND A.VNDR_SEQ = B.VNDR_SEQ(+)
  AND B.CNTC_DIV_CD(+) = 'PHN'
  AND B.PRMRY_CHK_FLG(+) = 'Y'
  AND B.DELT_FLG(+) = 'N'
  AND A.VNDR_SEQ = C.VNDR_SEQ(+)
  AND C.CNTC_DIV_CD(+) = 'FAX'
  AND C.PRMRY_CHK_FLG(+) = 'Y'
  AND C.DELT_FLG(+) = 'N'
  AND A.VNDR_SEQ = D.VNDR_SEQ(+)
  AND D.CNTC_DIV_CD(+) = 'EMAIL'
  AND D.PRMRY_CHK_FLG(+) = 'Y'
  AND D.DELT_FLG(+) = 'N'
  AND A.VNDR_SEQ = E.VNDR_SEQ(+)
  AND E.CNTC_DIV_CD(+) = 'WEB'
  AND E.PRMRY_CHK_FLG(+) = 'Y'
  AND E.DELT_FLG(+) = 'N'
  AND ROWNUM = 1			]]></sql>
			<params>
				<param name="vndr_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
