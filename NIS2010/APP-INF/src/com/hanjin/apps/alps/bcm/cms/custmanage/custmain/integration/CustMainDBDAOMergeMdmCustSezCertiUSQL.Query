<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CustMainDBDAOMergeMdmCustSezCertiUSQL">
			<desc><![CDATA[Merge MDM_CUST_SEZ_CERTI]]></desc>
			<sql><![CDATA[
MERGE INTO MDM_CUST_SEZ_CERTI a										
 USING ( select @[cust_cnt_cd] cust_cnt_cd, @[cust_seq] cust_seq, 1 FILE_SEQ from dual ) b           
 ON (a.cust_cnt_cd = b.cust_cnt_cd and a.cust_seq = b.cust_seq and a.FILE_SEQ = b.FILE_SEQ)  
 WHEN MATCHED THEN                                                
 update                                                           
 set      
    FILE_SAV_ID = @[file_sav_id]
    ,FILE_NM    = @[file_nm]
    ,UPD_USR_ID = NVL(@[upd_usr_id], 'SYSTEM')
 	  ,UPD_DT     = sysdate
 WHEN NOT MATCHED THEN                                            
 insert                                                           
 (                                                                
    CUST_CNT_CD, 
    CUST_SEQ, 
    FILE_SEQ,
    FILE_SAV_ID, 
    FILE_NM,
    CRE_USR_ID, 
    CRE_DT, 
    UPD_USR_ID, 
    UPD_DT	                                                 
 )                                                                
 values                                                           
 (                                                                
 	@[cust_cnt_cd],                                              				
 	@[cust_seq],  
  1,
  @[file_sav_id],
  @[file_nm],
  	NVL(@[cre_usr_id], 'SYSTEM'),
 	NVL(to_date(@[cre_dt],'yyyymmddhh24miss'), sysdate),
 	NVL(@[upd_usr_id], 'SYSTEM'),
 	NVL(to_date(@[upd_dt],'yyyymmddhh24miss'), sysdate)               			
 )			]]></sql>
			<params>
				<param name="cust_cnt_cd" type="12" value="" out="N"/>
				<param name="cust_seq" type="12" value="" out="N"/>
				<param name="file_sav_id" type="12" value="" out="N"/>
				<param name="file_nm" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="cre_dt" type="12" value="" out="N"/>
				<param name="upd_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
