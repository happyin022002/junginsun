<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WorkOrderPreviewDBDAOSearchEdi10514701ReeferCgoRSQL">
			<desc><![CDATA[SearchEdi10514701ReeferCgo]]></desc>
			<sql><![CDATA[
#if (${trsp_bnd_cd} == 'O' && ${trsp_cst_dtl_mod_cd} == 'DR') 
SELECT rf.vent_rto rf_venti
	,rf.cdo_temp rf_min_temp
	,'cel' rf_min_unit
	,rf.cdo_temp rf_max_temp
	,'cel' rf_max_unit
	,rf.pwr_spl_cbl_flg rf_genset
	,rf.humid_no	rf_humid
	,TRIM(SUBSTR( REPLACE( REPLACE(REPLACE(REPLACE(rf.diff_rmk	,CHR(13)||CHR(10),' '), '\"','*'),CHR(9),' '), CHR(10),' ') ,1,350)) rf_rmk
FROM bkg_rf_cgo rf
	,bkg_eur_tro th
	,trs_trsp_svc_ord so
WHERE so.delt_flg <> 'Y'					
   	AND so.trsp_so_ofc_cty_cd = @[trsp_so_ofc_cty_cd]
   	AND so.trsp_so_seq = @[trsp_so_seq]							
	AND so.hjl_no IS NULL
	AND so.bkg_no = rf.bkg_no
	AND th.rc_seq = rf.rc_seq
	AND so.bkg_no = th.bkg_no
	AND th.tro_seq = so.tro_seq
    AND so.TRSP_BND_CD = th.IO_BND_CD
    AND SUBSTR(so.COST_ACT_GRP_CD,1,2) = 'OD'
#else
SELECT rf.vent_rto rf_venti
	,rf.cdo_temp rf_min_tem
	,'cel' rf_min_unit
	,rf.cdo_temp rf_max_temp
	,'cel' rf_max_unit
	,rf.pwr_spl_cbl_flg rf_genset
	,rf.humid_no	rf_humid
	,TRIM(SUBSTR( REPLACE( REPLACE(REPLACE(REPLACE(rf.diff_rmk	,CHR(13)||CHR(10),' '), '\"','*'),CHR(9),' '), CHR(10),' ') ,1,350)) rf_rmk
FROM bkg_rf_cgo rf
	,trs_trsp_svc_ord so
WHERE so.delt_flg <> 'Y'					
   	AND so.trsp_so_ofc_cty_cd = @[trsp_so_ofc_cty_cd]
   	AND so.trsp_so_seq = @[trsp_so_seq]							
	AND so.hjl_no IS NULL
	AND so.bkg_no = rf.bkg_no
	AND so.eq_no = rf.cntr_no
    AND SUBSTR(so.COST_ACT_GRP_CD,1,2) <> 'OD'
#end			]]></sql>
			<params>
				<param name="trsp_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_so_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
