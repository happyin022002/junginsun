<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="AsiaOceanFeederCostManageDBDAOSearchFeederDgCostRSQL">
			<desc><![CDATA[2012.07.04 변종건 [CHM-201217633] Ocean Feeder Cost Management 수정 및 신규 탭 추가]]></desc>
			<sql><![CDATA[
SELECT  DG.COST_TRF_NO
      , DG.COST_TRF_ROUT_SEQ
      , DRY.FM_NOD_CD
      , DRY.TO_NOD_CD
      , DRY.PCTL_IO_BND_CD
      , DECODE(DRY.PCTL_IO_BND_CD, 'O', 'Pre', 'I', 'Post') PCTL_IO_BND_NM
      , DRY.DIR_CD
      , DRY.WTR_RCV_TERM_CD
      , DRY.WTR_DE_TERM_CD
	  , DRY.CURR_CD
      , DRY.VNDR_SEQ
      , ( SELECT VNDR_LGL_ENG_NM FROM MDM_VENDOR V WHERE V.VNDR_SEQ = DRY.VNDR_SEQ ) VNDR_NM
      , GREATEST( NVL(DRY.TRSP_20FT_AGMT_OLD_FLG,'N'), NVL(DRY.TRSP_40FT_AGMT_OLD_FLG,'N') ) AGMT_OLD_FLG
      , DRY.FDR_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT
      , DG.IMDG_N1ST_CLSS_SVC_FLG
      , DG.IMDG_N1ST_CLSS_20FT_SCG_AMT
      , DG.IMDG_N1ST_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N1ST_CLSS_20FT_SCG_AMT AS IMDG_N1ST_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N1ST_CLSS_40FT_SCG_AMT AS IMDG_N1ST_CLSS_40FT_TTL_AMT
      , DG.IMDG_N2ND_CLSS_SVC_FLG
      , DG.IMDG_N2ND_CLSS_20FT_SCG_AMT
      , DG.IMDG_N2ND_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N2ND_CLSS_20FT_SCG_AMT AS IMDG_N2ND_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N2ND_CLSS_40FT_SCG_AMT AS IMDG_N2ND_CLSS_40FT_TTL_AMT
      , DG.IMDG_N3RD_CLSS_SVC_FLG
      , DG.IMDG_N3RD_CLSS_20FT_SCG_AMT
      , DG.IMDG_N3RD_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N3RD_CLSS_20FT_SCG_AMT AS IMDG_N3RD_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N3RD_CLSS_40FT_SCG_AMT AS IMDG_N3RD_CLSS_40FT_TTL_AMT
      , DG.IMDG_N4TH_CLSS_SVC_FLG
      , DG.IMDG_N4TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N4TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N4TH_CLSS_20FT_SCG_AMT AS IMDG_N4TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N4TH_CLSS_40FT_SCG_AMT AS IMDG_N4TH_CLSS_40FT_TTL_AMT
      , DG.IMDG_N5TH_CLSS_SVC_FLG
      , DG.IMDG_N5TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N5TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N5TH_CLSS_20FT_SCG_AMT AS IMDG_N5TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N5TH_CLSS_40FT_SCG_AMT AS IMDG_N5TH_CLSS_40FT_TTL_AMT
      , DG.IMDG_N6TH_CLSS_SVC_FLG
      , DG.IMDG_N6TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N6TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N6TH_CLSS_20FT_SCG_AMT AS IMDG_N6TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N6TH_CLSS_40FT_SCG_AMT AS IMDG_N6TH_CLSS_40FT_TTL_AMT
      , DG.IMDG_N7TH_CLSS_SVC_FLG
      , DG.IMDG_N7TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N7TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N7TH_CLSS_20FT_SCG_AMT AS IMDG_N7TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N7TH_CLSS_40FT_SCG_AMT AS IMDG_N7TH_CLSS_40FT_TTL_AMT
      , DG.IMDG_N8TH_CLSS_SVC_FLG
      , DG.IMDG_N8TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N8TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N8TH_CLSS_20FT_SCG_AMT AS IMDG_N8TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N8TH_CLSS_40FT_SCG_AMT AS IMDG_N8TH_CLSS_40FT_TTL_AMT
      , DG.IMDG_N9TH_CLSS_SVC_FLG
      , DG.IMDG_N9TH_CLSS_20FT_SCG_AMT
      , DG.IMDG_N9TH_CLSS_40FT_SCG_AMT
      , DRY.FDR_20FT_TTL_AMT + DG.IMDG_N9TH_CLSS_20FT_SCG_AMT AS IMDG_N9TH_CLSS_20FT_TTL_AMT
      , DRY.FDR_40FT_TTL_AMT + DG.IMDG_N9TH_CLSS_40FT_SCG_AMT AS IMDG_N9TH_CLSS_40FT_TTL_AMT
      , '' UPD_USR_ID
FROM    AOC_CHN_FDR_DG_TRF_DTL DG
      , AOC_CHN_FDR_TRF_DTL DRY
WHERE   DG.COST_TRF_NO = DRY.COST_TRF_NO
AND     DG.COST_TRF_ROUT_SEQ = DRY.COST_TRF_ROUT_SEQ
AND     DG.COST_TRF_NO = @[in_cost_trf_no]

#if (${in_from_nod_cd} != '') 
AND     DRY.FM_NOD_CD LIKE @[in_from_nod_cd]||'%'
#end

#if (${in_to_nod_cd} != '') 
AND     DRY.TO_NOD_CD LIKE @[in_to_nod_cd]||'%'
#end			]]></sql>
			<params>
				<param name="in_cost_trf_no" type="12" value="" out="N"/>
				<param name="in_from_nod_cd" type="12" value="" out="N"/>
				<param name="in_to_nod_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
