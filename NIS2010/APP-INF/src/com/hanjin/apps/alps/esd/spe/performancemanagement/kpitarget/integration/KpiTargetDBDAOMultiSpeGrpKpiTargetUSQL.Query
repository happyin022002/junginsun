<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="KpiTargetDBDAOMultiSpeGrpKpiTargetUSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
MERGE INTO spe_ev_grp_kpi_perf_tgt A
USING DUAL ON (    A.EV_YR 		= @[ev_yr]
               AND A.EG_ID 		= @[eg_id]
			   AND A.SP_KPI_ID	= @[sp_kpi_id]
				)
WHEN MATCHED
THEN UPDATE SET 
             A.KPI_TGT_RTO   = @[kpi_tgt_rto]                                               
            ,A.KPI_WGT_RTO   = @[kpi_wgt_rto]                    
            ,A.UPD_USR_ID            = @[cre_usr_id]                 
            ,A.UPD_DT                = SYSDATE     
     WHERE  1=1
     AND A.EV_YR 		= @[ev_yr]
     AND A.EG_ID 		= @[eg_id]
	 AND A.SP_KPI_ID	= @[sp_kpi_id]
WHEN NOT MATCHED
THEN INSERT (A.EV_YR
            ,A.EG_ID
            ,A.SP_KPI_ID
            ,A.KPI_TGT_RTO
            ,A.KPI_WGT_RTO            
            ,A.CRE_USR_ID
            ,A.CRE_DT
            ,A.UPD_USR_ID
            ,A.UPD_DT)
     VALUES (@[ev_yr]                 
            ,@[eg_id]               
            ,@[sp_kpi_id]        
            ,@[kpi_tgt_rto]                 
            ,@[kpi_wgt_rto]          
            ,@[cre_usr_id]                 
            ,SYSDATE                     
            ,@[cre_usr_id]                 
            ,SYSDATE                       
     )			]]></sql>
			<params>
				<param name="ev_yr" type="12" value="" out="N"/>
				<param name="eg_id" type="12" value="" out="N"/>
				<param name="sp_kpi_id" type="12" value="" out="N"/>
				<param name="kpi_tgt_rto" type="12" value="" out="N"/>
				<param name="kpi_wgt_rto" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
