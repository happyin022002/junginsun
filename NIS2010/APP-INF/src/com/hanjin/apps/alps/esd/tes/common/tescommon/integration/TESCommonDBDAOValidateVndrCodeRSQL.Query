<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TESCommonDBDAOValidateVndrCodeRSQL">
			<desc><![CDATA[Validate Vendor Code]]></desc>
			<sql><![CDATA[
SELECT 
    ( SELECT	CASE WHEN COUNT(VNDR_SEQ)>0 THEN 'Y' ELSE 'N' END VNDR_SEQ_EXISTING	
        FROM	MDM_VENDOR 
        WHERE	VNDR_SEQ = @[vndr_seq]  
        AND		DELT_FLG = 'N'
    ) VNDR_SEQ_EXISTING
    , VNDR_LGL_ENG_NM 
	, DECODE(IDA_GST_RGST_STS_CD,'R','Registered','U','Unregistered','C','Composite') IDA_GST_RGST_STS_CD
    , IDA_GST_RGST_NO  
    , (SELECT MS.IDA_STE_CD FROM MDM_STATE MS WHERE MS.CNT_CD = 'IN' AND MS.STE_CD = ML.STE_CD AND ROWNUM = 1) IDA_STE_CD
    , (SELECT MS.STE_NM FROM MDM_STATE MS WHERE MS.CNT_CD = 'IN' AND MS.STE_CD = ML.STE_CD AND ROWNUM = 1) IDA_STE_NM
FROM MDM_VENDOR MV, MDM_LOCATION ML
WHERE MV.LOC_CD = ML.LOC_CD
AND MV.VNDR_SEQ = @[vndr_seq]  
AND	MV.DELT_FLG = 'N' 			]]></sql>
			<params>
				<param name="vndr_seq" type="2" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
