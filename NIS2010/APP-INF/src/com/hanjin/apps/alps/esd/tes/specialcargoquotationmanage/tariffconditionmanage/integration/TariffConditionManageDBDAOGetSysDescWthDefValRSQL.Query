<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TariffConditionManageDBDAOGetSysDescWthDefValRSQL">
			<desc><![CDATA[유효성 확인 위한 CONDITION식 추출]]></desc>
			<sql><![CDATA[
SELECT 
   LTRIM(MAX(SYS_CONNECT_BY_PATH(OBJ_NM,' ')),' ') SYS_DESC_WTH_DEFVAL
FROM (
    SELECT 
        ROWNUM ROW_ID,
        CASE 
        WHEN D.TML_COND_DTL_TP_CD IN ('O')
        THEN DECODE(O.TML_VAL_TP_CD,'S',NVL(O.DFLT_CTNT,O.OBJ_LIST_ABBR_NM),'N',NVL(O.DFLT_VAL,TO_NUMBER('')),'')
        WHEN D.TML_COND_DTL_TP_CD IN ('P')
        THEN O.OBJ_LIST_ABBR_NM
        WHEN D.TML_COND_DTL_TP_CD IN ('C')
        THEN D.COND_OPR_VAL_CTNT
        END OBJ_NM
    FROM TES_TRF_COND C, TES_TRF_COND_DTL D, TES_OBJ_LIST O
    WHERE C.COND_NO =  @[cond_no]
	AND NVL(C.DELT_FLG,'N') <> 'Y'
    AND D.COND_DTL_USE_TP_CD = 'S'
    AND C.COND_NO = D.COND_NO
    AND D.OBJ_LIST_NO = O.OBJ_LIST_NO(+)	
	AND NVL(O.DELT_FLG(+),'N') <> 'Y'			
)
CONNECT BY PRIOR ROW_ID = ROW_ID - 1
START WITH ROW_ID = 1			]]></sql>
			<params>
				<param name="cond_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
