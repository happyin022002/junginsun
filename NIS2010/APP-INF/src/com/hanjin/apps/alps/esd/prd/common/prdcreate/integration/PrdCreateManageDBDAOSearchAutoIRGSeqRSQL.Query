<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PrdCreateManageDBDAOSearchAutoIRGSeqRSQL">
			<desc><![CDATA[Check and generate Inland Route Guide Sequence]]></desc>
			<sql><![CDATA[
SELECT PCTL_NO
     , ROUT_ORG_NOD_CD
     , ROUT_DEST_NOD_CD
     , PCTL_IO_BND_CD
     , PRD_INLND_ROUT_SEQ.NEXTVAL AS ROUT_SEQ
FROM (
    SELECT MIN(PCTL_NO) PCTL_NO -- 대표 번호
         , ROUT_ORG_NOD_CD
         , ROUT_DEST_NOD_CD
         , PCTL_IO_BND_CD
    FROM PRD_PROD_CTL_ROUT_DTL RDTL
    WHERE PCTL_NO LIKE @[hd_pctl_no] || '%'
      AND RDTL.PCTL_IO_BND_CD = 'O'
      AND RDTL.TRSP_MOD_CD <> 'X'
      AND RDTL.ROUT_SEQ = -1 
    GROUP BY ROUT_ORG_NOD_CD
           , ROUT_DEST_NOD_CD
           , PCTL_IO_BND_CD
     )			]]></sql>
			<params>
				<param name="hd_pctl_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
