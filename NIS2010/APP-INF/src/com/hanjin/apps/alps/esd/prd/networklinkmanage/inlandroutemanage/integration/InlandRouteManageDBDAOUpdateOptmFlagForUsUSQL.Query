<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InlandRouteManageDBDAOUpdateOptmFlagForUsUSQL">
			<desc><![CDATA[InlandRouteManageDBDAOUpdateOptmFlagForUsUSQL]]></desc>
			<sql><![CDATA[
UPDATE prd_inlnd_rout_mst m          
SET inlnd_rout_optm_flg = 'Y'
WHERE m.rout_org_nod_cd = @[i_rout_org_nod_cd]  
AND m.rout_dest_nod_cd = @[i_rout_dest_nod_cd] 
AND m.rout_seq = @[i_rout_seq]
AND 'Y' = NVL(@[i_bkg_flg] ,'X')
AND SUBSTR(m.ROUT_ORG_NOD_CD, 1,5) <> SUBSTR(m.ROUT_DEST_NOD_CD, 1,5)
AND 0 = (SELECT COUNT(1) FROM PRD_INLND_ROUT_MST ML
          WHERE ML.ROUT_ORG_NOD_CD = M.ROUT_ORG_NOD_CD
            AND ML.ROUT_DEST_NOD_CD = M.ROUT_DEST_NOD_CD
            AND ML.PCTL_IO_BND_CD = M.PCTL_IO_BND_CD
            AND NVL(ML.DELT_FLG,'N') = 'N'
            AND ML.INLND_ROUT_OPTM_FLG = 'Y'
            AND ROWNUM = 1)			]]></sql>
			<params>
				<param name="i_rout_org_nod_cd" type="12" value="" out="N"/>
				<param name="i_rout_dest_nod_cd" type="12" value="" out="N"/>
				<param name="i_rout_seq" type="12" value="" out="N"/>
				<param name="i_bkg_flg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
