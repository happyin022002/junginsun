<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoQuotationManageDBDAOcheckYdCdInputAuthAddonRSQL">
			<desc><![CDATA[checkYdCdInputAuthAddon]]></desc>
			<sql><![CDATA[
SELECT 
CASE
WHEN (
    SELECT
    CASE
    WHEN LENGTH(@[fm_yd_cd])=7
    THEN 
        (SELECT 
        NVL(TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd],(SELECT OFC_CD 
                                              FROM MDM_YARD 
                                              WHERE YD_CD = @[fm_yd_cd]
                                              AND NVL(DELT_FLG,'N')<>'Y')),'X') 
        FROM DUAL)
    WHEN LENGTH(@[fm_yd_cd])=5
    THEN 
        (SELECT
        NVL(
        (SELECT 
        DISTINCT TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd], OFC_CD)
        FROM MDM_YARD
        WHERE 1=1
        AND YD_CD LIKE @[fm_yd_cd]||'%'
        AND NVL(DELT_FLG,'N')<>'Y'
        AND NVL(TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd], OFC_CD),'N') = 'Y'),'X') 
        FROM DUAL)
    ELSE 'X'
    END CHK
    FROM DUAL
) = 'Y'
THEN 'Y'
WHEN (
    SELECT
    CASE
    WHEN LENGTH(@[to_yd_cd])=7
    THEN 
        (SELECT 
        NVL(TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd],(SELECT OFC_CD 
                                              FROM MDM_YARD 
                                              WHERE YD_CD = @[to_yd_cd]
                                              AND NVL(DELT_FLG,'N')<>'Y')),'X') 
        FROM DUAL)
    WHEN LENGTH(@[to_yd_cd])=5
    THEN 
        (SELECT
        NVL(
        (SELECT 
        DISTINCT TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd], OFC_CD)
        FROM MDM_YARD
        WHERE 1=1
        AND YD_CD LIKE @[to_yd_cd]||'%'
        AND NVL(DELT_FLG,'N')<>'Y'
        AND NVL(TES_OOG_GET_AUTH_YN_FNC(@[lg_ofc_cd], OFC_CD),'N') = 'Y'),'X') 
        FROM DUAL)
    ELSE 'X'
    END CHK
    FROM DUAL
) = 'Y'
THEN 'Y'
ELSE 'N'
END CHK_FLG
FROM DUAL			]]></sql>
			<params>
				<param name="fm_yd_cd" type="12" value="" out="N"/>
				<param name="lg_ofc_cd" type="12" value="" out="N"/>
				<param name="to_yd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
