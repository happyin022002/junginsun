<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoQuotationManageDBDAOsearchUSDExchangeRSQL">
			<desc><![CDATA[USD Exchange for 20ft, 40ft]]></desc>
			<sql><![CDATA[
SELECT ROUND(NVL(NVL(@[man_locl_amt_20ft],1)/NVL(G.USD_LOCL_XCH_RT,1),1),2) man_usd_amt_20ft,
       ROUND(NVL(NVL(@[man_locl_amt_40ft],1)/NVL(G.USD_LOCL_XCH_RT,1),1),2) man_usd_amt_40ft
FROM GL_MON_XCH_RT G, (
    SELECT MAX(X.ACCT_XCH_RT_YRMON) ACCT_XCH_RT_YRMON, X.ACCT_XCH_RT_LVL, X.CURR_CD
    FROM GL_MON_XCH_RT X
    WHERE 1=1
    AND X.ACCT_XCH_RT_YRMON >= '1'
    AND X.ACCT_XCH_RT_LVL = 1
    AND X.CURR_CD = @[man_locl_curr_cd]
    AND NVL(X.DELT_FLG,'N') <> 'Y'
    GROUP BY X.CURR_CD, X.ACCT_XCH_RT_LVL
) X
WHERE 1=1
AND G.ACCT_XCH_RT_YRMON >= '1'
AND G.ACCT_XCH_RT_LVL = 1
AND G.CURR_CD = @[man_locl_curr_cd]
AND G.ACCT_XCH_RT_YRMON = X.ACCT_XCH_RT_YRMON
AND G.ACCT_XCH_RT_LVL = X.ACCT_XCH_RT_LVL
AND G.CURR_CD = X.CURR_CD			]]></sql>
			<params>
				<param name="man_locl_amt_20ft" type="12" value="" out="N"/>
				<param name="man_locl_amt_40ft" type="12" value="" out="N"/>
				<param name="man_locl_curr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
