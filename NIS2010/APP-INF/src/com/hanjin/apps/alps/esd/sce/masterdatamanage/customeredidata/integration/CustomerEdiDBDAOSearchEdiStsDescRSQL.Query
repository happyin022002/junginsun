<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CustomerEdiDBDAOSearchEdiStsDescRSQL">
			<desc><![CDATA[SearchEdiStsDesc]]></desc>
			<sql><![CDATA[
select  'STS:' || CUST_EDI_STS_CD || ' / VSL:' || decode(EDI_VSL_TP_CD, '1', 'TRUNK', '2', 'NOT TRUNK', '3', 'ALL') || ' / EVENT:' ||    
        decode(EDI_EVNT_CD, '1', 'FIRST', '2', 'NOT FIRST', '3', 'LAST', '4', 'NOT LAST', '5', 'ALL') cust_sts_desc,                   
        (select edi_sts_desc from EDI_CGO_STND_STS 
         where
         1=1 
         #if(${edi_sts} != '')         
            and edi_stnd_sts_cd = @[edi_sts]
         #end        
         ) edi_sts_desc   
      , (select RTRIM(XMLAGG(XMLELEMENT(x,nod_cd||',')).EXTRACT('//text()').GetStringVal(),',') AS dtl_nod_cd     
          from sce_cop_dtl dtl                  
         where  dtl.stnd_edi_sts_cd  = @[edi_sts]      
          AND cop_no = (select cop_no from sce_cop_hdr where bkg_no = @[bkg_no] and cntr_no = @[cntr_no])) dtl_nod_cd            
  from   EDI_GRP_CGO                                                                                  
 WHERE 1=1
#if(${edi_grp_cd} != '')  
 and edi_grp_cd = @[edi_grp_cd]
#end
#if(${edi_sts} != '')                                                                                
 AND    EDI_STND_STS_CD = @[edi_sts]
#end			]]></sql>
			<params>
				<param name="edi_sts" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
				<param name="edi_grp_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
