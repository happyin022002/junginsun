<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SingleTransportationSOManageDBDAOSearchSODupCheckRSQL">
			<desc><![CDATA[Trans mode 와 Route 가 동일한 내용으로 생성된 건이 존재하는지 확인]]></desc>
			<sql><![CDATA[
SELECT CASE WHEN COUNT(*) = 0 THEN 'N'
            ELSE 'Y'
       END AS SO_DUP_CHK
FROM TRS_TRSP_SVC_ORD
WHERE COP_NO = @[cop_no]
  AND DECODE(TRSP_COST_DTL_MOD_CD, 'LS','CY','TS','CY', TRSP_COST_DTL_MOD_CD ) = @[trsp_cost_dtl_mod_cd]
  AND TRSP_CRR_MOD_CD = @[trsp_crr_mod_cd]
  AND FM_NOD_CD = @[fm_nod_cd]||@[fm_nod_yard]
  AND TO_NOD_CD = @[to_nod_cd]||@[to_nod_yard]
#if (${via_nod_cd} != '')
  AND NVL(VIA_NOD_CD,' ') = @[via_nod_cd]||@[via_nod_yard]
#end
  AND DELT_FLG = 'N'			]]></sql>
			<params>
				<param name="cop_no" type="12" value="" out="N"/>
				<param name="trsp_cost_dtl_mod_cd" type="12" value="" out="N"/>
				<param name="trsp_crr_mod_cd" type="12" value="" out="N"/>
				<param name="fm_nod_cd" type="12" value="" out="N"/>
				<param name="fm_nod_yard" type="12" value="" out="N"/>
				<param name="to_nod_cd" type="12" value="" out="N"/>
				<param name="to_nod_yard" type="12" value="" out="N"/>
				<param name="via_nod_cd" type="12" value="" out="N"/>
				<param name="via_nod_yard" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
