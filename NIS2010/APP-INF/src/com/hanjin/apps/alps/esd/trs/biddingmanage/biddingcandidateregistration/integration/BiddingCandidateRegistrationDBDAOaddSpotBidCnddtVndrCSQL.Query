<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BiddingCandidateRegistrationDBDAOaddSpotBidCnddtVndrCSQL">
			<desc><![CDATA[addSpotBidCnddtVndr]]></desc>
			<sql><![CDATA[
MERGE
  INTO TRS_SPOT_BID_CNDDT_VNDR SBCV USING DUAL ON (SPOT_BID_CNDDT_TERM_SEQ = @[spot_bid_cnddt_term_seq]
           AND VNDR_SEQ = @[vndr_seq])
       WHEN NOT MATCHED THEN
INSERT (SPOT_BID_CNDDT_TERM_SEQ,
               VNDR_SEQ,
               SPOT_BID_VNDR_EML,
               SP_PTAL_EXIST_FLG,
               CRE_OFC_CD,
               LOCL_CRE_DT,
               LOCL_UPD_DT,
               CRE_USR_ID,
               CRE_DT,
               UPD_USR_ID,
               UPD_DT )
VALUES(@[spot_bid_cnddt_term_seq],
               @[vndr_seq],
               @[spot_bid_vndr_eml],
               @[sp_ptal_exist_flg],
--               (SELECT SP_EXIST_FLG FROM TRS_SVC_PROV_PTAL_USR_IF WHERE 1=1 AND SP_VNDR_SEQ = [vndr_seq] AND ROWNUM = 1),
               @[cre_ofc_cd],
               GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[cre_ofc_cd]),
               GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[cre_ofc_cd]),
               @[cre_usr_id],
               SYSDATE,
               @[cre_usr_id],
               SYSDATE )
       WHEN MATCHED THEN
UPDATE
   SET SBCV.SPOT_BID_VNDR_EML = @[spot_bid_vndr_eml],
       SBCV.LOCL_UPD_DT = GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[cre_ofc_cd]),
       SBCV.UPD_USR_ID = @[cre_usr_id],
       SBCV.UPD_DT = SYSDATE			]]></sql>
			<params>
				<param name="spot_bid_cnddt_term_seq" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="spot_bid_vndr_eml" type="12" value="" out="N"/>
				<param name="sp_ptal_exist_flg" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
