<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="EdiHoldStatusReceiveDAOModifyHoldStatusUSQL">
			<desc><![CDATA[SCE_RAIL_HLD_STS 에 BKG_NO, CNTR_NO 별로 업데이트 처리한다.]]></desc>
			<sql><![CDATA[
UPDATE SCE_RAIL_HLD_STS 
   SET RAIL_HLD_STS_SND_DT = @[send_date],
       REF_NO = @[ref_no],
       RAIL_HLD_STS_RCV_DT = TO_CHAR(SYSDATE, 'YYYYMMDD'),
       STND_CRR_CD = @[ssco_scac],
       CSTMS_HLD_STS_CD = @[hold_sts_customs],
       CSTMS_HLD_STS_DT = CASE WHEN @[hold_sts_customs_date]  = NULL then NULL
                          ELSE TO_DATE(@[hold_sts_customs_date]||@[hold_sts_customs_time], 'YYYYMMDDHH24MISS')
                          END,
       USDA_HLD_STS_CD = @[hold_sts_usda],
       USDA_HLD_STS_DT = CASE WHEN @[hold_sts_usda_date]  = NULL then NULL
                         ELSE TO_DATE(@[hold_sts_usda_date]||@[hold_sts_usda_time], 'YYYYMMDDHH24MISS')
                         END,
       CRR_HLD_STS_CD = @[hold_sts_carrier],
       CRR_HLD_STS_DT = CASE WHEN @[hold_sts_carrier_date]  = NULL then NULL
                        ELSE TO_DATE(@[hold_sts_carrier_date]||@[hold_sts_carrier_time], 'YYYYMMDDHH24MISS')
                        END,
       TML_HLD_STS_CD = @[hold_sts_terminal],
       TML_HLD_STS_DT = CASE WHEN @[hold_sts_terminal_date]  = NULL then NULL
                        ELSE TO_DATE(@[hold_sts_terminal_date]||@[hold_sts_terminal_time], 'YYYYMMDDHH24MISS')
                        END,
       LST_HLD_STS_CD = NULL,
       LST_RLSE_DT = CASE WHEN @[last_release_date]  = NULL then NULL
                     ELSE TO_DATE(@[last_release_date]||@[last_release_time], 'YYYYMMDDHH24MISS')
                     END,
       UPD_USR_ID = @[sender_id],
       UPD_DT = SYSDATE
 WHERE BKG_NO = @[bkg_no]
   AND CNTR_NO = @[cntr_no]			]]></sql>
			<params>
				<param name="send_date" type="12" value="" out="N"/>
				<param name="ref_no" type="12" value="" out="N"/>
				<param name="ssco_scac" type="12" value="" out="N"/>
				<param name="hold_sts_customs" type="12" value="" out="N"/>
				<param name="hold_sts_customs_date" type="12" value="" out="N"/>
				<param name="hold_sts_customs_time" type="12" value="" out="N"/>
				<param name="hold_sts_usda" type="12" value="" out="N"/>
				<param name="hold_sts_usda_date" type="12" value="" out="N"/>
				<param name="hold_sts_usda_time" type="12" value="" out="N"/>
				<param name="hold_sts_carrier" type="12" value="" out="N"/>
				<param name="hold_sts_carrier_date" type="12" value="" out="N"/>
				<param name="hold_sts_carrier_time" type="12" value="" out="N"/>
				<param name="hold_sts_terminal" type="12" value="" out="N"/>
				<param name="hold_sts_terminal_date" type="12" value="" out="N"/>
				<param name="hold_sts_terminal_time" type="12" value="" out="N"/>
				<param name="last_release_date" type="12" value="" out="N"/>
				<param name="last_release_time" type="12" value="" out="N"/>
				<param name="sender_id" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="cntr_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
