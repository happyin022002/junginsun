<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WorkOrderPreviewDBDAOAddWorkOrderPreviewSvcOrdUSQL">
			<desc><![CDATA[trs_trsp_svc_ord update]]></desc>
			<sql><![CDATA[
UPDATE TRS_TRSP_SVC_ORD
SET 
    TRSP_WO_OFC_CTY_CD  = @[trsp_wo_ofc_cty_cd]
    , TRSP_WO_SEQ       = @[trsp_wo_seq] 
    , TRSP_SO_STS_CD    = 'I' 
    , VNDR_SEQ          = @[vndr_seq]
    , WO_RJCT_FLG       = null 
    , UPD_DT            = SYSDATE
	, UPD_USR_ID 		= @[upd_usr_id]
    , LOCL_UPD_DT       = globaldate_pkg.time_local_ofc_fnc(@[usr_ofc_cd])
	#if (${conti_cd} == 'M' && ${wo_edi_use_flg} == 'Y') 
       	, EDI_SND_MSG_TP_CD = '204'
		, EDI_SND_DT = SYSDATE
       	, EDI_CTRL_SEQ = TRS_TRSP_SVC_ORD_SEQ3.NEXTVAL
	#end
	
WHERE (TRSP_SO_OFC_CTY_CD, TRSP_SO_SEQ) IN (
        SELECT TRSP_SO_OFC_CTY_CD, TRSP_SO_SEQ
        FROM TRS_TRSP_WRK_ORD_PRV_TMP
        WHERE WO_PRV_GRP_SEQ = @[wo_prv_grp_seq]
            AND WO_ISS_NO = @[wo_iss_no]) 
    AND HJL_NO IS NULL			]]></sql>
			<params>
				<param name="trsp_wo_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_wo_seq" type="12" value="" out="N"/>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="usr_ofc_cd" type="12" value="" out="N"/>
				<param name="wo_prv_grp_seq" type="12" value="" out="N"/>
				<param name="wo_iss_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
