<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="IrregularManageDBDAOSearchIrregularCntrListRSQL">
			<desc><![CDATA[Irregular Container List 조회]]></desc>
			<sql><![CDATA[
SELECT 
		  IH.IRR_NO
		, GH.GNTE_NO
		, GL.TML_GNTE_CNTR_LIST_SEQ
		, CASE	WHEN GL.TML_IF_OFC_CD IS NOT NULL 
					AND GL.TML_IF_SEQ IS NOT NULL 
					AND	NVL(GL.IRR_NO_IF_FLG, 'N') = 'Y'
				THEN 'I/F'
				ELSE ''
		END CHK_TPB_IF
		, GL.CNTR_NO
		, GL.CNTR_TPSZ_CD
		, GL.BKG_NO
		, GL.BKG_NO bkg_no2		-- 원천 Data 비교 위해...
		, 'N/A|'||GL.BKG_NO_LIST_CTNT BKG_NO_LIST_CTNT
		, GL.BL_NO
		, GL.SC_NO
		, GL.VVD_CD
		, TO_CHAR(GL.FM_DT, 'YYYY-MM-DD') FM_DT
		, TO_CHAR(GL.TO_DT, 'YYYY-MM-DD') TO_DT
		, GL.TML_IF_OFC_CD
		, GL.TML_IF_SEQ
		, GL.GNTE_AMT
FROM	TES_IRR_HDR IH
		, TES_GNTE_HDR GH
		, TES_GNTE_CNTR_LIST GL
WHERE	1	= 1
AND		IH.GNTE_NO	= GH.GNTE_NO
AND		GH.GNTE_NO	= GL.GNTE_NO
AND		IH.IRR_NO	= GL.IRR_NO
#if (${irr_no} != '') 
AND		IH.IRR_NO	= @[irr_no]
#end
#if (${gnte_no} != '') 
AND		IH.GNTE_NO	= @[gnte_no]
#end
AND     GL.GNTE_PROC_TP_CD = 'I'
--AND		NVL(GH.DMY_FLG, 'N') = 'Y'			]]></sql>
			<params>
				<param name="irr_no" type="12" value="" out="N"/>
				<param name="gnte_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
