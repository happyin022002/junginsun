<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="WorkOrderPreviewDBDAOSearchEdi317VitMasterRSQL">
			<desc><![CDATA[SearchEdi317VitMaster]]></desc>
			<sql><![CDATA[
SELECT 
    DECODE(WO.WO_ISS_STS_CD, 'I', 'N', WO.WO_ISS_STS_CD) TYPE,
    SO.BKG_NO BKGNO,
    SO.BL_NO BLNO,
    SO.EQ_NO EQNO,
    SO.POD_CD POD,
    LOC1.LOC_NM POD_NAME,
    SO.DEL_CD DEL,
    LOC2.LOC_NM DEL_NAME,
    REPLACE(NVL(SO.FCTRY_NM, ''), CHR(13)||CHR(10), ' ') DO_NAME,
    REPLACE(NVL(SO.DOR_DE_ADDR, ''), CHR(13)||CHR(10), ' ') DO_ADDR,
    VN.USA_EDI_CD TRUCK_SCAC,
    VN.VNDR_LGL_ENG_NM TRUCK_NAME,
    ''RAIL_CARRIER,
    '' RAIL_ORIG,
    '' RAIL_DEST,
    '' DEL_RQ_DATETIME
FROM TRS_TRSP_SVC_ORD SO,
    TRS_TRSP_WRK_ORD WO,
    MDM_VENDOR VN,
    MDM_LOCATION LOC1,
    MDM_LOCATION LOC2
WHERE 1=1
    AND SO.TRSP_WO_OFC_CTY_CD = WO.TRSP_WO_OFC_CTY_CD(+)
    AND SO.TRSP_WO_SEQ = WO.TRSP_WO_SEQ(+)
    AND SO.VNDR_SEQ = VN.VNDR_SEQ(+)
    AND SO.FM_NOD_CD in ('USORFM1', 'USORFM2')
    AND SO.TRSP_BND_CD = 'I'
    AND SO.TRSP_CRR_MOD_CD = 'TD'
    AND SO.EQ_KND_CD = 'U'
    AND SO.CGO_TP_CD = 'F'
    AND WO.WO_ISS_STS_CD = 'I'
    AND SO.POD_CD = LOC1.LOC_CD(+)
    AND SO.DEL_CD = LOC2.LOC_CD(+)
    AND SO.TRSP_SO_OFC_CTY_CD = @[trsp_so_ofc_cty_cd]
    AND SO.TRSP_SO_SEQ = @[trsp_so_seq]
    AND SO.HJL_NO IS NULL
    AND WO.HJL_NO IS NULL			]]></sql>
			<params>
				<param name="trsp_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_so_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
