<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DistanceCreationDBDAOsearchDistanceHistoryRSQL">
			<desc><![CDATA[searchDistanceHistory]]></desc>
			<sql><![CDATA[
SELECT                                                    
   rownum seq          ,                                     
   SUBSTR(fm_nod_cd, 1, 5) fm_nod_cd           ,             
   SUBSTR(fm_nod_cd, 6) fm_nod_cd_sub           ,            
   fm_nod_zip_cd_ctnt  ,                                     
   SUBSTR(to_nod_cd, 1, 5) to_nod_cd           ,             
   SUBSTR(to_nod_cd, 6) to_nod_cd_sub           ,            
   to_nod_zip_cd_ctnt  ,                                     
   bzc_dist     		,                                        
   dist_meas_ut_cd     ,                                     
   conv_dist  			,                                        
   conv_meas_ut_cd  	,                                      
   to_char(cre_dt,'YYYYMMDD') cre_dt,    			               
   cre_usr_id                                                
 FROM TRS_AGMT_DIST_HIS A                                    
 WHERE 1=1			                                             
 	AND A.HJL_NO IS NULL		                                   

	#if(${frm_node} !='')
    AND A.fm_nod_cd = @[frm_node]
	#end		
    #if(${to_node} !='')
    AND A.to_nod_cd = @[to_node]						
	#end			
    #if(${frm_zip} !='')
    AND A.fm_nod_zip_cd_ctnt = @[frm_zip]
	#end
	#if(${to_zip} !='')
    AND A.to_nod_zip_cd_ctnt = @[to_zip]	
	#end			]]></sql>
			<params>
				<param name="frm_node" type="12" value="" out="N"/>
				<param name="to_node" type="12" value="" out="N"/>
				<param name="frm_zip" type="12" value="" out="N"/>
				<param name="to_zip" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
