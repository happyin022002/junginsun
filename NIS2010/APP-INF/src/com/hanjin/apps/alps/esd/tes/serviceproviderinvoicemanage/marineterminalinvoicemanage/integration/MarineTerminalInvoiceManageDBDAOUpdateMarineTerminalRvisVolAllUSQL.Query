<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="MarineTerminalInvoiceManageDBDAOUpdateMarineTerminalRvisVolAllUSQL">
			<desc><![CDATA[UpdateMarineTerminalRvisVolAllUSQL]]></desc>
			<sql><![CDATA[
UPDATE TES_TML_SO_DTL
SET RVIS_VOL_QTY = @[rvis_vol_qty],
	INV_AMT		 = @[rvis_vol_qty] * CTRT_RT * DECODE(NVL(RF_MNTR_DYS,'1'),'0','1',NVL(RF_MNTR_DYS,'1'))
WHERE TML_SO_OFC_CTY_CD = @[tml_so_ofc_cty_cd]
AND TML_SO_SEQ 		    = @[tml_so_seq]
AND SUBSTR(LGS_COST_CD,1,2) = SUBSTR(@[lgs_cost_cd],1,2)
AND SUBSTR(LGS_COST_CD,5,2) =  SUBSTR(@[lgs_cost_cd],5,2)
AND VSL_CD     = SUBSTR(@[vvd],1,4)
AND SKD_VOY_NO = SUBSTR(@[vvd],5,4)
AND SKD_DIR_CD = SUBSTR(@[vvd],9,1)
AND NVL(CNTR_TPSZ_CD,'X') = NVL(@[cntr_tpsz_cd],'X')
AND NVL(IO_BND_CD,'X') 	  = NVL(@[io_bnd_cd],'X')
AND NVL(DCGO_IND_CD,'X') 	= NVL(@[dcgo_ind_cd],'X')
AND NVL(IOC_CD,'X') 		= NVL(@[ioc_cd],'X')
AND NVL(LANE_CD,'X') 		= NVL(@[lane_cd],'X')
			]]></sql>
			<params>
				<param name="rvis_vol_qty" type="12" value="" out="N"/>
				<param name="tml_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="tml_so_seq" type="12" value="" out="N"/>
				<param name="lgs_cost_cd" type="12" value="" out="N"/>
				<param name="vvd" type="12" value="" out="N"/>
				<param name="cntr_tpsz_cd" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="dcgo_ind_cd" type="12" value="" out="N"/>
				<param name="ioc_cd" type="12" value="" out="N"/>
				<param name="lane_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
