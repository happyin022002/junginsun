<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ControlOfficeExceptionCaseManageDBDAOSearchYardCodeRSQL">
			<desc><![CDATA[Node 정보 조회]]></desc>
			<sql><![CDATA[
#if (${isZone} == 'Y')
    SELECT ZN_CD          AS YD_CD    ,
           ZN_CD          AS YD_NM    ,
           SUBSTR(ZN_CD,1,5)    AS LOC      ,
           SUBSTR(ZN_CD, 6,7)   AS NOD
      FROM MDM_ZONE
     WHERE SUBSTR(ZN_CD,1,5)  = @[searchStr]
       AND DELT_FLG           = 'N'
#elseif (${isZone} == 'A')
    (
    SELECT ZN_CD                AS YD_CD    ,
           ZN_CD                AS YD_NM    ,
           SUBSTR(ZN_CD,1,5)    AS LOC      ,
           SUBSTR(ZN_CD, 6,7)   AS NOD
      FROM MDM_ZONE
     WHERE SUBSTR(ZN_CD,1,5)  = @[searchStr]
       AND DELT_FLG           = 'N'
    )
    UNION
    #if (${TRSP_SO_EQ_KIND} == 'N')
        (
        SELECT
         LSE_CO_YD_CD          AS YD_CD    ,
         LSE_CO_YD_CD          AS YD_NM    ,
         SUBSTR(LSE_CO_YD_CD,1,5)    AS LOC      ,
         SUBSTR(LSE_CO_YD_CD, 6,7)   AS NOD
        FROM
         MDM_LSE_CO_YD
        WHERE
         SUBSTR(LSE_CO_YD_CD,1,5)            = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
    #elseif (${TRSP_SO_EQ_KIND} == 'A')
        (
        SELECT
         YD_CD             AS YD_CD    ,
         YD_CD             AS YD_NM    ,
         SUBSTR(YD_CD,1,5)       AS LOC      ,
         SUBSTR(YD_CD, 6,7)        AS NOD
        FROM
         MDM_YARD
        WHERE
         SUBSTR(YD_CD,1,5)                 = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
        UNION
        (
        SELECT
         LSE_CO_YD_CD          AS YD_CD    ,
         LSE_CO_YD_CD          AS YD_NM    ,
         SUBSTR(LSE_CO_YD_CD,1,5)    AS LOC      ,
         SUBSTR(LSE_CO_YD_CD, 6,7)   AS NOD
        FROM
         MDM_LSE_CO_YD
        WHERE
         SUBSTR(LSE_CO_YD_CD,1,5)            = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
    #else
        (
        SELECT
         YD_CD             AS YD_CD    ,
         YD_CD             AS YD_NM    ,
         SUBSTR(YD_CD,1,5)       AS LOC      ,
         SUBSTR(YD_CD, 6,7)        AS NOD
        FROM
         MDM_YARD
        WHERE
         SUBSTR(YD_CD,1,5)                 = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
    #end
#else
    #if (${TRSP_SO_EQ_KIND} == 'N')
        (
        SELECT
         LSE_CO_YD_CD          AS YD_CD    ,
         LSE_CO_YD_CD          AS YD_NM    ,
         SUBSTR(LSE_CO_YD_CD,1,5)    AS LOC      ,
         SUBSTR(LSE_CO_YD_CD, 6,7)   AS NOD
        FROM
         MDM_LSE_CO_YD
        WHERE
         SUBSTR(LSE_CO_YD_CD,1,5)            = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
    #elseif (${TRSP_SO_EQ_KIND} == 'A')
        (
        SELECT
         YD_CD             AS YD_CD    ,
         YD_CD             AS YD_NM    ,
         SUBSTR(YD_CD,1,5)       AS LOC      ,
         SUBSTR(YD_CD, 6,7)        AS NOD
        FROM
         MDM_YARD
        WHERE
         SUBSTR(YD_CD,1,5)                 = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
        UNION
        (
        SELECT
         LSE_CO_YD_CD          AS YD_CD    ,
         LSE_CO_YD_CD          AS YD_NM    ,
         SUBSTR(LSE_CO_YD_CD,1,5)    AS LOC      ,
         SUBSTR(LSE_CO_YD_CD, 6,7)   AS NOD
        FROM
         MDM_LSE_CO_YD
        WHERE
         SUBSTR(LSE_CO_YD_CD,1,5)            = @[searchStr]
        AND DELT_FLG                   = 'N'
        )
     #else
        SELECT
         YD_CD             AS YD_CD    ,
         YD_CD             AS YD_NM    ,
         SUBSTR(YD_CD,1,5)       AS LOC      ,
         SUBSTR(YD_CD, 6,7)        AS NOD
        FROM
         MDM_YARD
        WHERE
         SUBSTR(YD_CD,1,5)                 = @[searchStr]
        AND DELT_FLG                   = 'N'
        ORDER BY YD_CD
    #end
#end			]]></sql>
			<params>
				<param name="searchStr" type="12" value="CARYA" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
