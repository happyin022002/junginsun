<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="USAActualCustomerCodeManageDBDAOActualCustomerCodeManageListDetailCSQL">
			<desc><![CDATA[Actual Customer Code Detail정보 입력 및 수정]]></desc>
			<sql><![CDATA[
MERGE INTO    TRS_TRSP_USA_ACT_CUST_DTL
USING DUAL
ON            (TRSP_ACT_CUST_NO         = @[trsp_act_cust_no] and             	        /* ACT_CUST_NO  - PK */
               TRSP_ACT_CUST_SEQ        = @[trsp_act_cust_seq])               		        /* ACT_CUST_SEQ - PK */
WHEN NOT MATCHED THEN
              INSERT ( TRSP_ACT_CUST_NO
                     , TRSP_ACT_CUST_SEQ
                     , ACT_CUST_NM
                     , ACT_CUST_ZIP_CD
                     , ACT_CUST_ADDR
                     , ACT_CUST_PHN_NO
                     , ACT_CUST_FAX_NO
                     , CNTC_PSON_NM
                     , ACT_CUST_EML
                     , ACT_CUST_RMK
                     , CRE_USR_ID
                     , CRE_DT
                     , CRE_OFC_CD
                     , DELT_FLG
                     , DFLT_ACT_CUST_FLG
                     , UPD_USR_ID
                     , UPD_DT
                     )
              VALUES ( TO_NUMBER(@[trsp_act_cust_no])                           /* TRSP_ACT_CUST_NO */
                     , TO_NUMBER(@[trsp_act_cust_seq])				              /* TRSP_ACT_CUST_SEQ */
                     , @[act_cust_nm]                                      /* ACT_CUST_NM    	*/
                     , @[act_cust_zip_cd]                                      /* ACT_CUST_ZIP_CD */
                     , @[act_cust_addr]                                      /* ACT_CUST_ADDR    */
                     , @[act_cust_phn_no]                                      /* ACT_CUST_PHN_NO  */
                     , @[act_cust_fax_no]                                      /* ACT_CUST_FAX_NO  */
                     , @[cntc_pson_nm]                                      /* CNTC_PSON_NM    */
                     , @[act_cust_eml]                                      /* ACT_CUST_EML    */
                     , @[act_cust_rmk]                                      /* ACT_CUST_RMK    */
                     , @[cre_usr_id]                                      /* CRE_USR_ID    */
                     , SYSDATE								  /* CRE_DT        */
                     , @[cre_ofc_cd]                                      /* CRE_OFC_CD    */
                     , @[delt_flg]                                      /* DELT_FLG    */
                     , DECODE(@[dflt_act_cust_flg], '1','Y','N')                 /* DFLT_ACT_CUST_FLG  */
                     , @[upd_usr_id]                                    	/* UPD_USR_ID    */
                     , SYSDATE									/* UPD_DT        */
                     )
WHEN MATCHED THEN
             UPDATE SET  ACT_CUST_NM         = @[act_cust_nm]
                       , ACT_CUST_ZIP_CD     = @[act_cust_zip_cd]
                       , ACT_CUST_ADDR     	 = @[act_cust_addr]
                       , ACT_CUST_PHN_NO     = @[act_cust_phn_no]
                       , ACT_CUST_FAX_NO     = @[act_cust_fax_no]
                       , CNTC_PSON_NM        = @[cntc_pson_nm]
                       , ACT_CUST_EML        = @[act_cust_eml]
                       , ACT_CUST_RMK        = @[act_cust_rmk]
                       , DELT_USR_ID         = DECODE(@[delt_flg], 'Y', @[upd_usr_id],'')
                       , DELT_DT          	 = DECODE(@[delt_flg], 'Y', SYSDATE, '')
                       , DELT_OFC_CD         = DECODE(@[delt_flg], 'Y', @[delt_ofc_cd],'')
                       , DELT_FLG		     = NVL(@[delt_flg],'N')
                       , DFLT_ACT_CUST_FLG   = DECODE(@[dflt_act_cust_flg], '1','Y','N')
                       , CRE_OFC_CD          = @[cre_ofc_cd]
                       , UPD_USR_ID          = @[upd_usr_id]
                       , UPD_DT              = SYSDATE			]]></sql>
			<params>
				<param name="trsp_act_cust_no" type="12" value="1" out="N"/>
				<param name="trsp_act_cust_seq" type="12" value="1" out="N"/>
				<param name="act_cust_nm" type="12" value="1" out="N"/>
				<param name="act_cust_zip_cd" type="12" value="1" out="N"/>
				<param name="act_cust_addr" type="12" value="1" out="N"/>
				<param name="act_cust_phn_no" type="12" value="1" out="N"/>
				<param name="act_cust_fax_no" type="12" value="1" out="N"/>
				<param name="cntc_pson_nm" type="12" value="1" out="N"/>
				<param name="act_cust_eml" type="12" value="1" out="N"/>
				<param name="act_cust_rmk" type="12" value="1" out="N"/>
				<param name="cre_usr_id" type="12" value="1" out="N"/>
				<param name="cre_ofc_cd" type="12" value="1" out="N"/>
				<param name="delt_flg" type="12" value="1" out="N"/>
				<param name="dflt_act_cust_flg" type="12" value="1" out="N"/>
				<param name="upd_usr_id" type="12" value="1" out="N"/>
				<param name="delt_ofc_cd" type="12" value="1" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
