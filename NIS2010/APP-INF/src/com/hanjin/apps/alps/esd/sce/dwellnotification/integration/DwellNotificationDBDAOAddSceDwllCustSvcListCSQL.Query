<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DwellNotificationDBDAOAddSceDwllCustSvcListCSQL">
			<desc><![CDATA[SCE_DWLL_CUST_SVC_LIST에 데이터를 INSERT를 한다.]]></desc>
			<sql><![CDATA[
MERGE INTO SCE_DWLL_CUST_SVC_LIST A                       
	USING 
	(SELECT                                            
	     @[dwll_cust_cnt_cd] AS   DWLL_CUST_CNT_CD
        ,@[dwll_cust_seq]    AS   DWLL_CUST_SEQ
        ,@[subsc_eml]        AS   SUBSC_EML
         FROM DUAL 
     ) B                                     
	ON  (
         A.DWLL_CUST_CNT_CD    = B.DWLL_CUST_CNT_CD                 
	     AND  A.DWLL_CUST_SEQ  = B.DWLL_CUST_SEQ                    
	     AND  A.SUBSC_EML      = B.SUBSC_EML
	 )            
	WHEN MATCHED THEN                                        
	     UPDATE                                              
	     SET  A.DELT_FLG = 'N',
              A.UPD_USR_ID  = @[upd_usr_id] ,
              A.SND_OPT_CD = @[snd_opt_cd],
              A.SUBSC_RMK = @[subsc_rmk],
              A.EML_FM_CRM_FLG =  @[eml_fm_crm_flg],
              A.EML_BKG_ORG_FLG = @[eml_bkg_org_flg],
              A.EML_BKG_DEST_FLG = @[eml_bkg_dest_flg],
              A.EML_BKG_OTR_FLG =  @[eml_bkg_otr_flg],                         
	          A.UPD_DT      = sysdate
	WHEN NOT MATCHED THEN                                      
        INSERT
        (DWLL_CUST_CNT_CD
        ,DWLL_CUST_SEQ
        ,NTFC_SEQ
        ,SUBSC_EML
        ,SUBSC_RMK
        ,EML_FM_CRM_FLG
        ,EML_BKG_ORG_FLG
        ,EML_BKG_DEST_FLG
        ,EML_BKG_OTR_FLG
        ,DELT_USR_ID
        ,DELT_FLG
        ,DELT_DT
        ,CRE_OFC_CD
        ,CRE_USR_ID
        ,CRE_DT
        ,UPD_USR_ID
        ,UPD_DT
        ,SND_OPT_CD)
        VALUES (
         @[dwll_cust_cnt_cd]
        ,@[dwll_cust_seq]
        ,@[ntfc_seq]
        ,@[subsc_eml]
        ,@[subsc_rmk]
        ,@[eml_fm_crm_flg]
        ,@[eml_bkg_org_flg]
        ,@[eml_bkg_dest_flg]
        ,@[eml_bkg_otr_flg]
        ,@[delt_usr_id]
        ,@[delt_flg]
        ,TO_DATE(@[delt_dt],'YYYY-MM-DD HH24:MI:SS')
        ,@[cre_ofc_cd]
        ,@[cre_usr_id]
        ,SYSDATE
        ,@[upd_usr_id]
        ,SYSDATE
        ,@[snd_opt_cd]
        )			]]></sql>
			<params>
				<param name="dwll_cust_cnt_cd" type="12" value="" out="N"/>
				<param name="dwll_cust_seq" type="12" value="" out="N"/>
				<param name="subsc_eml" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="snd_opt_cd" type="12" value="" out="N"/>
				<param name="subsc_rmk" type="12" value="" out="N"/>
				<param name="eml_fm_crm_flg" type="12" value="" out="N"/>
				<param name="eml_bkg_org_flg" type="12" value="" out="N"/>
				<param name="eml_bkg_dest_flg" type="12" value="" out="N"/>
				<param name="eml_bkg_otr_flg" type="12" value="" out="N"/>
				<param name="ntfc_seq" type="12" value="" out="N"/>
				<param name="delt_usr_id" type="12" value="" out="N"/>
				<param name="delt_flg" type="12" value="" out="N"/>
				<param name="delt_dt" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
