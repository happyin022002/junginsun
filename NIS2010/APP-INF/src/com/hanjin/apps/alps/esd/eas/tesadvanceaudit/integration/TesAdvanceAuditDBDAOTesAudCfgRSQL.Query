<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TesAdvanceAuditDBDAOTesAudCfgRSQL">
			<desc><![CDATA[TesAudCfg]]></desc>
			<sql><![CDATA[
SELECT ETAAC.AUD_OFC_CD
     , TLC.LGS_COST_SUBJ_CD
     , ETAAC.LGS_COST_CD
     , TLC.LGS_COST_FULL_NM
     , (SELECT INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD00748' AND INTG_CD_VAL_CTNT = TTSC.CNTR_STY_CD) AS CNTR_STY_CD
     , (SELECT INTG_CD_VAL_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD01282' AND INTG_CD_VAL_CTNT = TTSC.COST_CALC_MZD_CD) AS COST_CALC_MZD_CD
     , ETAAC.EXPN_AUD_TGT_FLG
     , ETAAC.EXPN_MAX_PRMT_RTO
     , DECODE(ETAAC.TS_FLG, 'Y', 'T/S Only', 'N', 'Local', 'All') AS TS_FLG
     , (SELECT INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD03424' AND INTG_CD_VAL_CTNT = ETAAC.SPCL_CGO_TP_CALC_CD) AS SPCL_CGO_TP_CALC_CD
     , DECODE(ETAAC.TPSZ_GRP_FLG, 'Y', 'Yes', 'N', 'No', '') AS TPSZ_GRP_FLG
     , (SELECT INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD03423' AND INTG_CD_VAL_CTNT = ETAAC.ACT_VVD_CALC_CD) AS ACT_VVD_CALC_CD
     , (SELECT INTG_CD_VAL_DP_DESC FROM COM_INTG_CD_DTL WHERE INTG_CD_ID = 'CD03421' AND INTG_CD_VAL_CTNT = ETAAC.STO_PRD_CD) AS STO_PRD_CD
     , ETAAC.AUD_RMK
     , ETAAC.UPD_USR_ID
  FROM EAS_TML_AUTO_AUD_CRTE ETAAC
     , TES_TML_SO_COST TTSC
     , TES_LGS_COST TLC
 WHERE 1=1
   AND ETAAC.LGS_COST_CD      = TTSC.LGS_COST_CD 
   AND ETAAC.LGS_COST_CD      = TLC.LGS_COST_CD
   AND TTSC.EAS_AUD_FLG       = 'Y'
#if (${s_aud_ofc_cd} != '')
   AND ETAAC.AUD_OFC_CD       = @[s_aud_ofc_cd]
#end
#if (${s_lgs_cost_subj_cd} != '')
   AND TLC.LGS_COST_SUBJ_CD   = @[s_lgs_cost_subj_cd]
#end
#if (${s_cost_calc_mzd_cd} != '')
   AND TTSC.COST_CALC_MZD_CD  = @[s_cost_calc_mzd_cd]
#end
#if (${s_expn_aud_tgt_flg} != '')
   AND ETAAC.EXPN_AUD_TGT_FLG = @[s_expn_aud_tgt_flg]
#end
ORDER BY AUD_OFC_CD, LGS_COST_SUBJ_CD, LGS_COST_CD			]]></sql>
			<params>
				<param name="s_aud_ofc_cd" type="12" value="" out="N"/>
				<param name="s_lgs_cost_subj_cd" type="12" value="" out="N"/>
				<param name="s_cost_calc_mzd_cd" type="12" value="" out="N"/>
				<param name="s_expn_aud_tgt_flg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
