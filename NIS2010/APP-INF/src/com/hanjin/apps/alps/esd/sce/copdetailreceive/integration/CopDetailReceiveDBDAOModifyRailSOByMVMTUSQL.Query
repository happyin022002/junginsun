<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CopDetailReceiveDBDAOModifyRailSOByMVMTUSQL">
			<desc><![CDATA[ModifyRailSOByMVMT]]></desc>
			<sql><![CDATA[
MERGE INTO  TRS_TRSP_RAIL_BIL_ORD  D
            
            USING ( SELECT A.TRSP_SO_OFC_CTY_CD,A.TRSP_SO_SEQ,A.COP_NO, A.COST_ACT_GRP_SEQ
            FROM   TRS_TRSP_RAIL_BIL_ORD A
            WHERE  A.COP_NO      = @[v_cop_no]                                             
            AND    A.TRSP_BND_CD = 'I'
            AND    A.DELT_FLG    = 'N'
            GROUP BY A.TRSP_SO_OFC_CTY_CD,A.TRSP_SO_SEQ,A.COP_NO, A.COST_ACT_GRP_SEQ 
            ) S
            
            ON    ( D.TRSP_SO_OFC_CTY_CD = S.TRSP_SO_OFC_CTY_CD AND D.TRSP_SO_SEQ = S.TRSP_SO_SEQ )         
            
            WHEN MATCHED THEN UPDATE SET  D.TML_NOD_CD = @[in_nod_cd] 
            ,D.VD_DT      = TO_DATE(@[in_act_dt],'YYYY/MM/DD HH24:MI:SS') 
            ,D.LOG_UPD_DT = SYSDATE			]]></sql>
			<params>
				<param name="v_cop_no" type="12" value="" out="N"/>
				<param name="in_nod_cd" type="12" value="" out="N"/>
				<param name="in_act_dt" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
