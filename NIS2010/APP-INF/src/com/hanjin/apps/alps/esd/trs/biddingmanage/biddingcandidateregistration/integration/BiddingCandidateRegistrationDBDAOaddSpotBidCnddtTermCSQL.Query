<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BiddingCandidateRegistrationDBDAOaddSpotBidCnddtTermCSQL">
			<desc><![CDATA[addSpotBidCnddtTerm]]></desc>
			<sql><![CDATA[
MERGE
  INTO TRS_SPOT_BID_CNDDT_TERM USING DUAL ON (SPOT_BID_OFC_CD = @[spot_bid_ofc_cd]
           AND TRSP_CRR_MOD_CD = @[trsp_crr_mod_cd]
           AND NVL(@[fm_nod_cd], ' ')  LIKE SUBSTR(FM_NOD_CD, 1, LENGTH(@[fm_nod_cd]))||'%'
           AND NVL(@[via_nod_cd], ' ') LIKE SUBSTR(VIA_NOD_CD, 1, LENGTH(@[via_nod_cd]))||'%'
           AND NVL(@[dor_nod_cd], ' ') LIKE SUBSTR(DOR_NOD_CD, 1, LENGTH(@[dor_nod_cd]))||'%'
           AND NVL(@[to_nod_cd], ' ')  LIKE SUBSTR(TO_NOD_CD, 1, LENGTH(@[to_nod_cd]))||'%'
#if( (${fm_nod_cd} != '' && ${fm_nod_cd} != 'null') || (${via_nod_cd} != '' && ${via_nod_cd} != 'null') ||
     (${dor_nod_cd} != '' && ${dor_nod_cd} != 'null') || (${to_nod_cd} != '' && ${to_nod_cd} != 'null') )
           AND NOT (FM_NOD_CD IS NULL AND VIA_NOD_CD IS NULL AND DOR_NOD_CD IS NULL AND TO_NOD_CD IS NULL)
#end
)
       WHEN NOT MATCHED THEN
INSERT (SPOT_BID_CNDDT_TERM_SEQ,
               SPOT_BID_OFC_CD,
               TRSP_CRR_MOD_CD,
               FM_NOD_CD,
               VIA_NOD_CD,
               DOR_NOD_CD,
               TO_NOD_CD,
               LOCL_CRE_DT,
               LOCL_UPD_DT,
               CRE_OFC_CD,
               CRE_USR_ID,
               CRE_DT,
               UPD_USR_ID,
               UPD_DT )
VALUES(TO_CHAR(SYSDATE, 'yyyymmdd')||TRS_SPOT_BID_CNDT_TERM_SEQ.NEXTVAL,
               @[spot_bid_ofc_cd],
               @[trsp_crr_mod_cd],
               @[fm_nod_cd],
               @[via_nod_cd],
               @[dor_nod_cd],
               @[to_nod_cd],
               GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[cre_ofc_cd]),
               GLOBALDATE_PKG.TIME_LOCAL_OFC_FNC(@[cre_ofc_cd]),
               @[cre_ofc_cd],
               @[cre_usr_id],
               SYSDATE,
               @[cre_usr_id],
               SYSDATE )			]]></sql>
			<params>
				<param name="spot_bid_ofc_cd" type="12" value="" out="N"/>
				<param name="trsp_crr_mod_cd" type="12" value="" out="N"/>
				<param name="fm_nod_cd" type="12" value="" out="N"/>
				<param name="via_nod_cd" type="12" value="" out="N"/>
				<param name="dor_nod_cd" type="12" value="" out="N"/>
				<param name="to_nod_cd" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
