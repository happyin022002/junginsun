<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoQuotationManageDBDAOremoveAwkCgoShuttleTrfHdrDSQL">
			<desc><![CDATA[removeAwkCgoShuttleTrfHdr]]></desc>
			<sql><![CDATA[
DELETE FROM TRS_AWK_CGO_TRF_HDR D
WHERE 1=1
AND FM_YD_CD = @[fm_loc_cd]||@[fm_nod_yd_no]
AND TO_YD_CD = @[to_loc_cd]||@[to_nod_yd_no]
AND COND_NO = @[cond_no]
AND IO_GA_CD = @[io_ga_cd]
AND TRSP_CRR_MOD_CD = @[trsp_crr_mod_cd]
AND NOT EXISTS(
    SELECT 'X'
    FROM TRS_AWK_CGO_TRF_TP_SZ T, PRI_SCQ_AWK_ROUT_DTL PD
    WHERE 1=1
	AND T.FM_YD_CD = D.FM_YD_CD
	AND T.TO_YD_CD = D.TO_YD_CD
    AND T.COND_NO = D.COND_NO
    AND T.IO_GA_CD = D.IO_GA_CD
    AND T.TRSP_CRR_MOD_CD = D.TRSP_CRR_MOD_CD
    AND T.TRSP_AWK_TRF_VER_NO = D.TRSP_AWK_TRF_VER_NO
    AND T.SPCL_CGO_REF_SEQ = PD.SPCL_CGO_REF_SEQ
    UNION ALL
    SELECT 'X'
    FROM TRS_AWK_CGO_TRF_TP_SZ T, PRI_SCQ_AWK_ROUT_DTL_TMP PM
    WHERE 1=1
	AND T.FM_YD_CD = D.FM_YD_CD
	AND T.TO_YD_CD = D.TO_YD_CD
    AND T.COND_NO = D.COND_NO
    AND T.IO_GA_CD = D.IO_GA_CD
    AND T.TRSP_CRR_MOD_CD = D.TRSP_CRR_MOD_CD
    AND T.TRSP_AWK_TRF_VER_NO = D.TRSP_AWK_TRF_VER_NO
    AND T.SPCL_CGO_REF_SEQ = PM.SPCL_CGO_REF_SEQ
)			]]></sql>
			<params>
				<param name="fm_loc_cd" type="12" value="" out="N"/>
				<param name="fm_nod_yd_no" type="12" value="" out="N"/>
				<param name="to_loc_cd" type="12" value="" out="N"/>
				<param name="to_nod_yd_no" type="12" value="" out="N"/>
				<param name="cond_no" type="12" value="" out="N"/>
				<param name="io_ga_cd" type="12" value="" out="N"/>
				<param name="trsp_crr_mod_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
