<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="US204EDISetupDBDAOUpdateUSEDISetupUSQL">
			<desc><![CDATA[US EDI Setup 저장]]></desc>
			<sql><![CDATA[
MERGE INTO TRS_EDI_USA_RCVR_DTL A
USING (
	SELECT VNDR_SEQ, USA_EDI_CD 
	FROM MDM_VENDOR
	WHERE VNDR_SEQ = @[vndr_seq]
) B
ON (
	A.VNDR_SEQ = B.VNDR_SEQ
)
WHEN MATCHED THEN
	UPDATE SET A.EDI_RCVR_NM = UPPER(@[edi_rcvr_nm])
		, A.EDI_RCVR_NM_USE_FLG = DECODE(@[edi_rcvr_nm_use_flg],'0','N','1','Y')
		, A.UPD_USR_ID = @[upd_usr_id]
		, A.UPD_DT = SYSDATE
WHEN NOT MATCHED THEN
	INSERT (A.VNDR_SEQ, A.EDI_RCVR_NM, A.EDI_RCVR_NM_USE_FLG, A.CRE_OFC_CD, A.CRE_USR_ID, A.CRE_DT, A.UPD_USR_ID, A.UPD_DT)
	VALUES (@[vndr_seq], UPPER(@[edi_rcvr_nm]), DECODE(@[edi_rcvr_nm_use_flg],'0','N','1','Y'), @[cre_ofc_cd], @[cre_usr_id], SYSDATE, @[upd_usr_id], SYSDATE)			]]></sql>
			<params>
				<param name="vndr_seq" type="12" value="" out="N"/>
				<param name="edi_rcvr_nm" type="12" value="" out="N"/>
				<param name="edi_rcvr_nm_use_flg" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="cre_ofc_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
