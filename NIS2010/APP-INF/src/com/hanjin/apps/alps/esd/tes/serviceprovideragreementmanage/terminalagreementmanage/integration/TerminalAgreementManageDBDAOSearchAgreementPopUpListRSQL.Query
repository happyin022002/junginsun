<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TerminalAgreementManageDBDAOSearchAgreementPopUpListRSQL">
			<desc><![CDATA[Agreement HEADER 주요 정보 조회.]]></desc>
			<sql><![CDATA[
SELECT  tml_agmt_ofc_cty_cd	|| LPAD(tml_agmt_seq, 5, '0') tml_agmt_ofc_cty_cd
		, CASE	WHEN LENGTH(tml_agmt_ver_no) = 3 
				THEN LPAD(SUBSTR( tml_agmt_ver_no, 0, 1 ), 2, '0') || '.' || SUBSTR( tml_agmt_ver_no, 2, 2 )
				ELSE SUBSTR( tml_agmt_ver_no, 0, 2 ) || '.' || SUBSTR( tml_agmt_ver_no, 3, 2 )
		END TML_AGMT_VER_NO
		, yd_cd																
		, vndr_seq															
		, TO_CHAR(eff_fm_dt,'yyyy-mm-dd') EFF_FM_DT							
		, TO_CHAR(eff_to_dt,'yyyy-mm-dd') EFF_TO_DT							
FROM    TES_TML_AGMT_HDR 															
WHERE   tml_agmt_ofc_cty_cd IS NOT NULL
#if (${yd_cd} != '') 
AND		yd_cd = @[yd_cd]
#end
#if (${vndr_seq} != '') 
AND		vndr_seq = TO_NUMBER(@[vndr_seq])
#end
#if (${loc_cd} != '') 
AND		SUBSTR(yd_cd,1,5) = @[loc_cd]
#end
ORDER BY tml_agmt_seq, tml_agmt_ver_no			]]></sql>
			<params>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="vndr_seq" type="2" value="" out="N"/>
				<param name="loc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
