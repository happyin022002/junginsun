<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CreditIncentiveStatusDBDAOMultiMnrCreditIssueCSQL">
			<desc><![CDATA[M&R Credit Issue Save]]></desc>
			<sql><![CDATA[
MERGE INTO EAS_MNR_CR_ISS A USING DUAL
ON( A.CR_ISS_NO = @[cr_iss_no]
) 
WHEN MATCHED THEN
    UPDATE
	   SET RHQ_CD = @[rhq_cd]
          ,TEAM_CD = @[team_cd]
          ,MKR_CD = @[mkr_cd]
          ,CURR_CD = @[curr_cd]
          ,CR_ISS_DT = TO_DATE(@[cr_iss_dt],'YYYYMMDD')
          ,CR_ISS_UT_AMT = @[cr_iss_ut_amt]
          ,CR_ISS_QTY = @[cr_iss_qty]
          ,CR_ISS_TTL_AMT = @[cr_iss_ttl_amt]
          ,CR_ISS_RSN = @[cr_iss_rsn]
          ,LR_NM = @[lr_nm]
          ,AGMT_NO = @[agmt_no]
          ,LSTM_CD = @[lstm_cd]
          ,EQ_TPSZ_CD = @[eq_tpsz_cd]
          ,CR_ISS_EVID_NO = @[cr_iss_evid_no]
          ,CR_ISS_RMK = @[cr_iss_rmk]
          ,ATCH_FILE_LNK_ID = @[atch_file_lnk_id]
          ,UPD_USR_ID = @[usr_id]
          ,UPD_DT = SYSDATE
WHEN NOT MATCHED THEN
    INSERT(CR_ISS_NO
          ,RHQ_CD
          ,TEAM_CD
          ,MKR_CD
          ,CR_ISS_DT
          ,CURR_CD
          ,CR_ISS_UT_AMT
          ,CR_ISS_QTY
          ,CR_ISS_TTL_AMT 
          ,CR_ISS_RSN
          ,LR_NM
          ,AGMT_NO
          ,LSTM_CD
          ,EQ_TPSZ_CD
          ,CR_ISS_EVID_NO
          ,CR_ISS_RMK
          ,ATCH_FILE_LNK_ID
          ,CRE_USR_ID
          ,CRE_DT
          ,UPD_USR_ID
          ,UPD_DT
	)VALUES(
           @[cr_iss_no]
          ,@[rhq_cd]
          ,@[team_cd]
          ,@[mkr_cd]
          ,TO_DATE(@[cr_iss_dt],'YYYYMMDD')
          ,@[curr_cd]
          ,@[cr_iss_ut_amt]
          ,@[cr_iss_qty]
          ,@[cr_iss_ttl_amt]
          ,@[cr_iss_rsn]
          ,@[lr_nm]
          ,@[agmt_no]
          ,@[lstm_cd]
          ,@[eq_tpsz_cd]
          ,@[cr_iss_evid_no]
          ,@[cr_iss_rmk]
          ,@[atch_file_lnk_id]
          ,@[usr_id]
          ,SYSDATE
          ,@[usr_id]
          ,SYSDATE		
	)			]]></sql>
			<params>
				<param name="cr_iss_no" type="12" value="" out="N"/>
				<param name="rhq_cd" type="12" value="" out="N"/>
				<param name="team_cd" type="12" value="" out="N"/>
				<param name="mkr_cd" type="12" value="" out="N"/>
				<param name="curr_cd" type="12" value="" out="N"/>
				<param name="cr_iss_dt" type="12" value="" out="N"/>
				<param name="cr_iss_ut_amt" type="12" value="" out="N"/>
				<param name="cr_iss_qty" type="12" value="" out="N"/>
				<param name="cr_iss_ttl_amt" type="12" value="" out="N"/>
				<param name="cr_iss_rsn" type="12" value="" out="N"/>
				<param name="lr_nm" type="12" value="" out="N"/>
				<param name="agmt_no" type="12" value="" out="N"/>
				<param name="lstm_cd" type="12" value="" out="N"/>
				<param name="eq_tpsz_cd" type="12" value="" out="N"/>
				<param name="cr_iss_evid_no" type="12" value="" out="N"/>
				<param name="cr_iss_rmk" type="12" value="" out="N"/>
				<param name="atch_file_lnk_id" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
