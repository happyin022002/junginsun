<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="CreditIncentiveStatusDBDAOMultiMileageCSQL">
			<desc><![CDATA[Mileage Insert/Update]]></desc>
			<sql><![CDATA[
MERGE INTO EAS_BNF_MLG A USING DUAL
ON( A.BSE_YR = @[bse_yr]
AND A.INCNT_NO  = @[incnt_no]
) 
WHEN MATCHED THEN
     UPDATE SET RHQ_CD = @[rhq_cd]
               ,TEAM_NM = @[team_nm]
               ,BANK_NM = @[bank_nm]
               ,MLG_FM_DT = TO_DATE(@[mlg_fm_dt],'YYYYMMDD')
               ,MLG_TO_DT = TO_DATE(@[mlg_to_dt],'YYYYMMDD')
               ,PAY_AMT = @[pay_amt]
               ,MLG_ISS_DT = TO_DATE(@[mlg_iss_dt],'YYYYMMDD')
               ,MLG_PNT_AMT = @[mlg_pnt_amt]
               ,CSH_BAK_DT = TO_DATE(@[csh_bak_dt],'YYYYMMDD')
               ,CSH_BAK_AMT = @[csh_bak_amt]
               ,CSH_BAK_BAL_AMT = @[csh_bak_bal_amt]
               ,INCNT_RMK = @[incnt_rmk]
               ,ATCH_FILE_LNK_ID = @[atch_file_lnk_id]
               ,ATCH_N2ND_FILE_LNK_ID = @[atch_n2nd_file_lnk_id]
               ,UPD_USR_ID = @[usr_id]
               ,UPD_DT = SYSDATE
WHEN NOT MATCHED THEN
     INSERT( BSE_YR
            ,INCNT_NO
            ,RHQ_CD
            ,TEAM_NM
            ,BANK_NM
            ,MLG_FM_DT
            ,MLG_TO_DT
            ,PAY_AMT
            ,MLG_ISS_DT
            ,MLG_PNT_AMT
            ,CSH_BAK_DT
            ,CSH_BAK_AMT
            ,CSH_BAK_BAL_AMT
            ,INCNT_RMK
            ,ATCH_FILE_LNK_ID
            ,ATCH_N2ND_FILE_LNK_ID
            ,CRE_USR_ID
            ,CRE_DT
            ,UPD_USR_ID
            ,UPD_DT
	       )VALUES(
			 @[bse_yr]
            ,@[incnt_no]
            ,@[rhq_cd]
            ,@[team_nm]
            ,@[bank_nm]
            ,TO_DATE(@[mlg_fm_dt],'YYYYMMDD')
            ,TO_DATE(@[mlg_to_dt],'YYYYMMDD')
            ,@[pay_amt]
            ,TO_DATE(@[mlg_iss_dt],'YYYYMMDD')
            ,@[mlg_pnt_amt]
            ,TO_DATE(@[csh_bak_dt],'YYYYMMDD')
            ,@[csh_bak_amt]
            ,@[csh_bak_bal_amt]
            ,@[incnt_rmk]
            ,@[atch_file_lnk_id]
            ,@[atch_n2nd_file_lnk_id]
            ,@[usr_id]
            ,SYSDATE
            ,@[usr_id]
            ,SYSDATE
		   )			]]></sql>
			<params>
				<param name="bse_yr" type="12" value="" out="N"/>
				<param name="incnt_no" type="12" value="" out="N"/>
				<param name="rhq_cd" type="12" value="" out="N"/>
				<param name="team_nm" type="12" value="" out="N"/>
				<param name="bank_nm" type="12" value="" out="N"/>
				<param name="mlg_fm_dt" type="12" value="" out="N"/>
				<param name="mlg_to_dt" type="12" value="" out="N"/>
				<param name="pay_amt" type="12" value="" out="N"/>
				<param name="mlg_iss_dt" type="12" value="" out="N"/>
				<param name="mlg_pnt_amt" type="12" value="" out="N"/>
				<param name="csh_bak_dt" type="12" value="" out="N"/>
				<param name="csh_bak_amt" type="12" value="" out="N"/>
				<param name="csh_bak_bal_amt" type="12" value="" out="N"/>
				<param name="incnt_rmk" type="12" value="" out="N"/>
				<param name="atch_file_lnk_id" type="12" value="" out="N"/>
				<param name="atch_n2nd_file_lnk_id" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
