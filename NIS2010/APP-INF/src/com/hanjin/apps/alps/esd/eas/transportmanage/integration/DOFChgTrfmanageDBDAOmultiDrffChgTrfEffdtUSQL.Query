<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="DOFChgTrfmanageDBDAOmultiDrffChgTrfEffdtUSQL">
			<desc><![CDATA[Drop Off Charge Tariff 수정]]></desc>
			<sql><![CDATA[
UPDATE EAS_DRFF_CHG_TRF_HDR H
SET H.TO_EFF_DT = CASE WHEN @[fm_eff_dt] IS NOT NULL THEN TO_CHAR(TO_DATE(@[fm_eff_dt],'YYYYMMDD') - 1,'YYYYMMDD') ELSE H.TO_EFF_DT END  
WHERE 1=1
#if (${cnt_cd} != '') 
AND H.CNT_CD = @[cnt_cd]
#else 
AND H.RFA_NO = @[rfa_no]
#end
AND H.DRFF_CHG_TRF_SEQ = @[drff_chg_trf_seq]
AND H.DRFF_CHG_TRF_VER_NO = @[drff_chg_trf_ver_no]-1
AND NVL(H.DELT_FLG,'N') <> 'Y'			]]></sql>
			<params>
				<param name="fm_eff_dt" type="12" value="" out="N"/>
				<param name="cnt_cd" type="12" value="" out="N"/>
				<param name="rfa_no" type="12" value="" out="N"/>
				<param name="drff_chg_trf_seq" type="12" value="" out="N"/>
				<param name="drff_chg_trf_ver_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
