<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoQuotationManageDBDAOmanageTesTmlSoBbDtlUSQL">
			<desc><![CDATA[manageTesTmlSoBbDtl]]></desc>
			<sql><![CDATA[
MERGE INTO TES_TML_SO_BB_DTL BD
USING  DUAL
ON (    BD.TML_SO_OFC_CTY_CD = @[tml_so_ofc_cty_cd]
       AND BD.TML_SO_SEQ = @[tml_so_seq]
       AND BD.BKG_NO = @[bkg_no]
	   AND BD.BB_CGO_TP_SEQ = @[bb_cgo_tp_seq] 
)
WHEN MATCHED THEN
    UPDATE SET
        INV_AMT = @[inv_amt],
        BB_CGO_RMK = @[bb_cgo_rmk],
        UPD_USR_ID = @[upd_usr_id],
        UPD_DT = SYSDATE
WHEN NOT MATCHED THEN
    INSERT (
        TML_SO_OFC_CTY_CD,
        TML_SO_SEQ,
        TML_SO_DTL_SEQ,
        BB_CGO_TP_SEQ,
    	LGS_COST_CD,
    	BKG_NO,
        INV_AMT,
        BB_CGO_RMK,
        CRE_USR_ID,
        CRE_DT,
        UPD_USR_ID,
        UPD_DT
	) VALUES (
    	@[tml_so_ofc_cty_cd],
        @[tml_so_seq],
        @[tml_so_dtl_seq],
        @[bb_cgo_tp_seq],
        @[lgs_cost_cd],
        @[bkg_no],
        @[inv_amt],
        @[bb_cgo_rmk],
        @[cre_usr_id], 
        SYSDATE, 
        @[upd_usr_id],
        SYSDATE)			]]></sql>
			<params>
				<param name="tml_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="tml_so_seq" type="12" value="" out="N"/>
				<param name="bkg_no" type="12" value="" out="N"/>
				<param name="bb_cgo_tp_seq" type="12" value="" out="N"/>
				<param name="inv_amt" type="12" value="" out="N"/>
				<param name="bb_cgo_rmk" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="tml_so_dtl_seq" type="12" value="" out="N"/>
				<param name="lgs_cost_cd" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
