<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="InvoiceEdiHitDBDAOSaveInvEdiRcvEqCSQL">
			<desc><![CDATA[Invoice별 컨테이너(S/O) 저장(TRS_INV_EDI_RCV_EQ 테이블)]]></desc>
			<sql><![CDATA[
INSERT INTO TRS_INV_EDI_RCV_EQ(
	   INV_EDI_RCV_SEQ
	  ,INV_EDI_RCV_SUB_SEQ
	  ,INV_NO
	  ,INV_VNDR_SEQ
	  ,TRSP_SO_OFC_CTY_CD
	  ,TRSP_SO_SEQ
	  ,TRSP_WO_OFC_CTY_CD
	  ,TRSP_WO_SEQ
	  ,CGO_TP_CD
	  ,TRSP_BND_CD
	  ,EQ_TPSZ_CD
	  ,EQ_NO
	  ,VAL_CHK_FLG
	  ,EDI_MSG
	  ,CRE_USR_ID
	  ,CRE_DT
	  ,UPD_USR_ID
	  ,UPD_DT
  )VALUES(
	   @[inv_edi_rcv_seq]
      ,(SELECT CASE WHEN MAX(INV_EDI_RCV_SUB_SEQ) IS NULL THEN 1
                     ELSE MAX(INV_EDI_RCV_SUB_SEQ)+1 
                END
          FROM TRS_INV_EDI_RCV_EQ
        WHERE INV_EDI_RCV_SEQ = @[inv_edi_rcv_seq])
      ,@[inv_no]
      ,@[inv_vndr_seq]
      ,@[trsp_so_ofc_cty_cd]
      ,@[trsp_so_seq]
      ,@[trsp_wo_ofc_cty_cd]
      ,@[trsp_wo_seq]
      ,@[cgo_tp_cd]
      ,@[trsp_bnd_cd]
      ,SUBSTR(@[eq_tpsz_cd],1,1000)
      ,@[eq_no]
      ,'N' --VAL_CHK_FLG
      ,@[edi_msg]
      ,'HIT_INV_EDI' --CRE_USR_ID
      ,SYSDATE  --CRE_DT
      ,'HIT_INV_EDI' --UPD_USR_ID
      ,SYSDATE  --UPD_DT
  )			]]></sql>
			<params>
				<param name="inv_edi_rcv_seq" type="12" value="" out="N"/>
				<param name="inv_no" type="12" value="" out="N"/>
				<param name="inv_vndr_seq" type="12" value="" out="N"/>
				<param name="trsp_so_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_so_seq" type="12" value="" out="N"/>
				<param name="trsp_wo_ofc_cty_cd" type="12" value="" out="N"/>
				<param name="trsp_wo_seq" type="12" value="" out="N"/>
				<param name="cgo_tp_cd" type="12" value="" out="N"/>
				<param name="trsp_bnd_cd" type="12" value="" out="N"/>
				<param name="eq_tpsz_cd" type="12" value="" out="N"/>
				<param name="eq_no" type="12" value="" out="N"/>
				<param name="edi_msg" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
