<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="QualitativeEvaluationDBDAOSearchSPQualitativeEvRSQL">
			<desc><![CDATA[S/P Qualitative Evaulation Inquiry 조회]]></desc>
			<sql><![CDATA[
SELECT A.EV_YR
     , A.EG_ID
     , LPAD(A.SP_SEQ, 6, '0') AS SP_SEQ
     , (SELECT VNDR_LGL_ENG_NM FROM MDM_VENDOR WHERE VNDR_SEQ = A.SP_SEQ) AS SP_NAME
     , A.EV_MON
     , A.QUAL_EV_SEQ
     , A.EV_AREA_CTNT
     , A.EV_FCTR_CTNT
     , A.EV_WGT_RT
     , A.N1ST_EV_GRD_CTNT
     , A.N2ND_EV_GRD_CTNT
     , A.N3RD_EV_GRD_CTNT
     , CASE WHEN A.EV_GRD_CHK_CD = 'A'
            THEN '1' ELSE '0' END AS GRADE_A
     , CASE WHEN A.EV_GRD_CHK_CD = 'B'
            THEN '1' ELSE '0' END AS GRADE_B
     , CASE WHEN A.EV_GRD_CHK_CD = 'C'
            THEN '1' ELSE '0' END AS GRADE_C
     , A.EV_WGT_RSLT_RT
     , CASE WHEN A.EV_MON = '01' THEN 'JAN'
            WHEN A.EV_MON = '02' THEN 'FEB'
            WHEN A.EV_MON = '03' THEN 'MAR'
            WHEN A.EV_MON = '04' THEN 'APR'
            WHEN A.EV_MON = '05' THEN 'MAY'
            WHEN A.EV_MON = '06' THEN 'JUN'
            WHEN A.EV_MON = '07' THEN 'JUL'
            WHEN A.EV_MON = '08' THEN 'AUG'
            WHEN A.EV_MON = '09' THEN 'SEP'
            WHEN A.EV_MON = '10' THEN 'OCT'
            WHEN A.EV_MON = '11' THEN 'NOV'
            WHEN A.EV_MON = '12' THEN 'DEC'
            ELSE ''
       END AS CRE_DT
  FROM SPE_SP_QUAL_EV A
     , SPE_EV_GRP B
 WHERE A.EG_ID = B.EG_ID
   AND A.EV_YR              = @[s_ev_yr]
   AND A.EVR_USR_ID         = @[cre_usr_id]
#if(${s_sp_seq}!='')
   AND A.SP_SEQ             = @[s_sp_seq]
#end   
#if(${s_ev_mon}!='')
   AND TO_NUMBER(A.EV_MON)  = @[s_ev_mon]
#end   
#if(${s_eg_rhq_cd}!='')
   AND B.EG_RHQ_CD          = @[s_eg_rhq_cd]
#end
#if(${s_eg_ofc_cd}!='')
   AND B.EG_OFC_CD          = @[s_eg_ofc_cd]
#end
#if(${s_ev_svc_cate_cd}!='')
   AND B.EV_SVC_CATE_CD     = @[s_ev_svc_cate_cd]
#end

ORDER BY A.EV_YR,A.EV_MON,A.SP_SEQ			]]></sql>
			<params>
				<param name="s_ev_yr" type="12" value="" out="N"/>
				<param name="cre_usr_id" type="12" value="" out="N"/>
				<param name="s_sp_seq" type="12" value="" out="N"/>
				<param name="s_ev_mon" type="12" value="" out="N"/>
				<param name="s_eg_rhq_cd" type="12" value="" out="N"/>
				<param name="s_eg_ofc_cd" type="12" value="" out="N"/>
				<param name="s_ev_svc_cate_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
