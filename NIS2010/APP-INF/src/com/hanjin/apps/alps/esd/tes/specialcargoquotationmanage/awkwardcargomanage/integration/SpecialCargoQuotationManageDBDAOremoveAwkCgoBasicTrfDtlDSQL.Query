<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoQuotationManageDBDAOremoveAwkCgoBasicTrfDtlDSQL">
			<desc><![CDATA[removeAwkCgoBasicTrfDtl]]></desc>
			<sql><![CDATA[
DELETE FROM TES_AWK_CGO_TRF_DTL D
WHERE YD_CD = @[yd_cd]
AND TML_AWK_CGO_TRF_TP_CD = @[tml_awk_cgo_trf_tp_cd]
AND IO_BND_CD = @[io_bnd_cd]
AND IO_GA_CD = @[io_ga_cd]
AND TML_AWK_TS_CD = @[tml_awk_ts_cd]
AND COND_NO = @[cond_no]
AND NOT EXISTS (
    SELECT 'X'
    FROM TES_AWK_CGO_TRF_TP_SZ T, PRI_SCQ_AWK_YD_DTL PD
    WHERE 1=1
    AND T.YD_CD = D.YD_CD
    AND T.TML_AWK_CGO_TRF_TP_CD = D.TML_AWK_CGO_TRF_TP_CD
    AND T.IO_BND_CD = D.IO_BND_CD
    AND T.IO_GA_CD = D.IO_GA_CD
    AND T.TML_AWK_TS_CD = D.TML_AWK_TS_CD
    AND T.COND_NO = D.COND_NO
    AND T.TML_AWK_TRF_VER_NO = D.TML_AWK_TRF_VER_NO
    AND T.SPCL_CGO_REF_SEQ = PD.SPCL_CGO_REF_SEQ
	UNION ALL
	SELECT 'X'
    FROM TES_AWK_CGO_TRF_TP_SZ T, PRI_SCQ_AWK_YD_DTL_TMP PM
    WHERE 1=1
    AND T.YD_CD = D.YD_CD
    AND T.TML_AWK_CGO_TRF_TP_CD = D.TML_AWK_CGO_TRF_TP_CD
    AND T.IO_BND_CD = D.IO_BND_CD
    AND T.IO_GA_CD = D.IO_GA_CD
    AND T.TML_AWK_TS_CD = D.TML_AWK_TS_CD
    AND T.COND_NO = D.COND_NO
    AND T.TML_AWK_TRF_VER_NO = D.TML_AWK_TRF_VER_NO
    AND T.SPCL_CGO_REF_SEQ = PM.SPCL_CGO_REF_SEQ
)			]]></sql>
			<params>
				<param name="yd_cd" type="12" value="" out="N"/>
				<param name="tml_awk_cgo_trf_tp_cd" type="12" value="" out="N"/>
				<param name="io_bnd_cd" type="12" value="" out="N"/>
				<param name="io_ga_cd" type="12" value="" out="N"/>
				<param name="tml_awk_ts_cd" type="12" value="" out="N"/>
				<param name="cond_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
