<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PortTimePerformanceMgtDBDAOModifyPortTimeKPIListUSQL">
			<desc><![CDATA[해당 KPI 정보를 변경 한다.
History------------------------------------------------------------------------------------
2012.02.20 김민아 [CHM-201215901-01] Port Time Reduction project 개발 (2차)
2012.03.19 김민아 [CHM-201216890-01] Port Time Reduction project (2차) 수정사항 (Direction, 2nd Call추가)
2012.07.09 문동선 [CHM-201218855-01] Base line 입력화면 추가]]></desc>
			<sql><![CDATA[
#if(${tab_chk}=='KPI'||${tab_chk}=='')
UPDATE  OPF_PORT_TM_KPI
SET     FM_EFF_DT         = TO_DATE(REPLACE(@[fm_eff_dt_yy]||@[fm_eff_dt_md], '-', ''), 'YYYYMMDD')
      , TO_EFF_DT         = TO_DATE(REPLACE(@[to_eff_dt_yy]||@[to_eff_dt_md], '-', ''), 'YYYYMMDD')
      , TTL_CNTR_MV_KNT   = NVL(@[ttl_cntr_mv_knt]  , 0)
      , STM_IN_HRS        = NVL(@[stm_in_hrs]       , 0)
      , VSL_ARR_HRS       = NVL(@[vsl_arr_hrs]      , 0) --05
      , TML_OP_HRS        = NVL(@[tml_op_hrs]       , 0)
      , VSL_DEP_HRS       = NVL(@[vsl_dep_hrs]      , 0)
      , STM_OUT_HRS       = NVL(@[stm_out_hrs]      , 0)
      , PORT_STAY_HRS     = NVL(@[port_stay_hrs]    , 0)
      , GRS_TML_PROD_HRS  = NVL(@[grs_tml_prod_hrs] , 0) --10
      , GRS_CRN_PROD_HRS  = NVL(@[grs_crn_prod_hrs] , 0)
      , NET_CRN_PROD_HRS  = NVL(@[net_crn_prod_hrs] , 0)
      , TWN_LFT_HRS       = NVL(@[twn_lft_hrs]      , 0)
      , DUL_CYC_HRS       = NVL(@[dul_cyc_hrs]      , 0)
      , RSTWG_HRS         = NVL(@[rstwg_hrs]        , 0) --15
      , UPD_USR_ID        = @[upd_usr_id]
      , UPD_DT            = SYSDATE
WHERE   1=1
AND     KPI_TGT_YR        = @[kpi_tgt_yr]
AND     SLAN_CD           = @[slan_cd]
AND     VPS_PORT_CD       = @[vps_port_cd]
AND     KPI_VER_SEQ       = @[kpi_ver_seq]
AND     PORT_KPI_DIR_CD   = NVL(@[port_kpi_dir_cd], 'A')
AND     CLPT_IND_SEQ      = NVL(@[clpt_ind_seq], 1)
#end
#if(${tab_chk}=='BSEL')
UPDATE  OPF_PORT_TM_BSEL
SET     FM_EFF_DT         = TO_DATE(REPLACE(@[fm_eff_dt_yy]||@[fm_eff_dt_md], '-', ''), 'YYYYMMDD')
      , TO_EFF_DT         = TO_DATE(REPLACE(@[to_eff_dt_yy]||@[to_eff_dt_md], '-', ''), 'YYYYMMDD')
      , TTL_CNTR_MV_KNT   = NVL(@[ttl_cntr_mv_knt]  , 0)
      , STM_IN_HRS        = NVL(@[stm_in_hrs]       , 0)
      , VSL_ARR_HRS       = NVL(@[vsl_arr_hrs]      , 0) --05
      , TML_OP_HRS        = NVL(@[tml_op_hrs]       , 0)
      , VSL_DEP_HRS       = NVL(@[vsl_dep_hrs]      , 0)
      , STM_OUT_HRS       = NVL(@[stm_out_hrs]      , 0)
      , PORT_STAY_HRS     = NVL(@[port_stay_hrs]    , 0)
      , GRS_TML_PROD_HRS  = NVL(@[grs_tml_prod_hrs] , 0) --10
      , GRS_CRN_PROD_HRS  = NVL(@[grs_crn_prod_hrs] , 0)
      , NET_CRN_PROD_HRS  = NVL(@[net_crn_prod_hrs] , 0)
      , TWN_LFT_HRS       = NVL(@[twn_lft_hrs]      , 0)
      , DUL_CYC_HRS       = NVL(@[dul_cyc_hrs]      , 0)
      , RSTWG_HRS         = NVL(@[rstwg_hrs]        , 0) --15
      , UPD_USR_ID        = @[upd_usr_id]
      , UPD_DT            = SYSDATE
WHERE   1=1
AND     BSEL_YR           = @[kpi_tgt_yr]
AND     SLAN_CD           = @[slan_cd]
AND     VPS_PORT_CD       = @[vps_port_cd]
AND     PORT_BSEL_DIR_CD  = NVL(@[port_kpi_dir_cd], 'A')
AND     CLPT_IND_SEQ      = NVL(@[clpt_ind_seq], 1)
#end			]]></sql>
			<params>
				<param name="fm_eff_dt_yy" type="12" value="" out="N"/>
				<param name="fm_eff_dt_md" type="12" value="" out="N"/>
				<param name="to_eff_dt_yy" type="12" value="" out="N"/>
				<param name="to_eff_dt_md" type="12" value="" out="N"/>
				<param name="ttl_cntr_mv_knt" type="12" value="" out="N"/>
				<param name="stm_in_hrs" type="12" value="" out="N"/>
				<param name="vsl_arr_hrs" type="12" value="" out="N"/>
				<param name="tml_op_hrs" type="12" value="" out="N"/>
				<param name="vsl_dep_hrs" type="12" value="" out="N"/>
				<param name="stm_out_hrs" type="12" value="" out="N"/>
				<param name="port_stay_hrs" type="12" value="" out="N"/>
				<param name="grs_tml_prod_hrs" type="12" value="" out="N"/>
				<param name="grs_crn_prod_hrs" type="12" value="" out="N"/>
				<param name="net_crn_prod_hrs" type="12" value="" out="N"/>
				<param name="twn_lft_hrs" type="12" value="" out="N"/>
				<param name="dul_cyc_hrs" type="12" value="" out="N"/>
				<param name="rstwg_hrs" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="kpi_tgt_yr" type="12" value="" out="N"/>
				<param name="slan_cd" type="12" value="" out="N"/>
				<param name="vps_port_cd" type="12" value="" out="N"/>
				<param name="kpi_ver_seq" type="12" value="" out="N"/>
				<param name="port_kpi_dir_cd" type="12" value="" out="N"/>
				<param name="clpt_ind_seq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
