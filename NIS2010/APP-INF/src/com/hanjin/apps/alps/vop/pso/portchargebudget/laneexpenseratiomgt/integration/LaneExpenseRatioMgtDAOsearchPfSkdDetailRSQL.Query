<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="LaneExpenseRatioMgtDAOsearchPfSkdDetailRSQL">
			<desc><![CDATA[입력 받은 Lane Code로 생성된 Standard P/F SKD Detail 정보를 조회한다.]]></desc>
			<sql><![CDATA[
SELECT  SKD_DIR_CD, PORT_CD loc_cd
, DECODE(VSL_SLAN_DIR_SEQ + IN_BND, 101, 100, CASE WHEN IN_BND < 100 AND IN_BND > 0 THEN IN_BND ELSE 0 END) OB_RTO
, DECODE(VSL_SLAN_DIR_SEQ + OUT_BND, 102, 100, CASE WHEN OUT_BND < 100 AND OUT_BND > 0 THEN OUT_BND ELSE 0 END) IB_RTO
, VSL_SLAN_CD slan_cd 
FROM    (
			SELECT
				T2.SKD_DIR_CD, T2.PORT_CD, T2.TURN_PORT_IND_CD, T2.PORT_ROTN_SEQ, T4.VSL_SLAN_DIR_SEQ,T1.VSL_SLAN_CD ,
                DECODE(TURN_PORT_IND_CD, 'Y', 50, DECODE(PORT_ROTN_SEQ||TURN_PORT_IND_CD, '1N', 50, 100)) IN_BND,
                DECODE(TURN_PORT_IND_CD, 'Y', 50, DECODE(PORT_ROTN_SEQ||TURN_PORT_IND_CD, '1N', 50, 100)) OUT_BND
            FROM    VSK_PF_SKD T1, VSK_PF_SKD_DTL T2, MDM_VSL_SVC_LANE T3, MDM_VSL_SVC_LANE_DIR T4
            WHERE   T1.VSL_SLAN_CD      = T2.VSL_SLAN_CD
            AND     T1.PF_SVC_TP_CD     = T2.PF_SVC_TP_CD
            AND     T1.VSL_SLAN_CD      = T3.VSL_SLAN_CD
            AND     T2.VSL_SLAN_CD      = T4.VSL_SLAN_CD
            AND     T2.SKD_DIR_CD       = T4.VSL_SLAN_DIR_CD
            AND     T1.VSL_SLAN_CD      = @[vsl_slan_cd]
            AND     T1.SLAN_STND_FLG    = 'Y'
            AND     T3.DELT_FLG         = 'N'
            AND     T2.TURN_PORT_IND_CD <> 'F'
            ORDER BY T2.PORT_ROTN_SEQ
        )			]]></sql>
			<params>
				<param name="vsl_slan_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
