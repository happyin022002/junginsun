<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="SpecialCargoMasterDataMgtDBDAOModifyPackingInstructionRegulationFlgUSQL">
			<desc><![CDATA[ModifyPackingInstructionRegulationFlg]]></desc>
			<sql><![CDATA[
UPDATE SCG_PCK_REGU
   SET 
       REGU_PCK_CD_FLG = 'N'   -- FROM SCG_PCK_REGU_PKG_CD
      ,REGU_IBC_FLG = 'N'   --   FROM SCG_PCK_REGU_PKG_IBC_CD
      ,REGU_PCK_ORG_PRX_FLG = DECODE((SELECT COUNT(1) 
                                   FROM SCG_PCK_REGU_ORG_PRX
                                  WHERE IMDG_PCK_INSTR_CD = @[imdg_pck_instr_cd]
                                    AND IMDG_PCK_INSTR_SEQ = @[imdg_pck_instr_seq] 
                                    AND REGU_DP_NO = @[regu_dp_no]
								    AND DELT_FLG = 'N'), 0, 'N', 'Y')
      ,REGU_PCK_MZD_FLG = DECODE((SELECT COUNT(1) 
                                   FROM SCG_PCK_REGU_MZD
                                  WHERE IMDG_PCK_INSTR_CD = @[imdg_pck_instr_cd]
                                    AND IMDG_PCK_INSTR_SEQ = @[imdg_pck_instr_seq] 
                                    AND REGU_DP_NO = @[regu_dp_no]
								    AND DELT_FLG = 'N'), 0, 'N', 'Y')
      ,REGU_IMG_FLG = DECODE((SELECT COUNT(1) 
                                   FROM SCG_PCK_REGU_IMG
                                  WHERE IMDG_PCK_INSTR_CD = @[imdg_pck_instr_cd]
                                    AND IMDG_PCK_INSTR_SEQ = @[imdg_pck_instr_seq] 
                                    AND REGU_DP_NO = @[regu_dp_no]
								    AND DELT_FLG = 'N'), 0, 'N', 'Y')
      ,UPD_USR_ID = @[upd_usr_id]
      ,UPD_DT = SYSDATE
 WHERE IMDG_PCK_INSTR_CD = @[imdg_pck_instr_cd]
   AND IMDG_PCK_INSTR_SEQ = @[imdg_pck_instr_seq]  
   AND REGU_DP_NO = @[regu_dp_no]			]]></sql>
			<params>
				<param name="imdg_pck_instr_cd" type="12" value="" out="N"/>
				<param name="imdg_pck_instr_seq" type="12" value="" out="N"/>
				<param name="regu_dp_no" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
