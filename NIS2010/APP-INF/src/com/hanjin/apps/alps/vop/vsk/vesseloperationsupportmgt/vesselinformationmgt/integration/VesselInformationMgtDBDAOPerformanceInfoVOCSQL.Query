<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselInformationMgtDBDAOPerformanceInfoVOCSQL">
			<desc><![CDATA[Performance tab 의 form 값들을 저장한다.

//History
2014.04.16 박다은 [CHM-201429675-01] Voyage Performance내 Lane Code 구분]]></desc>
			<sql><![CDATA[
MERGE INTO VSK_VSL_ADD_SPEC A 
	USING(
		SELECT MAX(VSL_CD) AS VSL_CD
		  FROM VSK_VSL_SKD 
		 WHERE 1=1
		   and VSL_CD = @[vsl_cd]
		  ) B
		ON( A.VSL_CD = B.VSL_CD)
	WHEN MATCHED THEN
	 UPDATE 
   			SET      
     			  CTCL_RPM_NO        	= REPLACE(@[ctcl_rpm_no],',','')
     			 ,CTCL_TO_RPM_NO        = REPLACE(@[ctcl_to_rpm_no],',','')        
     			 ,OP_MIN_RPM_NO      	= @[op_min_rpm_no]      
     			 ,OP_MIN_SPD         	= @[op_min_spd]         
     			 ,SLW_STMNG_FLG      	= @[slw_stmng_flg]      
     			 ,SPR_SLW_STMNG_FLG  	= @[spr_slw_stmng_flg]  
     			 ,FUEL_SAV_EQ_FLG    	= @[fuel_sav_eq_flg]    
     			 ,IN_HLD_PER_TR_KNT  	= @[in_hld_per_tr_knt]  
     			 ,IN_HLD_PER_ROW_KNT 	= @[in_hld_per_row_knt]  
     			 ,HTCH_CVR_IN_HLD_KNT	= @[htch_cvr_in_hld_knt]
     			 ,ON_DECK_PER_TR_KNT 	= @[on_deck_per_tr_knt] 
     			 ,ON_DECK_PER_ROW_KNT	= @[on_deck_per_row_knt]
     			 ,BOW_HGT            	= @[bow_hgt]            
     			 ,TRSM_HGT           	= @[trsm_hgt]           
     			 ,SHP_IDX_SCRE       	= @[shp_idx_scre]
				 ,AMP_TP_CD         	= @[amp_tp_cd]
				 ,VSL_LOD_RTO			= @[vsl_lod_rto]	 
     			 ,UPD_USR_ID         	= @[usr_id]
      			 ,UPD_DT             	= SYSDATE  
     			      			        
	WHEN NOT MATCHED THEN
	 INSERT 
    		   (
                 VSL_CD             
                ,CTCL_RPM_NO
                ,CTCL_TO_RPM_NO        
        		,OP_MIN_RPM_NO      
        		,OP_MIN_SPD         
        		,SLW_STMNG_FLG      
        		,SPR_SLW_STMNG_FLG  
        		,FUEL_SAV_EQ_FLG    
        		,IN_HLD_PER_TR_KNT  
        		,IN_HLD_PER_ROW_KNT 
        		,HTCH_CVR_IN_HLD_KNT
        		,ON_DECK_PER_TR_KNT 
        		,ON_DECK_PER_ROW_KNT
        		,BOW_HGT            
        		,TRSM_HGT 
     			,SHP_IDX_SCRE
				,AMP_TP_CD
     			,VSL_LOD_RTO            
        		,CRE_USR_ID         
        		,CRE_DT             
     			,UPD_USR_ID         
     			,UPD_DT             
     
     			
       				)            
	   VALUES (
			 @[vsl_cd]
			,REPLACE(@[ctcl_rpm_no],',','')
			,REPLACE(@[ctcl_to_rpm_no],',','')
			,@[op_min_rpm_no]
			,@[op_min_spd]
			,@[slw_stmng_flg]
			,@[spr_slw_stmng_flg]
			,@[fuel_sav_eq_flg]
			,@[in_hld_per_tr_knt]
			,@[in_hld_per_row_knt]
			,@[htch_cvr_in_hld_knt]
			,@[on_deck_per_tr_knt]
			,@[on_deck_per_row_knt]
			,@[bow_hgt]
			,@[trsm_hgt]
			,@[shp_idx_scre]
			,@[amp_tp_cd]
			,@[vsl_lod_rto]
        	,@[usr_id]
        	,SYSDATE
        	,@[usr_id]
        	,SYSDATE

       			)			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="ctcl_rpm_no" type="12" value="" out="N"/>
				<param name="ctcl_to_rpm_no" type="12" value="" out="N"/>
				<param name="op_min_rpm_no" type="12" value="" out="N"/>
				<param name="op_min_spd" type="12" value="" out="N"/>
				<param name="slw_stmng_flg" type="12" value="" out="N"/>
				<param name="spr_slw_stmng_flg" type="12" value="" out="N"/>
				<param name="fuel_sav_eq_flg" type="12" value="" out="N"/>
				<param name="in_hld_per_tr_knt" type="12" value="" out="N"/>
				<param name="in_hld_per_row_knt" type="12" value="" out="N"/>
				<param name="htch_cvr_in_hld_knt" type="12" value="" out="N"/>
				<param name="on_deck_per_tr_knt" type="12" value="" out="N"/>
				<param name="on_deck_per_row_knt" type="12" value="" out="N"/>
				<param name="bow_hgt" type="12" value="" out="N"/>
				<param name="trsm_hgt" type="12" value="" out="N"/>
				<param name="shp_idx_scre" type="12" value="" out="N"/>
				<param name="amp_tp_cd" type="12" value="" out="N"/>
				<param name="vsl_lod_rto" type="12" value="" out="N"/>
				<param name="usr_id" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
