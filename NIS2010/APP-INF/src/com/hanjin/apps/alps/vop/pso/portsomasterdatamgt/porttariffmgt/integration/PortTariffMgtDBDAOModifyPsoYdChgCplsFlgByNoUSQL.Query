<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="PortTariffMgtDBDAOModifyPsoYdChgCplsFlgByNoUSQL">
			<desc><![CDATA[PSO_YD_CHG CPLS_FLG를 수정한다.

------------------------------------------------
History
2011.10.31 진마리아 선처리(SRM-201121014) [VOP-PSO] Tariff Value Management 화면 로직 변경]]></desc>
			<sql><![CDATA[
UPDATE PSO_YD_CHG A
SET    A.CPLS_FLG = NVL2(@[cpls_flg]
                        ,DECODE(A.YD_CHG_VER_SEQ, @[yd_chg_ver_seq]
                               ,CASE WHEN @[cpls_flg] IN ('Y','N') THEN @[cpls_flg]
                                     ELSE DECODE(@[cpls_flg], 0, 'N', 1, 'Y')
                                END     
                               ,A.CPLS_FLG)
                        ,A.CPLS_FLG) 
WHERE  A.YD_CHG_NO = @[yd_chg_no]
  AND  A.YD_CHG_VER_SEQ = @[yd_chg_ver_seq]			]]></sql>
			<params>
				<param name="cpls_flg" type="12" value="" out="N"/>
				<param name="yd_chg_ver_seq" type="12" value="" out="N"/>
				<param name="yd_chg_no" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
