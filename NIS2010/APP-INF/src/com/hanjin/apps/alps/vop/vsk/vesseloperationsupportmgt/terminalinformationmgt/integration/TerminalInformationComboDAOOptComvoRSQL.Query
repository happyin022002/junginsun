<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TerminalInformationComboDAOOptComvoRSQL">
			<desc><![CDATA[Combo Search]]></desc>
			<sql><![CDATA[
SELECT	A.YD_CD	AS VAL
	  , A.YD_NM AS NAME
FROM	MDM_YARD		A,
		(	SELECT LOC_CD, 'HAMRU' POR_RHQ
			FROM   MDM_LOCATION
			WHERE  DECODE(CONTI_CD, 'F', 'E', CONTI_CD) = 'E'
			AND    NVL(DELT_FLG, 'N') 	= 'N'
			AND    CALL_PORT_FLG 		= 'Y'
			AND    LOC_CD <> 'RUVVO'
			UNION ALL
			SELECT LOC_CD, 'PHXRA' POR_RHQ
			FROM   MDM_LOCATION
			WHERE  CONTI_CD  			= 'M'
			AND    NVL(DELT_FLG, 'N') 	= 'N'
			AND    CALL_PORT_FLG 		= 'Y'
			UNION ALL
			SELECT LOC_CD, DECODE(SCONTI_CD, 'AF', 'SHARC', 'SINRS') POR_RHQ
			FROM   MDM_LOCATION
			WHERE  CONTI_CD  			= 'A'
			AND    NVL(DELT_FLG, 'N') 	= 'N'
			AND    CALL_PORT_FLG 		= 'Y'
		    AND    CNT_CD				NOT IN ('KR','JP')
			UNION ALL
			SELECT LOC_CD, 'SELSC' POR_RHQ
			FROM   MDM_LOCATION
			WHERE  CONTI_CD  			= 'A'
			AND    NVL(DELT_FLG, 'N') 	= 'N'
			AND    CALL_PORT_FLG 		= 'Y'
		    AND    CNT_CD				= 'KR'
			UNION ALL
			SELECT LOC_CD, 'TYOSC' POR_RHQ
			FROM   MDM_LOCATION
			WHERE  CONTI_CD  			= 'A'
			AND    NVL(DELT_FLG, 'N') 	= 'N'
			AND    CALL_PORT_FLG 		= 'Y'
		    AND    CNT_CD				= 'JP'
		    UNION ALL
		    SELECT LOC_CD, 'VVOIA' POR_RHQ
		    FROM   MDM_LOCATION
		    WHERE  LOC_CD = 'RUVVO'
		    AND    NVL(DELT_FLG, 'N') = 'N'
 		    AND    CALL_PORT_FLG = 'Y'
		)B
WHERE	A.LOC_CD		=	B.LOC_CD
#if (${loc_cd} != '') 
AND	A.LOC_CD = @[loc_cd]
#end
#if (${por_rhq} != '') 
AND	B.POR_RHQ = @[por_rhq]
#end
ORDER BY A.YD_CD			]]></sql>
			<params>
				<param name="loc_cd" type="12" value="" out="N"/>
				<param name="por_rhq" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
