<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselScheduleMgtDBDAOModifyVskVslSkdUSQL">
			<desc><![CDATA[VSK_VSL_SKD의 VVD 정보를 수정합니다.

---------------------------------------------
HISTORY
2011.10.18 표준희 CHM201113956-01 [VOP-VSK] VVD내 ACTUAL CARRIER 적용 로직 변경
]]></desc>
			<sql><![CDATA[
UPDATE 		VSK_VSL_SKD 	 	X
SET			X.SKD_STS_CD 		= NVL(@[skd_sts_cd]					, SKD_STS_CD	)
		,	X.SKD_VOY_TP_CD 	= NVL(@[skd_voy_tp_cd]				, SKD_VOY_TP_CD	)
		,	X.SKD_USD_IND_CD 	= NVL(@[skd_usd_ind_cd]				, SKD_USD_IND_CD)
		,	X.PF_SKD_TP_CD 		= NVL(@[pf_skd_tp_cd]				, PF_SKD_TP_CD	)
		,	X.ST_PORT_CD 		= NVL(@[st_port_cd]					, ST_PORT_CD	)
		,	X.N1ST_PORT_BRTH_DT = NVL(TO_DATE(@[n1st_port_brth_dt]	,'YYYYMMDDHH24MI'), N1ST_PORT_BRTH_DT)
		,	X.PSDO_VVD_CD 		= NVL(@[psdo_vvd_cd]				, PSDO_VVD_CD	)
		,	X.CO_CD 			= NVL(@[co_cd]						, CO_CD			)
		,	X.SKD_RMK 			= LTRIM(NVL(@[skd_rmk]				, SKD_RMK		))
		,	X.UPD_USR_ID 		= @[upd_usr_id]
		,	X.UPD_DT 			= SYSDATE
		,	X.ACT_CRR_CD 		= NVL((	SELECT 	V.ACT_CRR_CD 
										FROM 	VSK_VSL_SKD		V
    				   					WHERE 	V.VSL_CD 		= @[vsl_cd]
										AND 	V.SKD_VOY_NO 	= @[skd_voy_no]
     									AND 	V.SKD_DIR_CD 	= @[skd_dir_cd]), @[act_crr_cd])

		--:: VSL_SLAN_CD = NVL([vsl_slan_cd], VSL_SLAN_CD)::2013-04-09 주석처리 ::--
WHERE		X.VSL_CD 			= @[vsl_cd]
AND			X.SKD_VOY_NO 		= @[skd_voy_no]
AND			X.SKD_DIR_CD 		= @[skd_dir_cd]			]]></sql>
			<params>
				<param name="skd_sts_cd" type="12" value="" out="N"/>
				<param name="skd_voy_tp_cd" type="12" value="" out="N"/>
				<param name="skd_usd_ind_cd" type="12" value="" out="N"/>
				<param name="pf_skd_tp_cd" type="12" value="" out="N"/>
				<param name="st_port_cd" type="12" value="" out="N"/>
				<param name="n1st_port_brth_dt" type="12" value="" out="N"/>
				<param name="psdo_vvd_cd" type="12" value="" out="N"/>
				<param name="co_cd" type="12" value="" out="N"/>
				<param name="skd_rmk" type="12" value="" out="N"/>
				<param name="upd_usr_id" type="12" value="" out="N"/>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="act_crr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
