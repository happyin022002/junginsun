<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselPositionPollingManagementDBDAOCreatePositionPollingHeaderCSQL">
			<desc><![CDATA[CreatePositionPollingHeader]]></desc>
			<sql><![CDATA[
INSERT  INTO    VSK_VSL_PSN_PLNG_HDR X
        (   X.RCV_DT
          , X.DLY_RCV_SEQ
          , X.FILE_NM
		  , X.RCV_CTNT
          , X.CRE_USR_ID 
          , X.CRE_DT
          , X.UPD_USR_ID
          , X.UPD_DT
        )
VALUES  ( 
			@[rcv_dt] 
		  ,	@[dly_rcv_seq]
		  , @[file_nm]
          , CASE WHEN ( SELECT COUNT(Y.FILE_NM)
                        FROM   VSK_VSL_PSN_PLNG_HDR Y
                        WHERE  Y.FILE_NM = @[file_nm]) < 1 THEN NULL
                 WHEN ( SELECT COUNT(Y.FILE_NM)
                        FROM   VSK_VSL_PSN_PLNG_HDR Y
                        WHERE  Y.FILE_NM = @[file_nm]) >= 1 THEN 'DUPLICATED'
			END
          , 'EDI_POLPSN_USER_ID'
          , SYSDATE
          , 'EDI_POLPSN_USER_ID'
          , SYSDATE
          )			]]></sql>
			<params>
				<param name="rcv_dt" type="12" value="" out="N"/>
				<param name="dly_rcv_seq" type="12" value="" out="N"/>
				<param name="file_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
