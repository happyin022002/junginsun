<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="OperationNPerformMasterDataMgtDBDAOTargetPortRSQL">
			<desc><![CDATA[2016.04.28 Arie Im CHM-201641178 아프리카 대륙 구주지역본부/동서남아지역본부 구분 로직 추가]]></desc>
			<sql><![CDATA[
SELECT loc_cd
, conti_cd
,  vop_port_flg
FROM(
	SELECT 
		loc_cd
	,	por_rhq as conti_cd
	,	'Y'     as vop_port_flg
	FROM (
--		SELECT LOC_CD, 'HAMRU' POR_RHQ
--		FROM   MDM_LOCATION
--		WHERE  DECODE(CONTI_CD, 'F', 'E', CONTI_CD) = 'E'
--		AND    NVL(DELT_FLG, 'N') = 'N'
--		AND    CALL_PORT_FLG = 'Y'
--		AND    VOP_PORT_FLG = 'Y'        
--                AND    LOC_CD NOT IN ('EGAIS','ZADUR','RUVVO')
--		UNION ALL
--		SELECT LOC_CD, 'NYCRA' POR_RHQ
--		FROM   MDM_LOCATION
--		WHERE  CONTI_CD  = 'M'
--		AND    NVL(DELT_FLG, 'N') = 'N'
--		AND    CALL_PORT_FLG = 'Y'
--		AND    VOP_PORT_FLG = 'Y'
--		UNION ALL
--		SELECT LOC_CD, DECODE(SCONTI_CD, 'AF', DECODE(CNT_CD,'KR','SELIB','JP','TYOIB','SHARC'), 'SINRS') POR_RHQ
--		FROM   MDM_LOCATION
--         	WHERE (CONTI_CD  = 'A' OR LOC_CD = 'EGAIS' OR LOC_CD = 'ZADUR')
--		AND    NVL(DELT_FLG, 'N') = 'N'
--		AND    CALL_PORT_FLG = 'Y'
--		AND    VOP_PORT_FLG = 'Y'
--		UNION ALL
--		SELECT LOC_CD, 'VVOIA' POR_RHQ
--        FROM   MDM_LOCATION
--        WHERE  CONTI_CD           = 'E'
--        AND    NVL(DELT_FLG, 'N') = 'N'
--        AND    CALL_PORT_FLG      = 'Y'
--        AND    LOC_CD             = 'RUVVO'
--        AND    VOP_PORT_FLG       = 'Y'
        SELECT L.LOC_CD, O.OFC_N3RD_LVL_CD POR_RHQ FROM MDM_LOCATION L, MAS_OFC_LVL O WHERE L.EQ_CTRL_OFC_CD = O.OFC_CD AND L.CALL_PORT_FLG = 'Y' AND L.DELT_FLG = 'N' AND O.OFC_APLY_TO_YRMON ='999912' AND O.OFC_LVL < 9 
	)
)
WHERE 1 = 1
#if (${conti_cd} != '') 
and	conti_cd like @[conti_cd]
#end
ORDER BY loc_cd			]]></sql>
			<params>
				<param name="conti_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
