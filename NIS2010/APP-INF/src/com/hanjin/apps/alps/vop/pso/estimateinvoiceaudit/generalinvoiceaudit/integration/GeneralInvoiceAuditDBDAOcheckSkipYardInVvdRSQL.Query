<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="GeneralInvoiceAuditDBDAOcheckSkipYardInVvdRSQL">
			<desc><![CDATA[입력된 VVD의 선택된 YARD의 SKD_CNG_STS_CD 가 'S'인지 아닌지 체크한다. (SKIP인지 아닌지 체크)

* History
* 2012.11.19 이혜민   CHM-201221185-01 [PSO] 항비 입력시 skip port 에 대한 pop up 메시지 추가 요청]]></desc>
			<sql><![CDATA[
SELECT MAX(FLAG) FLAG
FROM   (SELECT DECODE(COUNT(*), 0, 0, 1) FLAG
    	FROM VSK_VSL_PORT_SKD
		WHERE 1=1
        AND VSL_CD     = @[vsl_cd]
        AND SKD_VOY_NO = @[skd_voy_no]
        AND SKD_DIR_CD = @[skd_dir_cd]
        AND YD_CD      = @[yd_cd]
		AND NVL(SKD_CNG_STS_CD,' ')<>'S'
        UNION ALL
        SELECT NVL(MAX(1), 0) FLAG
        FROM AR_MST_REV_VVD
        WHERE 1=1
        AND DELT_FLG   = 'N'
        AND VSL_CD     = @[vsl_cd]
        AND SKD_VOY_NO = @[skd_voy_no]
        AND SKD_DIR_CD = @[skd_dir_cd]
)			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="skd_voy_no" type="12" value="" out="N"/>
				<param name="skd_dir_cd" type="12" value="" out="N"/>
				<param name="yd_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
