<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="ProformaScheduleMgtDBDAOSearchOldHireBaseRSQL">
			<desc><![CDATA[SearchOldHireBase]]></desc>
			<sql><![CDATA[
SELECT MAX(VSL_OWNR_FLG) AS VSL_OWNR_FLG,MAX(COL1) AS VSL_CSL1, MAX(COL2) AS VSL_CSL2, MAX(COL3) AS VSL_CSL3
FROM
    (SELECT  B.RN,A.VSL_OWNR_FLG,
            DECODE(A.RN, 1 , 
                DECODE(B.RN, 2,  OWNR_HIR_TEU_AMT,
                             3,  CHRG_HIR_TEU_AMT,
                             4,  OWNR_HIR_TTL_AMT,
                             5,  CHRG_HIR_TTL_AMT,
                             1,  DECODE(A.RN, 1, CNTR_DZN_CAPA))) COL1,
            DECODE(A.RN, 2,                
              DECODE(B.RN, 2,  OWNR_HIR_TEU_AMT,
                           3,  CHRG_HIR_TEU_AMT,
                           4,  OWNR_HIR_TTL_AMT,
                           5,  CHRG_HIR_TTL_AMT,  
                           1,  DECODE(A.RN, 2, CNTR_DZN_CAPA))) COL2,
            DECODE(A.RN, 3,               
              DECODE(B.RN, 2,  OWNR_HIR_TEU_AMT,
                           3,  CHRG_HIR_TEU_AMT,
                           4,  OWNR_HIR_TTL_AMT, 
                           5,  CHRG_HIR_TTL_AMT, 
                           1,  DECODE(A.RN, 3, CNTR_DZN_CAPA))) COL3               
    FROM   
    (SELECT  ROW_NUMBER() OVER (ORDER BY VSL_CLSS_CD) RN,
             VSL_CLSS_CD,
             VSL_OWNR_FLG,
			 CNTR_DZN_CAPA,
             OWNR_HIR_TEU_AMT,
             CHRG_HIR_TEU_AMT,
             OWNR_HIR_TTL_AMT,
             CHRG_HIR_TTL_AMT
    FROM    VSK_SLT_PRC_DTL
    WHERE   VSL_SLAN_CD = @[vsl_slan_cd]
    AND     PF_SVC_TP_CD = @[pf_svc_tp_cd]
    AND     SLT_PRC_WRK_YR = @[slt_prc_wrk_yr]
    AND     BSE_QTR_CD = @[bse_qtr_cd]
    ) A,(SELECT ROWNUM RN FROM DICT WHERE ROWNUM<=5) B
)    
GROUP BY RN 
ORDER BY RN			]]></sql>
			<params>
				<param name="vsl_slan_cd" type="12" value="" out="N"/>
				<param name="pf_svc_tp_cd" type="12" value="" out="N"/>
				<param name="slt_prc_wrk_yr" type="12" value="" out="N"/>
				<param name="bse_qtr_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
