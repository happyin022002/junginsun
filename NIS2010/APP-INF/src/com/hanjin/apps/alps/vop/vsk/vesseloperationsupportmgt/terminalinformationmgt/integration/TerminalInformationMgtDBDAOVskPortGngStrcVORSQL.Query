<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="TerminalInformationMgtDBDAOVskPortGngStrcVORSQL">
			<desc><![CDATA[   ]]></desc>
			<sql><![CDATA[
SELECT
	A.LOC_CD
,	CRN_SEQ
,	GNG_WRK_ST_HRMNT
,	GNG_WRK_END_HRMNT
,	GNG_NWORK_ST_HRMNT
,	GNG_NWORK_END_HRMNT
,	GNG_RMK
,	CRE_USR_ID
,	CRE_DT
,	UPD_USR_ID
,	UPD_DT
FROM VSK_PORT_GNG_STRC	A,
	(
		SELECT LOC_CD, 'HAMRU' POR_RHQ
		FROM   MDM_LOCATION
		WHERE  DECODE(CONTI_CD, 'F', 'E', CONTI_CD) = 'E'
		AND    NVL(DELT_FLG, 'N') = 'N'
		AND    CALL_PORT_FLG = 'Y'
		AND    LOC_CD <> 'RUVVO'
		UNION ALL
		SELECT LOC_CD, 'PHXRA' POR_RHQ
		FROM   MDM_LOCATION
		WHERE  CONTI_CD  = 'M'
		AND    NVL(DELT_FLG, 'N') = 'N'
		AND    CALL_PORT_FLG = 'Y'
		UNION ALL

        SELECT LOC_CD, DECODE(SCONTI_CD, 'AF', 'SHARC', 'SINRS') POR_RHQ
        FROM   MDM_LOCATION                                             
        WHERE  CONTI_CD  = 'A'                                          
        AND    NVL(DELT_FLG, 'N') = 'N' 
        AND    LOC_CD        NOT LIKE 'KR%' 
        AND    LOC_CD        NOT LIKE 'JP%'                                
        AND    CALL_PORT_FLG = 'Y'      
        
        UNION ALL                                                       
        SELECT LOC_CD, 'SELSC' POR_RHQ
        FROM   MDM_LOCATION                                             
        WHERE  CONTI_CD  = 'A'                                          
        AND    NVL(DELT_FLG, 'N') = 'N'  
        AND    LOC_CD        LIKE 'KR%'                                        
        AND    CALL_PORT_FLG = 'Y'   
        UNION ALL                                                       
        SELECT LOC_CD, 'TYOSC' POR_RHQ
        FROM   MDM_LOCATION                                             
        WHERE  CONTI_CD  = 'A'                                          
        AND    NVL(DELT_FLG, 'N') = 'N'   
        AND    LOC_CD        LIKE 'JP%'                                       
        AND    CALL_PORT_FLG = 'Y' 
		UNION ALL
		SELECT LOC_CD, 'VVOIA' POR_RHQ
		FROM   MDM_LOCATION
		WHERE  LOC_CD = 'RUVVO'
		AND    NVL(DELT_FLG, 'N') = 'N'
 		AND    CALL_PORT_FLG = 'Y'
	)B
WHERE A.LOC_CD = B.LOC_CD
AND B.POR_RHQ = @[por_rhq]
#if (${loc_cd} != '') 
AND	A.LOC_CD = @[loc_cd]
#end
ORDER BY A.LOC_CD,	A.CRN_SEQ			]]></sql>
			<params>
				<param name="por_rhq" type="12" value="" out="N"/>
				<param name="loc_cd" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
