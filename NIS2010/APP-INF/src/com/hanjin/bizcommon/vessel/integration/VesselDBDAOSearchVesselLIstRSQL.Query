<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="VesselDBDAOSearchVesselLIstRSQL">
			<desc><![CDATA[vessel list select]]></desc>
			<sql><![CDATA[
SELECT 	VSL_CD, 
		VSL_ENG_NM,
		CRR_CD,
    	VSL_NRT,
		RGST_PORT_CD,
		CALL_SGN_NO,
		LLOYD_NO,
		VSL_LNCH_DT
FROM (
	SELECT 	ROW_NUMBER() OVER (ORDER BY VSL_CD ASC) NO,
			VSL_CD,
			VSL_ENG_NM,
			CRR_CD,
			NET_RGST_TONG_WGT VSL_NRT,
			RGST_PORT_CD,
			CALL_SGN_NO,
			LLOYD_NO,
			ROUND((SYSDATE - VSL_LNCH_DT)/ 365) VSL_LNCH_DT
FROM MDM_VSL_CNTR
WHERE 1 = 1
#if (${vsl_cd} != '')
           	AND VSL_CD LIKE @[vsl_cd] || '%'
#end    
#if (${vsl_eng_nm} != '')
           	AND VSL_ENG_NM LIKE @[vsl_eng_nm]||'%'
#end    
#if (${crr_cd} != '')
           	AND CRR_CD LIKE @[crr_cd] || '%'
#end	
#if (${call_sgn_no} != '')
			AND call_sgn_no = @[call_sgn_no]
#end
#if (${lloyd_no} != '')
			AND lloyd_no = @[lloyd_no]
#end
           AND NVL(DELT_FLG, 'N') <> 'Y'
) A
WHERE NO BETWEEN @[startpart] AND @[endpart]			]]></sql>
			<params>
				<param name="vsl_cd" type="12" value="" out="N"/>
				<param name="vsl_eng_nm" type="12" value="" out="N"/>
				<param name="crr_cd" type="12" value="" out="N"/>
				<param name="call_sgn_no" type="12" value="" out="N"/>
				<param name="lloyd_no" type="12" value="" out="N"/>
				<param name="startpart" type="12" value="" out="N"/>
				<param name="endpart" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
