<?xml version="1.0" encoding="UTF-8"?>
<sqls>
	<querys>
		<query name="BookmarkManagementDAOComBookmarkCSQL">
			<desc><![CDATA[insert com_Bookmark]]></desc>
			<sql><![CDATA[
INSERT INTO COM_BOOKMARK (
USR_ID, 
#if(${prnt_pgm_no} == '')
FOL_FLG,
#end
PGM_NO,
DP_SEQ,
DP_NM,
PRNT_PGM_NO,
CRE_DT,
CRE_USR_ID,
UPD_DT,
UPD_USR_ID
)
SELECT
	@[usr_id],
#if(${prnt_pgm_no} == '')
'Y',
(select nvl(max(dp_seq)+1,1) from com_bookmark where usr_id=@[usr_id]),
#else
	@[pgm_no],
#end
#if(${prnt_pgm_no} != '')
(select nvl(max(dp_seq) +1,1) from com_bookmark where usr_id=@[usr_id] and prnt_pgm_no=@[prnt_pgm_no]),
#else
(select nvl(max(dp_seq) +1,1) from com_bookmark where usr_id=@[usr_id]),
#end
	@[dp_nm],
	@[prnt_pgm_no],
	sysdate,
	@[usr_id],
	sysdate,
	@[usr_id]
from dual			]]></sql>
			<params>
				<param name="usr_id" type="12" value="" out="N"/>
				<param name="pgm_no" type="12" value="" out="N"/>
				<param name="prnt_pgm_no" type="12" value="" out="N"/>
				<param name="dp_nm" type="12" value="" out="N"/>
			</params>
		</query>
	</querys>
</sqls>
